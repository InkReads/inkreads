function TO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function h1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fy={exports:{}},jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function xO(){if(hx)return jc;hx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var u=null;if(a!==void 0&&(u=""+a),s.key!==void 0&&(u=""+s.key),"key"in s){a={};for(var f in s)f!=="key"&&(a[f]=s[f])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:a}}return jc.Fragment=e,jc.jsx=n,jc.jsxs=n,jc}var dx;function SO(){return dx||(dx=1,Fy.exports=xO()),Fy.exports}var w=SO(),zy={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function AO(){if(mx)return Ge;mx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function I(U,oe,ye){this.props=U,this.context=oe,this.refs=R,this.updater=ye||E}I.prototype.isReactComponent={},I.prototype.setState=function(U,oe){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,oe,"setState")},I.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function N(){}N.prototype=I.prototype;function L(U,oe,ye){this.props=U,this.context=oe,this.refs=R,this.updater=ye||E}var V=L.prototype=new N;V.constructor=L,A(V,I.prototype),V.isPureReactComponent=!0;var $=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function k(U,oe,ye,te,pe,Te){return ye=Te.ref,{$$typeof:t,type:U,key:oe,ref:ye!==void 0?ye:null,props:Te}}function C(U,oe){return k(U.type,oe,void 0,void 0,void 0,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function j(U){var oe={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ye){return oe[ye]})}var z=/\/+/g;function B(U,oe){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):oe.toString(36)}function O(){}function _e(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(O,O):(U.status="pending",U.then(function(oe){U.status==="pending"&&(U.status="fulfilled",U.value=oe)},function(oe){U.status==="pending"&&(U.status="rejected",U.reason=oe)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Ce(U,oe,ye,te,pe){var Te=typeof U;(Te==="undefined"||Te==="boolean")&&(U=null);var xe=!1;if(U===null)xe=!0;else switch(Te){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(U.$$typeof){case t:case e:xe=!0;break;case g:return xe=U._init,Ce(xe(U._payload),oe,ye,te,pe)}}if(xe)return pe=pe(U),xe=te===""?"."+B(U,0):te,$(pe)?(ye="",xe!=null&&(ye=xe.replace(z,"$&/")+"/"),Ce(pe,oe,ye,"",function(qe){return qe})):pe!=null&&(P(pe)&&(pe=C(pe,ye+(pe.key==null||U&&U.key===pe.key?"":(""+pe.key).replace(z,"$&/")+"/")+xe)),oe.push(pe)),1;xe=0;var Re=te===""?".":te+":";if($(U))for(var Se=0;Se<U.length;Se++)te=U[Se],Te=Re+B(te,Se),xe+=Ce(te,oe,ye,Te,pe);else if(Se=_(U),typeof Se=="function")for(U=Se.call(U),Se=0;!(te=U.next()).done;)te=te.value,Te=Re+B(te,Se++),xe+=Ce(te,oe,ye,Te,pe);else if(Te==="object"){if(typeof U.then=="function")return Ce(_e(U),oe,ye,te,pe);throw oe=String(U),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return xe}function K(U,oe,ye){if(U==null)return U;var te=[],pe=0;return Ce(U,te,"","",function(Te){return oe.call(ye,Te,pe++)}),te}function ie(U){if(U._status===-1){var oe=U._result;oe=oe(),oe.then(function(ye){(U._status===0||U._status===-1)&&(U._status=1,U._result=ye)},function(ye){(U._status===0||U._status===-1)&&(U._status=2,U._result=ye)}),U._status===-1&&(U._status=0,U._result=oe)}if(U._status===1)return U._result.default;throw U._result}var Q=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function me(){}return Ge.Children={map:K,forEach:function(U,oe,ye){K(U,function(){oe.apply(this,arguments)},ye)},count:function(U){var oe=0;return K(U,function(){oe++}),oe},toArray:function(U){return K(U,function(oe){return oe})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ge.Component=I,Ge.Fragment=n,Ge.Profiler=s,Ge.PureComponent=L,Ge.StrictMode=r,Ge.Suspense=h,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(U){return q.H.useMemoCache(U)}},Ge.cache=function(U){return function(){return U.apply(null,arguments)}},Ge.cloneElement=function(U,oe,ye){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var te=A({},U.props),pe=U.key,Te=void 0;if(oe!=null)for(xe in oe.ref!==void 0&&(Te=void 0),oe.key!==void 0&&(pe=""+oe.key),oe)!se.call(oe,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&oe.ref===void 0||(te[xe]=oe[xe]);var xe=arguments.length-2;if(xe===1)te.children=ye;else if(1<xe){for(var Re=Array(xe),Se=0;Se<xe;Se++)Re[Se]=arguments[Se+2];te.children=Re}return k(U.type,pe,void 0,void 0,Te,te)},Ge.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Ge.createElement=function(U,oe,ye){var te,pe={},Te=null;if(oe!=null)for(te in oe.key!==void 0&&(Te=""+oe.key),oe)se.call(oe,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(pe[te]=oe[te]);var xe=arguments.length-2;if(xe===1)pe.children=ye;else if(1<xe){for(var Re=Array(xe),Se=0;Se<xe;Se++)Re[Se]=arguments[Se+2];pe.children=Re}if(U&&U.defaultProps)for(te in xe=U.defaultProps,xe)pe[te]===void 0&&(pe[te]=xe[te]);return k(U,Te,void 0,void 0,null,pe)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(U){return{$$typeof:f,render:U}},Ge.isValidElement=P,Ge.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:ie}},Ge.memo=function(U,oe){return{$$typeof:m,type:U,compare:oe===void 0?null:oe}},Ge.startTransition=function(U){var oe=q.T,ye={};q.T=ye;try{var te=U(),pe=q.S;pe!==null&&pe(ye,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(me,Q)}catch(Te){Q(Te)}finally{q.T=oe}},Ge.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ge.use=function(U){return q.H.use(U)},Ge.useActionState=function(U,oe,ye){return q.H.useActionState(U,oe,ye)},Ge.useCallback=function(U,oe){return q.H.useCallback(U,oe)},Ge.useContext=function(U){return q.H.useContext(U)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(U,oe){return q.H.useDeferredValue(U,oe)},Ge.useEffect=function(U,oe,ye){var te=q.H;if(typeof ye=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(U,oe)},Ge.useId=function(){return q.H.useId()},Ge.useImperativeHandle=function(U,oe,ye){return q.H.useImperativeHandle(U,oe,ye)},Ge.useInsertionEffect=function(U,oe){return q.H.useInsertionEffect(U,oe)},Ge.useLayoutEffect=function(U,oe){return q.H.useLayoutEffect(U,oe)},Ge.useMemo=function(U,oe){return q.H.useMemo(U,oe)},Ge.useOptimistic=function(U,oe){return q.H.useOptimistic(U,oe)},Ge.useReducer=function(U,oe,ye){return q.H.useReducer(U,oe,ye)},Ge.useRef=function(U){return q.H.useRef(U)},Ge.useState=function(U){return q.H.useState(U)},Ge.useSyncExternalStore=function(U,oe,ye){return q.H.useSyncExternalStore(U,oe,ye)},Ge.useTransition=function(){return q.H.useTransition()},Ge.version="19.1.0",Ge}var px;function Zm(){return px||(px=1,zy.exports=AO()),zy.exports}var x=Zm();const Mt=h1(x),d1=TO({__proto__:null,default:Mt},[x]);var Hy={exports:{}},Uc={},qy={exports:{}},Gy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function RO(){return gx||(gx=1,function(t){function e(K,ie){var Q=K.length;K.push(ie);e:for(;0<Q;){var me=Q-1>>>1,U=K[me];if(0<s(U,ie))K[me]=ie,K[Q]=U,Q=me;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],Q=K.pop();if(Q!==ie){K[0]=Q;e:for(var me=0,U=K.length,oe=U>>>1;me<oe;){var ye=2*(me+1)-1,te=K[ye],pe=ye+1,Te=K[pe];if(0>s(te,Q))pe<U&&0>s(Te,te)?(K[me]=Te,K[pe]=Q,me=pe):(K[me]=te,K[ye]=Q,me=ye);else if(pe<U&&0>s(Te,Q))K[me]=Te,K[pe]=Q,me=pe;else break e}}return ie}function s(K,ie){var Q=K.sortIndex-ie.sortIndex;return Q!==0?Q:K.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],m=[],g=1,v=null,_=3,E=!1,A=!1,R=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(K){for(var ie=n(m);ie!==null;){if(ie.callback===null)r(m);else if(ie.startTime<=K)r(m),ie.sortIndex=ie.expirationTime,e(h,ie);else break;ie=n(m)}}function q(K){if(R=!1,$(K),!A)if(n(h)!==null)A=!0,se||(se=!0,B());else{var ie=n(m);ie!==null&&Ce(q,ie.startTime-K)}}var se=!1,k=-1,C=5,P=-1;function j(){return I?!0:!(t.unstable_now()-P<C)}function z(){if(I=!1,se){var K=t.unstable_now();P=K;var ie=!0;try{e:{A=!1,R&&(R=!1,L(k),k=-1),E=!0;var Q=_;try{t:{for($(K),v=n(h);v!==null&&!(v.expirationTime>K&&j());){var me=v.callback;if(typeof me=="function"){v.callback=null,_=v.priorityLevel;var U=me(v.expirationTime<=K);if(K=t.unstable_now(),typeof U=="function"){v.callback=U,$(K),ie=!0;break t}v===n(h)&&r(h),$(K)}else r(h);v=n(h)}if(v!==null)ie=!0;else{var oe=n(m);oe!==null&&Ce(q,oe.startTime-K),ie=!1}}break e}finally{v=null,_=Q,E=!1}ie=void 0}}finally{ie?B():se=!1}}}var B;if(typeof V=="function")B=function(){V(z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,_e=O.port2;O.port1.onmessage=z,B=function(){_e.postMessage(null)}}else B=function(){N(z,0)};function Ce(K,ie){k=N(function(){K(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(K){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var Q=_;_=ie;try{return K()}finally{_=Q}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=_;_=K;try{return ie()}finally{_=Q}},t.unstable_scheduleCallback=function(K,ie,Q){var me=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?me+Q:me):Q=me,K){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Q+U,K={id:g++,callback:ie,priorityLevel:K,startTime:Q,expirationTime:U,sortIndex:-1},Q>me?(K.sortIndex=Q,e(m,K),n(h)===null&&K===n(m)&&(R?(L(k),k=-1):R=!0,Ce(q,Q-me))):(K.sortIndex=U,e(h,K),A||E||(A=!0,se||(se=!0,B()))),K},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(K){var ie=_;return function(){var Q=_;_=ie;try{return K.apply(this,arguments)}finally{_=Q}}}}(Gy)),Gy}var yx;function CO(){return yx||(yx=1,qy.exports=RO()),qy.exports}var $y={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function IO(){if(vx)return xn;vx=1;var t=Zm();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xn.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(h,m,null,g)},xn.flushSync=function(h){var m=u.T,g=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=m,r.p=g,r.d.f()}},xn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(h,m))},xn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},xn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:E}):g==="script"&&r.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},xn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(h)},xn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin);r.d.L(h,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},xn.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(h)},xn.requestFormReset=function(h){r.d.r(h)},xn.unstable_batchedUpdates=function(h,m){return h(m)},xn.useFormState=function(h,m,g){return u.H.useFormState(h,m,g)},xn.useFormStatus=function(){return u.H.useHostTransitionStatus()},xn.version="19.1.0",xn}var _x;function m1(){if(_x)return $y.exports;_x=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$y.exports=IO(),$y.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx;function DO(){if(bx)return Uc;bx=1;var t=CO(),e=Zm(),n=m1();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function u(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(a(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,c=o;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return f(p),i;if(y===c)return f(p),o;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=y;else{for(var S=!1,D=p.child;D;){if(D===l){S=!0,l=p,c=y;break}if(D===c){S=!0,c=p,l=y;break}D=D.sibling}if(!S){for(D=y.child;D;){if(D===l){S=!0,l=y,c=p;break}if(D===c){S=!0,c=y,l=p;break}D=D.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function _e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case I:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case se:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case V:return(i.displayName||"Context")+".Provider";case L:return(i._context.displayName||"Context")+".Consumer";case $:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return o=i.displayName||null,o!==null?o:_e(i.type)||"Memo";case C:o=i._payload,i=i._init;try{return _e(i(o))}catch{}}return null}var Ce=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},me=[],U=-1;function oe(i){return{current:i}}function ye(i){0>U||(i.current=me[U],me[U]=null,U--)}function te(i,o){U++,me[U]=i.current,i.current=o}var pe=oe(null),Te=oe(null),xe=oe(null),Re=oe(null);function Se(i,o){switch(te(xe,o),te(Te,i),te(pe,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?BT(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=BT(o),i=FT(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ye(pe),te(pe,i)}function qe(){ye(pe),ye(Te),ye(xe)}function lt(i){i.memoizedState!==null&&te(Re,i);var o=pe.current,l=FT(o,i.type);o!==l&&(te(Te,i),te(pe,l))}function tt(i){Te.current===i&&(ye(pe),ye(Te)),Re.current===i&&(ye(Re),Pc._currentValue=Q)}var on=Object.prototype.hasOwnProperty,Pn=t.unstable_scheduleCallback,Zn=t.unstable_cancelCallback,Oi=t.unstable_shouldYield,Vi=t.unstable_requestPaint,dn=t.unstable_now,zo=t.unstable_getCurrentPriorityLevel,hr=t.unstable_ImmediatePriority,Ho=t.unstable_UserBlockingPriority,Xr=t.unstable_NormalPriority,H=t.unstable_LowPriority,J=t.unstable_IdlePriority,ae=t.log,Ee=t.unstable_setDisableYieldValue,ge=null,fe=null;function be(i){if(typeof ae=="function"&&Ee(i),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(ge,i)}catch{}}var Le=Math.clz32?Math.clz32:Li,wt=Math.log,Bt=Math.LN2;function Li(i){return i>>>=0,i===0?32:31-(wt(i)/Bt|0)|0}var Dr=256,Nr=4194304;function Jn(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ji(i,o,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,y=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var D=c&134217727;return D!==0?(c=D&~y,c!==0?p=Jn(c):(S&=D,S!==0?p=Jn(S):l||(l=D&~i,l!==0&&(p=Jn(l))))):(D=c&~y,D!==0?p=Jn(D):S!==0?p=Jn(S):l||(l=c&~i,l!==0&&(p=Jn(l)))),p===0?0:o!==0&&o!==p&&(o&y)===0&&(y=p&-p,l=o&-o,y>=l||y===32&&(l&4194048)!==0)?o:p}function Ui(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Ms(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ku(){var i=Dr;return Dr<<=1,(Dr&4194048)===0&&(Dr=256),i}function Ou(){var i=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),i}function Bi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Fi(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Vu(i,o,l,c,p,y){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var D=i.entanglements,F=i.expirationTimes,Z=i.hiddenUpdates;for(l=S&~l;0<l;){var le=31-Le(l),he=1<<le;D[le]=0,F[le]=-1;var ee=Z[le];if(ee!==null)for(Z[le]=null,le=0;le<ee.length;le++){var ne=ee[le];ne!==null&&(ne.lane&=-536870913)}l&=~he}c!==0&&Zr(i,c,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(S&~o))}function Zr(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var c=31-Le(o);i.entangledLanes|=o,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Lu(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var c=31-Le(l),p=1<<c;p&o|i[c]&o&&(i[c]|=o),l&=~p}}function Ps(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function qa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ks(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:ox(i.type))}function uh(i,o){var l=ie.p;try{return ie.p=i,o()}finally{ie.p=l}}var Tt=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Tt,Ft="__reactProps$"+Tt,dr="__reactContainer$"+Tt,ju="__reactEvents$"+Tt,qp="__reactListeners$"+Tt,Os="__reactHandles$"+Tt,ch="__reactResources$"+Tt,qo="__reactMarker$"+Tt;function Vs(i){delete i[Yt],delete i[Ft],delete i[ju],delete i[qp],delete i[Os]}function zi(i){var o=i[Yt];if(o)return o;for(var l=i.parentNode;l;){if(o=l[dr]||l[Yt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=GT(i);i!==null;){if(l=i[Yt])return l;i=GT(i)}return o}i=l,l=i.parentNode}return null}function Jr(i){if(i=i[Yt]||i[dr]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function ei(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function kn(i){var o=i[ch];return o||(o=i[ch]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Pt(i){i[qo]=!0}var Uu=new Set,Ga={};function Mr(i,o){Hi(i,o),Hi(i+"Capture",o)}function Hi(i,o){for(Ga[i]=o,i=0;i<o.length;i++)Uu.add(o[i])}var fh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hh={},Go={};function dh(i){return on.call(Go,i)?!0:on.call(hh,i)?!1:fh.test(i)?Go[i]=!0:(hh[i]=!0,!1)}function Ls(i,o,l){if(dh(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function ti(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function mn(i,o,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+c)}}var $o,mh;function qi(i){if($o===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);$o=o&&o[1]||"",mh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$o+i+mh}var $a=!1;function Ka(i,o){if(!i||$a)return"";$a=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ne){var ee=ne}Reflect.construct(i,[],he)}else{try{he.call()}catch(ne){ee=ne}i.call(he.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),S=y[0],D=y[1];if(S&&D){var F=S.split(`
`),Z=D.split(`
`);for(p=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(c===F.length||p===Z.length)for(c=F.length-1,p=Z.length-1;1<=c&&0<=p&&F[c]!==Z[p];)p--;for(;1<=c&&0<=p;c--,p--)if(F[c]!==Z[p]){if(c!==1||p!==1)do if(c--,p--,0>p||F[c]!==Z[p]){var le=`
`+F[c].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=c&&0<=p);break}}}finally{$a=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?qi(l):""}function Bu(i){switch(i.tag){case 26:case 27:case 5:return qi(i.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return Ka(i.type,!1);case 11:return Ka(i.type.render,!1);case 1:return Ka(i.type,!0);case 31:return qi("Activity");default:return""}}function Ya(i){try{var o="";do o+=Bu(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function On(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Fu(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Gp(i){var o=Fu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),c=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(S){c=""+S,y.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Wa(i){i._valueTracker||(i._valueTracker=Gp(i))}function zu(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return i&&(c=Fu(i)?i.checked?"true":"false":i.value),i=c,i!==l?(o.setValue(i),!0):!1}function Ko(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var $p=/[\n"\\]/g;function zt(i){return i.replace($p,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function er(i,o,l,c,p,y,S,D){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),o!=null?S==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+On(o)):i.value!==""+On(o)&&(i.value=""+On(o)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),o!=null?js(i,S,On(o)):l!=null?js(i,S,On(l)):c!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+On(D):i.removeAttribute("name")}function Yo(i,o,l,c,p,y,S,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),o!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;l=l!=null?""+On(l):"",o=o!=null?""+On(o):l,D||o===i.value||(i.value=o),i.defaultValue=o}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=D?i.checked:!!c,i.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function js(i,o,l){o==="number"&&Ko(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Gi(i,o,l,c){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+On(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function dt(i,o,l){if(o!=null&&(o=""+On(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+On(l):""}function Wo(i,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(r(92));if(Ce(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=On(o),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function mr(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Qo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ph(i,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":c?i.setProperty(o,l):typeof l!="number"||l===0||Qo.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function Hu(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in o)c=o[p],o.hasOwnProperty(p)&&l[p]!==c&&ph(i,p,c)}else for(var y in o)o.hasOwnProperty(y)&&ph(i,y,o[y])}function qu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(i){return Yp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var $i=null;function pr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ki=null,Yi=null;function Gu(i){var o=Jr(i);if(o&&(i=o.stateNode)){var l=i[Ft]||null;e:switch(i=o.stateNode,o.type){case"input":if(er(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+zt(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==i&&c.form===i.form){var p=c[Ft]||null;if(!p)throw Error(r(90));er(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===i.form&&zu(c)}break e;case"textarea":dt(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Gi(i,!!l.multiple,o,!1)}}}var ni=!1;function gh(i,o,l){if(ni)return i(o,l);ni=!0;try{var c=i(o);return c}finally{if(ni=!1,(Ki!==null||Yi!==null)&&(ud(),Ki&&(o=Ki,i=Yi,Yi=Ki=null,Gu(o),i)))for(o=0;o<i.length;o++)Gu(i[o])}}function Xo(i,o){var l=i.stateNode;if(l===null)return null;var c=l[Ft]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(Pr)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){gr=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{gr=!1}var ri=null,Us=null,Wi=null;function $u(){if(Wi)return Wi;var i,o=Us,l=o.length,c,p="value"in ri?ri.value:ri.textContent,y=p.length;for(i=0;i<l&&o[i]===p[i];i++);var S=l-i;for(c=1;c<=S&&o[l-c]===p[y-c];c++);return Wi=p.slice(i,1<c?1-c:void 0)}function ii(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function si(){return!0}function Ku(){return!1}function an(i){function o(l,c,p,y,S){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?si:Ku,this.isPropagationStopped=Ku,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),o}var ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=an(ut),Jo=g({},ut,{view:0,detail:0}),yh=an(Jo),Za,Ja,oi,ea=g({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==oi&&(oi&&i.type==="mousemove"?(Za=i.screenX-oi.screenX,Ja=i.screenY-oi.screenY):Ja=Za=0,oi=i),Za)},movementY:function(i){return"movementY"in i?i.movementY:Ja}}),yr=an(ea),vh=g({},ea,{dataTransfer:0}),Wp=an(vh),ta=g({},Jo,{relatedTarget:0}),el=an(ta),Yu=g({},ut,{animationName:0,elapsedTime:0,pseudoElement:0}),tl=an(Yu),_h=g({},ut,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nl=an(_h),Qp=g({},ut,{data:0}),Wu=an(Qp),na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=wh[i])?!!o[i]:!1}function ra(){return Qu}var Eh=g({},Jo,{key:function(i){if(i.key){var o=na[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ii(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?bh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(i){return i.type==="keypress"?ii(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ii(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),rl=an(Eh),Th=g({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xu=an(Th),Qi=g({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),xh=an(Qi),Sh=g({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ah=an(Sh),Rh=g({},ea,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),il=an(Rh),Vn=g({},ut,{newState:0,oldState:0}),Ch=an(Vn),Ih=[9,13,27,32],ai=Pr&&"CompositionEvent"in window,d=null;Pr&&"documentMode"in document&&(d=document.documentMode);var b=Pr&&"TextEvent"in window&&!d,T=Pr&&(!ai||d&&8<d&&11>=d),M=" ",W=!1;function re(i,o){switch(i){case"keyup":return Ih.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var nt=!1;function Wt(i,o){switch(i){case"compositionend":return ve(o);case"keypress":return o.which!==32?null:(W=!0,M);case"textInput":return i=o.data,i===M&&W?null:i;default:return null}}function rt(i,o){if(nt)return i==="compositionend"||!ai&&re(i,o)?(i=$u(),Wi=Us=ri=null,nt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return T&&o.locale!=="ko"?null:o.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qt(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!ln[i.type]:o==="textarea"}function Xi(i,o,l,c){Ki?Yi?Yi.push(c):Yi=[c]:Ki=c,o=pd(o,"onChange"),0<o.length&&(l=new Xa("onChange","change",null,l,c),i.push({event:l,listeners:o}))}var pn=null,li=null;function Zu(i){OT(i,0)}function Dh(i){var o=ei(i);if(zu(o))return i}function nw(i,o){if(i==="change")return o}var rw=!1;if(Pr){var Xp;if(Pr){var Zp="oninput"in document;if(!Zp){var iw=document.createElement("div");iw.setAttribute("oninput","return;"),Zp=typeof iw.oninput=="function"}Xp=Zp}else Xp=!1;rw=Xp&&(!document.documentMode||9<document.documentMode)}function sw(){pn&&(pn.detachEvent("onpropertychange",ow),li=pn=null)}function ow(i){if(i.propertyName==="value"&&Dh(li)){var o=[];Xi(o,li,i,pr(i)),gh(Zu,o)}}function JP(i,o,l){i==="focusin"?(sw(),pn=o,li=l,pn.attachEvent("onpropertychange",ow)):i==="focusout"&&sw()}function ek(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Dh(li)}function tk(i,o){if(i==="click")return Dh(o)}function nk(i,o){if(i==="input"||i==="change")return Dh(o)}function rk(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var tr=typeof Object.is=="function"?Object.is:rk;function Ju(i,o){if(tr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!on.call(o,p)||!tr(i[p],o[p]))return!1}return!0}function aw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function lw(i,o){var l=aw(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=o&&c>=o)return{node:l,offset:o-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=aw(l)}}function uw(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?uw(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function cw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Ko(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Ko(i.document)}return o}function Jp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var ik=Pr&&"documentMode"in document&&11>=document.documentMode,sl=null,eg=null,ec=null,tg=!1;function fw(i,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;tg||sl==null||sl!==Ko(c)||(c=sl,"selectionStart"in c&&Jp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ec&&Ju(ec,c)||(ec=c,c=pd(eg,"onSelect"),0<c.length&&(o=new Xa("onSelect","select",null,o,l),i.push({event:o,listeners:c}),o.target=sl)))}function ia(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var ol={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},ng={},hw={};Pr&&(hw=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function sa(i){if(ng[i])return ng[i];if(!ol[i])return i;var o=ol[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in hw)return ng[i]=o[l];return i}var dw=sa("animationend"),mw=sa("animationiteration"),pw=sa("animationstart"),sk=sa("transitionrun"),ok=sa("transitionstart"),ak=sa("transitioncancel"),gw=sa("transitionend"),yw=new Map,rg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rg.push("scrollEnd");function kr(i,o){yw.set(i,o),Mr(o,[i])}var vw=new WeakMap;function vr(i,o){if(typeof i=="object"&&i!==null){var l=vw.get(i);return l!==void 0?l:(o={value:i,source:o,stack:Ya(o)},vw.set(i,o),o)}return{value:i,source:o,stack:Ya(o)}}var _r=[],al=0,ig=0;function Nh(){for(var i=al,o=ig=al=0;o<i;){var l=_r[o];_r[o++]=null;var c=_r[o];_r[o++]=null;var p=_r[o];_r[o++]=null;var y=_r[o];if(_r[o++]=null,c!==null&&p!==null){var S=c.pending;S===null?p.next=p:(p.next=S.next,S.next=p),c.pending=p}y!==0&&_w(l,p,y)}}function Mh(i,o,l,c){_r[al++]=i,_r[al++]=o,_r[al++]=l,_r[al++]=c,ig|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function sg(i,o,l,c){return Mh(i,o,l,c),Ph(i)}function ll(i,o){return Mh(i,null,null,o),Ph(i)}function _w(i,o,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&o!==null&&(p=31-Le(l),i=y.hiddenUpdates,c=i[p],c===null?i[p]=[o]:c.push(o),o.lane=l|536870912),y):null}function Ph(i){if(50<Sc)throw Sc=0,fy=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var ul={};function lk(i,o,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(i,o,l,c){return new lk(i,o,l,c)}function og(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zi(i,o){var l=i.alternate;return l===null?(l=nr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function bw(i,o){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function kh(i,o,l,c,p,y){var S=0;if(c=i,typeof i=="function")og(i)&&(S=1);else if(typeof i=="string")S=cO(i,l,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=nr(31,l,o,p),i.elementType=P,i.lanes=y,i;case A:return oa(l.children,p,y,o);case R:S=8,p|=24;break;case I:return i=nr(12,l,o,p|2),i.elementType=I,i.lanes=y,i;case q:return i=nr(13,l,o,p),i.elementType=q,i.lanes=y,i;case se:return i=nr(19,l,o,p),i.elementType=se,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:case V:S=10;break e;case L:S=9;break e;case $:S=11;break e;case k:S=14;break e;case C:S=16,c=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return o=nr(S,l,o,p),o.elementType=i,o.type=c,o.lanes=y,o}function oa(i,o,l,c){return i=nr(7,i,c,o),i.lanes=l,i}function ag(i,o,l){return i=nr(6,i,null,o),i.lanes=l,i}function lg(i,o,l){return o=nr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var cl=[],fl=0,Oh=null,Vh=0,br=[],wr=0,aa=null,Ji=1,es="";function la(i,o){cl[fl++]=Vh,cl[fl++]=Oh,Oh=i,Vh=o}function ww(i,o,l){br[wr++]=Ji,br[wr++]=es,br[wr++]=aa,aa=i;var c=Ji;i=es;var p=32-Le(c)-1;c&=~(1<<p),l+=1;var y=32-Le(o)+p;if(30<y){var S=p-p%5;y=(c&(1<<S)-1).toString(32),c>>=S,p-=S,Ji=1<<32-Le(o)+p|l<<p|c,es=y+i}else Ji=1<<y|l<<p|c,es=i}function ug(i){i.return!==null&&(la(i,1),ww(i,1,0))}function cg(i){for(;i===Oh;)Oh=cl[--fl],cl[fl]=null,Vh=cl[--fl],cl[fl]=null;for(;i===aa;)aa=br[--wr],br[wr]=null,es=br[--wr],br[wr]=null,Ji=br[--wr],br[wr]=null}var Ln=null,It=null,at=!1,ua=null,ui=!1,fg=Error(r(519));function ca(i){var o=Error(r(418,""));throw rc(vr(o,i)),fg}function Ew(i){var o=i.stateNode,l=i.type,c=i.memoizedProps;switch(o[Yt]=i,o[Ft]=c,l){case"dialog":Ze("cancel",o),Ze("close",o);break;case"iframe":case"object":case"embed":Ze("load",o);break;case"video":case"audio":for(l=0;l<Rc.length;l++)Ze(Rc[l],o);break;case"source":Ze("error",o);break;case"img":case"image":case"link":Ze("error",o),Ze("load",o);break;case"details":Ze("toggle",o);break;case"input":Ze("invalid",o),Yo(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Wa(o);break;case"select":Ze("invalid",o);break;case"textarea":Ze("invalid",o),Wo(o,c.value,c.defaultValue,c.children),Wa(o)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||UT(o.textContent,l)?(c.popover!=null&&(Ze("beforetoggle",o),Ze("toggle",o)),c.onScroll!=null&&Ze("scroll",o),c.onScrollEnd!=null&&Ze("scrollend",o),c.onClick!=null&&(o.onclick=gd),o=!0):o=!1,o||ca(i)}function Tw(i){for(Ln=i.return;Ln;)switch(Ln.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:Ln=Ln.return}}function tc(i){if(i!==Ln)return!1;if(!at)return Tw(i),at=!0,!1;var o=i.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Ry(i.type,i.memoizedProps)),l=!l),l&&It&&ca(i),Tw(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){It=Vr(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}It=null}}else o===27?(o=It,to(i.type)?(i=Ny,Ny=null,It=i):It=o):It=Ln?Vr(i.stateNode.nextSibling):null;return!0}function nc(){It=Ln=null,at=!1}function xw(){var i=ua;return i!==null&&(Yn===null?Yn=i:Yn.push.apply(Yn,i),ua=null),i}function rc(i){ua===null?ua=[i]:ua.push(i)}var hg=oe(null),fa=null,ts=null;function Bs(i,o,l){te(hg,o._currentValue),o._currentValue=l}function ns(i){i._currentValue=hg.current,ye(hg)}function dg(i,o,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),i===l)break;i=i.return}}function mg(i,o,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var S=p.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=p;for(var F=0;F<o.length;F++)if(D.context===o[F]){y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),dg(y.return,l,i),c||(S=null);break e}y=D.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),dg(S,l,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function ic(i,o,l,c){i=null;for(var p=o,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var D=p.type;tr(p.pendingProps.value,S.value)||(i!==null?i.push(D):i=[D])}}else if(p===Re.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Pc):i=[Pc])}p=p.return}i!==null&&mg(o,i,l,c),o.flags|=262144}function Lh(i){for(i=i.firstContext;i!==null;){if(!tr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ha(i){fa=i,ts=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Tn(i){return Sw(fa,i)}function jh(i,o){return fa===null&&ha(i),Sw(i,o)}function Sw(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},ts===null){if(i===null)throw Error(r(308));ts=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ts=ts.next=o;return l}var uk=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},ck=t.unstable_scheduleCallback,fk=t.unstable_NormalPriority,Xt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pg(){return{controller:new uk,data:new Map,refCount:0}}function sc(i){i.refCount--,i.refCount===0&&ck(fk,function(){i.controller.abort()})}var oc=null,gg=0,hl=0,dl=null;function hk(i,o){if(oc===null){var l=oc=[];gg=0,hl=vy(),dl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return gg++,o.then(Aw,Aw),o}function Aw(){if(--gg===0&&oc!==null){dl!==null&&(dl.status="fulfilled");var i=oc;oc=null,hl=0,dl=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function dk(i,o){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=o;for(var p=0;p<l.length;p++)(0,l[p])(o)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var Rw=K.S;K.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&hk(i,o),Rw!==null&&Rw(i,o)};var da=oe(null);function yg(){var i=da.current;return i!==null?i:vt.pooledCache}function Uh(i,o){o===null?te(da,da.current):te(da,o.pool)}function Cw(){var i=yg();return i===null?null:{parent:Xt._currentValue,pool:i}}var ac=Error(r(460)),Iw=Error(r(474)),Bh=Error(r(542)),vg={then:function(){}};function Dw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fh(){}function Nw(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(Fh,Fh),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Pw(i),i;default:if(typeof o.status=="string")o.then(Fh,Fh);else{if(i=vt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(c){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=c}},function(c){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Pw(i),i}throw lc=o,ac}}var lc=null;function Mw(){if(lc===null)throw Error(r(459));var i=lc;return lc=null,i}function Pw(i){if(i===ac||i===Bh)throw Error(r(483))}var Fs=!1;function _g(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Hs(i,o,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ft&2)!==0){var p=c.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),c.pending=o,o=Ph(i),_w(i,null,l),o}return Mh(i,c,o,l),Ph(i)}function uc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,Lu(i,l)}}function wg(i,o){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?p=y=o:y=y.next=o}else p=y=o;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var Eg=!1;function cc(){if(Eg){var i=dl;if(i!==null)throw i}}function fc(i,o,l,c){Eg=!1;var p=i.updateQueue;Fs=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var F=D,Z=F.next;F.next=null,S===null?y=Z:S.next=Z,S=F;var le=i.alternate;le!==null&&(le=le.updateQueue,D=le.lastBaseUpdate,D!==S&&(D===null?le.firstBaseUpdate=Z:D.next=Z,le.lastBaseUpdate=F))}if(y!==null){var he=p.baseState;S=0,le=Z=F=null,D=y;do{var ee=D.lane&-536870913,ne=ee!==D.lane;if(ne?(it&ee)===ee:(c&ee)===ee){ee!==0&&ee===hl&&(Eg=!0),le!==null&&(le=le.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Be=i,Oe=D;ee=o;var gt=l;switch(Oe.tag){case 1:if(Be=Oe.payload,typeof Be=="function"){he=Be.call(gt,he,ee);break e}he=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Oe.payload,ee=typeof Be=="function"?Be.call(gt,he,ee):Be,ee==null)break e;he=g({},he,ee);break e;case 2:Fs=!0}}ee=D.callback,ee!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=p.callbacks,ne===null?p.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},le===null?(Z=le=ne,F=he):le=le.next=ne,S|=ee;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);le===null&&(F=he),p.baseState=F,p.firstBaseUpdate=Z,p.lastBaseUpdate=le,y===null&&(p.shared.lanes=0),Xs|=S,i.lanes=S,i.memoizedState=he}}function kw(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function Ow(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)kw(l[i],o)}var ml=oe(null),zh=oe(0);function Vw(i,o){i=us,te(zh,i),te(ml,o),us=i|o.baseLanes}function Tg(){te(zh,us),te(ml,ml.current)}function xg(){us=zh.current,ye(ml),ye(zh)}var qs=0,Ke=null,mt=null,Ht=null,Hh=!1,pl=!1,ma=!1,qh=0,hc=0,gl=null,mk=0;function kt(){throw Error(r(321))}function Sg(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!tr(i[l],o[l]))return!1;return!0}function Ag(i,o,l,c,p,y){return qs=y,Ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=i===null||i.memoizedState===null?_E:bE,ma=!1,y=l(c,p),ma=!1,pl&&(y=jw(o,l,c,p)),Lw(i),y}function Lw(i){K.H=Qh;var o=mt!==null&&mt.next!==null;if(qs=0,Ht=mt=Ke=null,Hh=!1,hc=0,gl=null,o)throw Error(r(300));i===null||un||(i=i.dependencies,i!==null&&Lh(i)&&(un=!0))}function jw(i,o,l,c){Ke=i;var p=0;do{if(pl&&(gl=null),hc=0,pl=!1,25<=p)throw Error(r(301));if(p+=1,Ht=mt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=wk,y=o(l,c)}while(pl);return y}function pk(){var i=K.H,o=i.useState()[0];return o=typeof o.then=="function"?dc(o):o,i=i.useState()[0],(mt!==null?mt.memoizedState:null)!==i&&(Ke.flags|=1024),o}function Rg(){var i=qh!==0;return qh=0,i}function Cg(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function Ig(i){if(Hh){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Hh=!1}qs=0,Ht=mt=Ke=null,pl=!1,hc=qh=0,gl=null}function $n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ke.memoizedState=Ht=i:Ht=Ht.next=i,Ht}function qt(){if(mt===null){var i=Ke.alternate;i=i!==null?i.memoizedState:null}else i=mt.next;var o=Ht===null?Ke.memoizedState:Ht.next;if(o!==null)Ht=o,mt=i;else{if(i===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));mt=i,i={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Ht===null?Ke.memoizedState=Ht=i:Ht=Ht.next=i}return Ht}function Dg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dc(i){var o=hc;return hc+=1,gl===null&&(gl=[]),i=Nw(gl,i,o),o=Ke,(Ht===null?o.memoizedState:Ht.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?_E:bE),i}function Gh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return dc(i);if(i.$$typeof===V)return Tn(i)}throw Error(r(438,String(i)))}function Ng(i){var o=null,l=Ke.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=Ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Dg(),Ke.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),c=0;c<i;c++)l[c]=j;return o.index++,l}function rs(i,o){return typeof o=="function"?o(i):o}function $h(i){var o=qt();return Mg(o,mt,i)}function Mg(i,o,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,y=c.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}o.baseQueue=p=y,c.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{o=p.next;var D=S=null,F=null,Z=o,le=!1;do{var he=Z.lane&-536870913;if(he!==Z.lane?(it&he)===he:(qs&he)===he){var ee=Z.revertLane;if(ee===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),he===hl&&(le=!0);else if((qs&ee)===ee){Z=Z.next,ee===hl&&(le=!0);continue}else he={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(D=F=he,S=y):F=F.next=he,Ke.lanes|=ee,Xs|=ee;he=Z.action,ma&&l(y,he),y=Z.hasEagerState?Z.eagerState:l(y,he)}else ee={lane:he,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(D=F=ee,S=y):F=F.next=ee,Ke.lanes|=he,Xs|=he;Z=Z.next}while(Z!==null&&Z!==o);if(F===null?S=y:F.next=D,!tr(y,i.memoizedState)&&(un=!0,le&&(l=dl,l!==null)))throw l;i.memoizedState=y,i.baseState=S,i.baseQueue=F,c.lastRenderedState=y}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Pg(i){var o=qt(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,y=o.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do y=i(y,S.action),S=S.next;while(S!==p);tr(y,o.memoizedState)||(un=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,c]}function Uw(i,o,l){var c=Ke,p=qt(),y=at;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=o();var S=!tr((mt||p).memoizedState,l);S&&(p.memoizedState=l,un=!0),p=p.queue;var D=zw.bind(null,c,p,i);if(mc(2048,8,D,[i]),p.getSnapshot!==o||S||Ht!==null&&Ht.memoizedState.tag&1){if(c.flags|=2048,yl(9,Kh(),Fw.bind(null,c,p,l,o),null),vt===null)throw Error(r(349));y||(qs&124)!==0||Bw(c,o,l)}return l}function Bw(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Ke.updateQueue,o===null?(o=Dg(),Ke.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Fw(i,o,l,c){o.value=l,o.getSnapshot=c,Hw(o)&&qw(i)}function zw(i,o,l){return l(function(){Hw(o)&&qw(i)})}function Hw(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!tr(i,l)}catch{return!0}}function qw(i){var o=ll(i,2);o!==null&&ar(o,i,2)}function kg(i){var o=$n();if(typeof i=="function"){var l=i;if(i=l(),ma){be(!0);try{l()}finally{be(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:i},o}function Gw(i,o,l,c){return i.baseState=l,Mg(i,mt,typeof c=="function"?c:rs)}function gk(i,o,l,c,p){if(Wh(i))throw Error(r(485));if(i=o.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};K.T!==null?l(!0):y.isTransition=!1,c(y),l=o.pending,l===null?(y.next=o.pending=y,$w(o,y)):(y.next=l.next,o.pending=l.next=y)}}function $w(i,o){var l=o.action,c=o.payload,p=i.state;if(o.isTransition){var y=K.T,S={};K.T=S;try{var D=l(p,c),F=K.S;F!==null&&F(S,D),Kw(i,o,D)}catch(Z){Og(i,o,Z)}finally{K.T=y}}else try{y=l(p,c),Kw(i,o,y)}catch(Z){Og(i,o,Z)}}function Kw(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Yw(i,o,c)},function(c){return Og(i,o,c)}):Yw(i,o,l)}function Yw(i,o,l){o.status="fulfilled",o.value=l,Ww(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,$w(i,l)))}function Og(i,o,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,Ww(o),o=o.next;while(o!==c)}i.action=null}function Ww(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Qw(i,o){return o}function Xw(i,o){if(at){var l=vt.formState;if(l!==null){e:{var c=Ke;if(at){if(It){t:{for(var p=It,y=ui;p.nodeType!==8;){if(!y){p=null;break t}if(p=Vr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){It=Vr(p.nextSibling),c=p.data==="F!";break e}}ca(c)}c=!1}c&&(o=l[0])}}return l=$n(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qw,lastRenderedState:o},l.queue=c,l=gE.bind(null,Ke,c),c.dispatch=l,c=kg(!1),y=Bg.bind(null,Ke,!1,c.queue),c=$n(),p={state:o,dispatch:null,action:i,pending:null},c.queue=p,l=gk.bind(null,Ke,p,y,l),p.dispatch=l,c.memoizedState=i,[o,l,!1]}function Zw(i){var o=qt();return Jw(o,mt,i)}function Jw(i,o,l){if(o=Mg(i,o,Qw)[0],i=$h(rs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=dc(o)}catch(S){throw S===ac?Bh:S}else c=o;o=qt();var p=o.queue,y=p.dispatch;return l!==o.memoizedState&&(Ke.flags|=2048,yl(9,Kh(),yk.bind(null,p,l),null)),[c,y,i]}function yk(i,o){i.action=o}function eE(i){var o=qt(),l=mt;if(l!==null)return Jw(o,l,i);qt(),o=o.memoizedState,l=qt();var c=l.queue.dispatch;return l.memoizedState=i,[o,c,!1]}function yl(i,o,l,c){return i={tag:i,create:l,deps:c,inst:o,next:null},o=Ke.updateQueue,o===null&&(o=Dg(),Ke.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,o.lastEffect=i),i}function Kh(){return{destroy:void 0,resource:void 0}}function tE(){return qt().memoizedState}function Yh(i,o,l,c){var p=$n();c=c===void 0?null:c,Ke.flags|=i,p.memoizedState=yl(1|o,Kh(),l,c)}function mc(i,o,l,c){var p=qt();c=c===void 0?null:c;var y=p.memoizedState.inst;mt!==null&&c!==null&&Sg(c,mt.memoizedState.deps)?p.memoizedState=yl(o,y,l,c):(Ke.flags|=i,p.memoizedState=yl(1|o,y,l,c))}function nE(i,o){Yh(8390656,8,i,o)}function rE(i,o){mc(2048,8,i,o)}function iE(i,o){return mc(4,2,i,o)}function sE(i,o){return mc(4,4,i,o)}function oE(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function aE(i,o,l){l=l!=null?l.concat([i]):null,mc(4,4,oE.bind(null,o,i),l)}function Vg(){}function lE(i,o){var l=qt();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&Sg(o,c[1])?c[0]:(l.memoizedState=[i,o],i)}function uE(i,o){var l=qt();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&Sg(o,c[1]))return c[0];if(c=i(),ma){be(!0);try{i()}finally{be(!1)}}return l.memoizedState=[c,o],c}function Lg(i,o,l){return l===void 0||(qs&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=hT(),Ke.lanes|=i,Xs|=i,l)}function cE(i,o,l,c){return tr(l,o)?l:ml.current!==null?(i=Lg(i,l,c),tr(i,o)||(un=!0),i):(qs&42)===0?(un=!0,i.memoizedState=l):(i=hT(),Ke.lanes|=i,Xs|=i,o)}function fE(i,o,l,c,p){var y=ie.p;ie.p=y!==0&&8>y?y:8;var S=K.T,D={};K.T=D,Bg(i,!1,o,l);try{var F=p(),Z=K.S;if(Z!==null&&Z(D,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=dk(F,c);pc(i,o,le,or(i))}else pc(i,o,c,or(i))}catch(he){pc(i,o,{then:function(){},status:"rejected",reason:he},or())}finally{ie.p=y,K.T=S}}function vk(){}function jg(i,o,l,c){if(i.tag!==5)throw Error(r(476));var p=hE(i).queue;fE(i,p,o,Q,l===null?vk:function(){return dE(i),l(c)})}function hE(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:Q},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function dE(i){var o=hE(i).next.queue;pc(i,o,{},or())}function Ug(){return Tn(Pc)}function mE(){return qt().memoizedState}function pE(){return qt().memoizedState}function _k(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=or();i=zs(l);var c=Hs(o,i,l);c!==null&&(ar(c,o,l),uc(c,o,l)),o={cache:pg()},i.payload=o;return}o=o.return}}function bk(i,o,l){var c=or();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Wh(i)?yE(o,l):(l=sg(i,o,l,c),l!==null&&(ar(l,i,c),vE(l,o,c)))}function gE(i,o,l){var c=or();pc(i,o,l,c)}function pc(i,o,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wh(i))yE(o,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,D=y(S,l);if(p.hasEagerState=!0,p.eagerState=D,tr(D,S))return Mh(i,o,p,0),vt===null&&Nh(),!1}catch{}finally{}if(l=sg(i,o,p,c),l!==null)return ar(l,i,c),vE(l,o,c),!0}return!1}function Bg(i,o,l,c){if(c={lane:2,revertLane:vy(),action:c,hasEagerState:!1,eagerState:null,next:null},Wh(i)){if(o)throw Error(r(479))}else o=sg(i,l,c,2),o!==null&&ar(o,i,2)}function Wh(i){var o=i.alternate;return i===Ke||o!==null&&o===Ke}function yE(i,o){pl=Hh=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function vE(i,o,l){if((l&4194048)!==0){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,Lu(i,l)}}var Qh={readContext:Tn,use:Gh,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},_E={readContext:Tn,use:Gh,useCallback:function(i,o){return $n().memoizedState=[i,o===void 0?null:o],i},useContext:Tn,useEffect:nE,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,Yh(4194308,4,oE.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Yh(4194308,4,i,o)},useInsertionEffect:function(i,o){Yh(4,2,i,o)},useMemo:function(i,o){var l=$n();o=o===void 0?null:o;var c=i();if(ma){be(!0);try{i()}finally{be(!1)}}return l.memoizedState=[c,o],c},useReducer:function(i,o,l){var c=$n();if(l!==void 0){var p=l(o);if(ma){be(!0);try{l(o)}finally{be(!1)}}}else p=o;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=bk.bind(null,Ke,i),[c.memoizedState,i]},useRef:function(i){var o=$n();return i={current:i},o.memoizedState=i},useState:function(i){i=kg(i);var o=i.queue,l=gE.bind(null,Ke,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:Vg,useDeferredValue:function(i,o){var l=$n();return Lg(l,i,o)},useTransition:function(){var i=kg(!1);return i=fE.bind(null,Ke,i.queue,!0,!1),$n().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var c=Ke,p=$n();if(at){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),vt===null)throw Error(r(349));(it&124)!==0||Bw(c,o,l)}p.memoizedState=l;var y={value:l,getSnapshot:o};return p.queue=y,nE(zw.bind(null,c,y,i),[i]),c.flags|=2048,yl(9,Kh(),Fw.bind(null,c,y,l,o),null),l},useId:function(){var i=$n(),o=vt.identifierPrefix;if(at){var l=es,c=Ji;l=(c&~(1<<32-Le(c)-1)).toString(32)+l,o="«"+o+"R"+l,l=qh++,0<l&&(o+="H"+l.toString(32)),o+="»"}else l=mk++,o="«"+o+"r"+l.toString(32)+"»";return i.memoizedState=o},useHostTransitionStatus:Ug,useFormState:Xw,useActionState:Xw,useOptimistic:function(i){var o=$n();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Bg.bind(null,Ke,!0,l),l.dispatch=o,[i,o]},useMemoCache:Ng,useCacheRefresh:function(){return $n().memoizedState=_k.bind(null,Ke)}},bE={readContext:Tn,use:Gh,useCallback:lE,useContext:Tn,useEffect:rE,useImperativeHandle:aE,useInsertionEffect:iE,useLayoutEffect:sE,useMemo:uE,useReducer:$h,useRef:tE,useState:function(){return $h(rs)},useDebugValue:Vg,useDeferredValue:function(i,o){var l=qt();return cE(l,mt.memoizedState,i,o)},useTransition:function(){var i=$h(rs)[0],o=qt().memoizedState;return[typeof i=="boolean"?i:dc(i),o]},useSyncExternalStore:Uw,useId:mE,useHostTransitionStatus:Ug,useFormState:Zw,useActionState:Zw,useOptimistic:function(i,o){var l=qt();return Gw(l,mt,i,o)},useMemoCache:Ng,useCacheRefresh:pE},wk={readContext:Tn,use:Gh,useCallback:lE,useContext:Tn,useEffect:rE,useImperativeHandle:aE,useInsertionEffect:iE,useLayoutEffect:sE,useMemo:uE,useReducer:Pg,useRef:tE,useState:function(){return Pg(rs)},useDebugValue:Vg,useDeferredValue:function(i,o){var l=qt();return mt===null?Lg(l,i,o):cE(l,mt.memoizedState,i,o)},useTransition:function(){var i=Pg(rs)[0],o=qt().memoizedState;return[typeof i=="boolean"?i:dc(i),o]},useSyncExternalStore:Uw,useId:mE,useHostTransitionStatus:Ug,useFormState:eE,useActionState:eE,useOptimistic:function(i,o){var l=qt();return mt!==null?Gw(l,mt,i,o):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Ng,useCacheRefresh:pE},vl=null,gc=0;function Xh(i){var o=gc;return gc+=1,vl===null&&(vl=[]),Nw(vl,i,o)}function yc(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Zh(i,o){throw o.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function wE(i){var o=i._init;return o(i._payload)}function EE(i){function o(Y,G){if(i){var X=Y.deletions;X===null?(Y.deletions=[G],Y.flags|=16):X.push(G)}}function l(Y,G){if(!i)return null;for(;G!==null;)o(Y,G),G=G.sibling;return null}function c(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function p(Y,G){return Y=Zi(Y,G),Y.index=0,Y.sibling=null,Y}function y(Y,G,X){return Y.index=X,i?(X=Y.alternate,X!==null?(X=X.index,X<G?(Y.flags|=67108866,G):X):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function S(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,G,X,ce){return G===null||G.tag!==6?(G=ag(X,Y.mode,ce),G.return=Y,G):(G=p(G,X),G.return=Y,G)}function F(Y,G,X,ce){var Ie=X.type;return Ie===A?le(Y,G,X.props.children,ce,X.key):G!==null&&(G.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===C&&wE(Ie)===G.type)?(G=p(G,X.props),yc(G,X),G.return=Y,G):(G=kh(X.type,X.key,X.props,null,Y.mode,ce),yc(G,X),G.return=Y,G)}function Z(Y,G,X,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=lg(X,Y.mode,ce),G.return=Y,G):(G=p(G,X.children||[]),G.return=Y,G)}function le(Y,G,X,ce,Ie){return G===null||G.tag!==7?(G=oa(X,Y.mode,ce,Ie),G.return=Y,G):(G=p(G,X),G.return=Y,G)}function he(Y,G,X){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=ag(""+G,Y.mode,X),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return X=kh(G.type,G.key,G.props,null,Y.mode,X),yc(X,G),X.return=Y,X;case E:return G=lg(G,Y.mode,X),G.return=Y,G;case C:var ce=G._init;return G=ce(G._payload),he(Y,G,X)}if(Ce(G)||B(G))return G=oa(G,Y.mode,X,null),G.return=Y,G;if(typeof G.then=="function")return he(Y,Xh(G),X);if(G.$$typeof===V)return he(Y,jh(Y,G),X);Zh(Y,G)}return null}function ee(Y,G,X,ce){var Ie=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ie!==null?null:D(Y,G,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return X.key===Ie?F(Y,G,X,ce):null;case E:return X.key===Ie?Z(Y,G,X,ce):null;case C:return Ie=X._init,X=Ie(X._payload),ee(Y,G,X,ce)}if(Ce(X)||B(X))return Ie!==null?null:le(Y,G,X,ce,null);if(typeof X.then=="function")return ee(Y,G,Xh(X),ce);if(X.$$typeof===V)return ee(Y,G,jh(Y,X),ce);Zh(Y,X)}return null}function ne(Y,G,X,ce,Ie){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(X)||null,D(G,Y,""+ce,Ie);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return Y=Y.get(ce.key===null?X:ce.key)||null,F(G,Y,ce,Ie);case E:return Y=Y.get(ce.key===null?X:ce.key)||null,Z(G,Y,ce,Ie);case C:var Qe=ce._init;return ce=Qe(ce._payload),ne(Y,G,X,ce,Ie)}if(Ce(ce)||B(ce))return Y=Y.get(X)||null,le(G,Y,ce,Ie,null);if(typeof ce.then=="function")return ne(Y,G,X,Xh(ce),Ie);if(ce.$$typeof===V)return ne(Y,G,X,jh(G,ce),Ie);Zh(G,ce)}return null}function Be(Y,G,X,ce){for(var Ie=null,Qe=null,Pe=G,Ve=G=0,fn=null;Pe!==null&&Ve<X.length;Ve++){Pe.index>Ve?(fn=Pe,Pe=null):fn=Pe.sibling;var ot=ee(Y,Pe,X[Ve],ce);if(ot===null){Pe===null&&(Pe=fn);break}i&&Pe&&ot.alternate===null&&o(Y,Pe),G=y(ot,G,Ve),Qe===null?Ie=ot:Qe.sibling=ot,Qe=ot,Pe=fn}if(Ve===X.length)return l(Y,Pe),at&&la(Y,Ve),Ie;if(Pe===null){for(;Ve<X.length;Ve++)Pe=he(Y,X[Ve],ce),Pe!==null&&(G=y(Pe,G,Ve),Qe===null?Ie=Pe:Qe.sibling=Pe,Qe=Pe);return at&&la(Y,Ve),Ie}for(Pe=c(Pe);Ve<X.length;Ve++)fn=ne(Pe,Y,Ve,X[Ve],ce),fn!==null&&(i&&fn.alternate!==null&&Pe.delete(fn.key===null?Ve:fn.key),G=y(fn,G,Ve),Qe===null?Ie=fn:Qe.sibling=fn,Qe=fn);return i&&Pe.forEach(function(oo){return o(Y,oo)}),at&&la(Y,Ve),Ie}function Oe(Y,G,X,ce){if(X==null)throw Error(r(151));for(var Ie=null,Qe=null,Pe=G,Ve=G=0,fn=null,ot=X.next();Pe!==null&&!ot.done;Ve++,ot=X.next()){Pe.index>Ve?(fn=Pe,Pe=null):fn=Pe.sibling;var oo=ee(Y,Pe,ot.value,ce);if(oo===null){Pe===null&&(Pe=fn);break}i&&Pe&&oo.alternate===null&&o(Y,Pe),G=y(oo,G,Ve),Qe===null?Ie=oo:Qe.sibling=oo,Qe=oo,Pe=fn}if(ot.done)return l(Y,Pe),at&&la(Y,Ve),Ie;if(Pe===null){for(;!ot.done;Ve++,ot=X.next())ot=he(Y,ot.value,ce),ot!==null&&(G=y(ot,G,Ve),Qe===null?Ie=ot:Qe.sibling=ot,Qe=ot);return at&&la(Y,Ve),Ie}for(Pe=c(Pe);!ot.done;Ve++,ot=X.next())ot=ne(Pe,Y,Ve,ot.value,ce),ot!==null&&(i&&ot.alternate!==null&&Pe.delete(ot.key===null?Ve:ot.key),G=y(ot,G,Ve),Qe===null?Ie=ot:Qe.sibling=ot,Qe=ot);return i&&Pe.forEach(function(EO){return o(Y,EO)}),at&&la(Y,Ve),Ie}function gt(Y,G,X,ce){if(typeof X=="object"&&X!==null&&X.type===A&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case _:e:{for(var Ie=X.key;G!==null;){if(G.key===Ie){if(Ie=X.type,Ie===A){if(G.tag===7){l(Y,G.sibling),ce=p(G,X.props.children),ce.return=Y,Y=ce;break e}}else if(G.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===C&&wE(Ie)===G.type){l(Y,G.sibling),ce=p(G,X.props),yc(ce,X),ce.return=Y,Y=ce;break e}l(Y,G);break}else o(Y,G);G=G.sibling}X.type===A?(ce=oa(X.props.children,Y.mode,ce,X.key),ce.return=Y,Y=ce):(ce=kh(X.type,X.key,X.props,null,Y.mode,ce),yc(ce,X),ce.return=Y,Y=ce)}return S(Y);case E:e:{for(Ie=X.key;G!==null;){if(G.key===Ie)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){l(Y,G.sibling),ce=p(G,X.children||[]),ce.return=Y,Y=ce;break e}else{l(Y,G);break}else o(Y,G);G=G.sibling}ce=lg(X,Y.mode,ce),ce.return=Y,Y=ce}return S(Y);case C:return Ie=X._init,X=Ie(X._payload),gt(Y,G,X,ce)}if(Ce(X))return Be(Y,G,X,ce);if(B(X)){if(Ie=B(X),typeof Ie!="function")throw Error(r(150));return X=Ie.call(X),Oe(Y,G,X,ce)}if(typeof X.then=="function")return gt(Y,G,Xh(X),ce);if(X.$$typeof===V)return gt(Y,G,jh(Y,X),ce);Zh(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,G!==null&&G.tag===6?(l(Y,G.sibling),ce=p(G,X),ce.return=Y,Y=ce):(l(Y,G),ce=ag(X,Y.mode,ce),ce.return=Y,Y=ce),S(Y)):l(Y,G)}return function(Y,G,X,ce){try{gc=0;var Ie=gt(Y,G,X,ce);return vl=null,Ie}catch(Pe){if(Pe===ac||Pe===Bh)throw Pe;var Qe=nr(29,Pe,null,Y.mode);return Qe.lanes=ce,Qe.return=Y,Qe}finally{}}}var _l=EE(!0),TE=EE(!1),Er=oe(null),ci=null;function Gs(i){var o=i.alternate;te(Zt,Zt.current&1),te(Er,i),ci===null&&(o===null||ml.current!==null||o.memoizedState!==null)&&(ci=i)}function xE(i){if(i.tag===22){if(te(Zt,Zt.current),te(Er,i),ci===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(ci=i)}}else $s()}function $s(){te(Zt,Zt.current),te(Er,Er.current)}function is(i){ye(Er),ci===i&&(ci=null),ye(Zt)}var Zt=oe(0);function Jh(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Dy(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Fg(i,o,l,c){o=i.memoizedState,l=l(c,o),l=l==null?o:g({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var zg={enqueueSetState:function(i,o,l){i=i._reactInternals;var c=or(),p=zs(c);p.payload=o,l!=null&&(p.callback=l),o=Hs(i,p,c),o!==null&&(ar(o,i,c),uc(o,i,c))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var c=or(),p=zs(c);p.tag=1,p.payload=o,l!=null&&(p.callback=l),o=Hs(i,p,c),o!==null&&(ar(o,i,c),uc(o,i,c))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=or(),c=zs(l);c.tag=2,o!=null&&(c.callback=o),o=Hs(i,c,l),o!==null&&(ar(o,i,l),uc(o,i,l))}};function SE(i,o,l,c,p,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,S):o.prototype&&o.prototype.isPureReactComponent?!Ju(l,c)||!Ju(p,y):!0}function AE(i,o,l,c){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==i&&zg.enqueueReplaceState(o,o.state,null)}function pa(i,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(i=i.defaultProps){l===o&&(l=g({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var ed=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function RE(i){ed(i)}function CE(i){console.error(i)}function IE(i){ed(i)}function td(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function DE(i,o,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Hg(i,o,l){return l=zs(l),l.tag=3,l.payload={element:null},l.callback=function(){td(i,o)},l}function NE(i){return i=zs(i),i.tag=3,i}function ME(i,o,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;i.payload=function(){return p(y)},i.callback=function(){DE(o,l,c)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){DE(o,l,c),typeof p!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function Ek(i,o,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&ic(o,l,p,!0),l=Er.current,l!==null){switch(l.tag){case 13:return ci===null?dy():l.alternate===null&&Dt===0&&(Dt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===vg?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),py(i,c,p)),!1;case 22:return l.flags|=65536,c===vg?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),py(i,c,p)),!1}throw Error(r(435,l.tag))}return py(i,c,p),dy(),!1}if(at)return o=Er.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,c!==fg&&(i=Error(r(422),{cause:c}),rc(vr(i,l)))):(c!==fg&&(o=Error(r(423),{cause:c}),rc(vr(o,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=vr(c,l),p=Hg(i.stateNode,c,p),wg(i,p),Dt!==4&&(Dt=2)),!1;var y=Error(r(520),{cause:c});if(y=vr(y,l),xc===null?xc=[y]:xc.push(y),Dt!==4&&(Dt=2),o===null)return!0;c=vr(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Hg(l.stateNode,c,i),wg(l,i),!1;case 1:if(o=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zs===null||!Zs.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=NE(p),ME(p,i,l,c),wg(l,p),!1}l=l.return}while(l!==null);return!1}var PE=Error(r(461)),un=!1;function gn(i,o,l,c){o.child=i===null?TE(o,null,l,c):_l(o,i.child,l,c)}function kE(i,o,l,c,p){l=l.render;var y=o.ref;if("ref"in c){var S={};for(var D in c)D!=="ref"&&(S[D]=c[D])}else S=c;return ha(o),c=Ag(i,o,l,S,y,p),D=Rg(),i!==null&&!un?(Cg(i,o,p),ss(i,o,p)):(at&&D&&ug(o),o.flags|=1,gn(i,o,c,p),o.child)}function OE(i,o,l,c,p){if(i===null){var y=l.type;return typeof y=="function"&&!og(y)&&y.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=y,VE(i,o,y,c,p)):(i=kh(l.type,null,c,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!Xg(i,p)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ju,l(S,c)&&i.ref===o.ref)return ss(i,o,p)}return o.flags|=1,i=Zi(y,c),i.ref=o.ref,i.return=o,o.child=i}function VE(i,o,l,c,p){if(i!==null){var y=i.memoizedProps;if(Ju(y,c)&&i.ref===o.ref)if(un=!1,o.pendingProps=c=y,Xg(i,p))(i.flags&131072)!==0&&(un=!0);else return o.lanes=i.lanes,ss(i,o,p)}return qg(i,o,l,c,p)}function LE(i,o,l){var c=o.pendingProps,p=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,i!==null){for(p=o.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;o.childLanes=y&~c}else o.childLanes=0,o.child=null;return jE(i,o,c,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Uh(o,y!==null?y.cachePool:null),y!==null?Vw(o,y):Tg(),xE(o);else return o.lanes=o.childLanes=536870912,jE(i,o,y!==null?y.baseLanes|l:l,l)}else y!==null?(Uh(o,y.cachePool),Vw(o,y),$s(),o.memoizedState=null):(i!==null&&Uh(o,null),Tg(),$s());return gn(i,o,p,l),o.child}function jE(i,o,l,c){var p=yg();return p=p===null?null:{parent:Xt._currentValue,pool:p},o.memoizedState={baseLanes:l,cachePool:p},i!==null&&Uh(o,null),Tg(),xE(o),i!==null&&ic(i,o,c,!0),null}function nd(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=4194816)}}function qg(i,o,l,c,p){return ha(o),l=Ag(i,o,l,c,void 0,p),c=Rg(),i!==null&&!un?(Cg(i,o,p),ss(i,o,p)):(at&&c&&ug(o),o.flags|=1,gn(i,o,l,p),o.child)}function UE(i,o,l,c,p,y){return ha(o),o.updateQueue=null,l=jw(o,c,l,p),Lw(i),c=Rg(),i!==null&&!un?(Cg(i,o,y),ss(i,o,y)):(at&&c&&ug(o),o.flags|=1,gn(i,o,l,y),o.child)}function BE(i,o,l,c,p){if(ha(o),o.stateNode===null){var y=ul,S=l.contextType;typeof S=="object"&&S!==null&&(y=Tn(S)),y=new l(c,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=zg,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=c,y.state=o.memoizedState,y.refs={},_g(o),S=l.contextType,y.context=typeof S=="object"&&S!==null?Tn(S):ul,y.state=o.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Fg(o,l,S,c),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&zg.enqueueReplaceState(y,y.state,null),fc(o,c,y,p),cc(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(i===null){y=o.stateNode;var D=o.memoizedProps,F=pa(l,D);y.props=F;var Z=y.context,le=l.contextType;S=ul,typeof le=="object"&&le!==null&&(S=Tn(le));var he=l.getDerivedStateFromProps;le=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||Z!==S)&&AE(o,y,c,S),Fs=!1;var ee=o.memoizedState;y.state=ee,fc(o,c,y,p),cc(),Z=o.memoizedState,D||ee!==Z||Fs?(typeof he=="function"&&(Fg(o,l,he,c),Z=o.memoizedState),(F=Fs||SE(o,l,F,c,ee,Z,S))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=Z),y.props=c,y.state=Z,y.context=S,c=F):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{y=o.stateNode,bg(i,o),S=o.memoizedProps,le=pa(l,S),y.props=le,he=o.pendingProps,ee=y.context,Z=l.contextType,F=ul,typeof Z=="object"&&Z!==null&&(F=Tn(Z)),D=l.getDerivedStateFromProps,(Z=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==he||ee!==F)&&AE(o,y,c,F),Fs=!1,ee=o.memoizedState,y.state=ee,fc(o,c,y,p),cc();var ne=o.memoizedState;S!==he||ee!==ne||Fs||i!==null&&i.dependencies!==null&&Lh(i.dependencies)?(typeof D=="function"&&(Fg(o,l,D,c),ne=o.memoizedState),(le=Fs||SE(o,l,le,c,ee,ne,F)||i!==null&&i.dependencies!==null&&Lh(i.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ne,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ne,F)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=ne),y.props=c,y.state=ne,y.context=F,c=le):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),c=!1)}return y=c,nd(i,o),c=(o.flags&128)!==0,y||c?(y=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,i!==null&&c?(o.child=_l(o,i.child,null,p),o.child=_l(o,null,l,p)):gn(i,o,l,p),o.memoizedState=y.state,i=o.child):i=ss(i,o,p),i}function FE(i,o,l,c){return nc(),o.flags|=256,gn(i,o,l,c),o.child}var Gg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $g(i){return{baseLanes:i,cachePool:Cw()}}function Kg(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=Tr),i}function zE(i,o,l){var c=o.pendingProps,p=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=i!==null&&i.memoizedState===null?!1:(Zt.current&2)!==0),S&&(p=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,i===null){if(at){if(p?Gs(o):$s(),at){var D=It,F;if(F=D){e:{for(F=D,D=ui;F.nodeType!==8;){if(!D){D=null;break e}if(F=Vr(F.nextSibling),F===null){D=null;break e}}D=F}D!==null?(o.memoizedState={dehydrated:D,treeContext:aa!==null?{id:Ji,overflow:es}:null,retryLane:536870912,hydrationErrors:null},F=nr(18,null,null,0),F.stateNode=D,F.return=o,o.child=F,Ln=o,It=null,F=!0):F=!1}F||ca(o)}if(D=o.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Dy(D)?o.lanes=32:o.lanes=536870912,null;is(o)}return D=c.children,c=c.fallback,p?($s(),p=o.mode,D=rd({mode:"hidden",children:D},p),c=oa(c,p,l,null),D.return=o,c.return=o,D.sibling=c,o.child=D,p=o.child,p.memoizedState=$g(l),p.childLanes=Kg(i,S,l),o.memoizedState=Gg,c):(Gs(o),Yg(o,D))}if(F=i.memoizedState,F!==null&&(D=F.dehydrated,D!==null)){if(y)o.flags&256?(Gs(o),o.flags&=-257,o=Wg(i,o,l)):o.memoizedState!==null?($s(),o.child=i.child,o.flags|=128,o=null):($s(),p=c.fallback,D=o.mode,c=rd({mode:"visible",children:c.children},D),p=oa(p,D,l,null),p.flags|=2,c.return=o,p.return=o,c.sibling=p,o.child=c,_l(o,i.child,null,l),c=o.child,c.memoizedState=$g(l),c.childLanes=Kg(i,S,l),o.memoizedState=Gg,o=p);else if(Gs(o),Dy(D)){if(S=D.nextSibling&&D.nextSibling.dataset,S)var Z=S.dgst;S=Z,c=Error(r(419)),c.stack="",c.digest=S,rc({value:c,source:null,stack:null}),o=Wg(i,o,l)}else if(un||ic(i,o,l,!1),S=(l&i.childLanes)!==0,un||S){if(S=vt,S!==null&&(c=l&-l,c=(c&42)!==0?1:Ps(c),c=(c&(S.suspendedLanes|l))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,ll(i,c),ar(S,i,c),PE;D.data==="$?"||dy(),o=Wg(i,o,l)}else D.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=F.treeContext,It=Vr(D.nextSibling),Ln=o,at=!0,ua=null,ui=!1,i!==null&&(br[wr++]=Ji,br[wr++]=es,br[wr++]=aa,Ji=i.id,es=i.overflow,aa=o),o=Yg(o,c.children),o.flags|=4096);return o}return p?($s(),p=c.fallback,D=o.mode,F=i.child,Z=F.sibling,c=Zi(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,Z!==null?p=Zi(Z,p):(p=oa(p,D,l,null),p.flags|=2),p.return=o,c.return=o,c.sibling=p,o.child=c,c=p,p=o.child,D=i.child.memoizedState,D===null?D=$g(l):(F=D.cachePool,F!==null?(Z=Xt._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=Cw(),D={baseLanes:D.baseLanes|l,cachePool:F}),p.memoizedState=D,p.childLanes=Kg(i,S,l),o.memoizedState=Gg,c):(Gs(o),l=i.child,i=l.sibling,l=Zi(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,i!==null&&(S=o.deletions,S===null?(o.deletions=[i],o.flags|=16):S.push(i)),o.child=l,o.memoizedState=null,l)}function Yg(i,o){return o=rd({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function rd(i,o){return i=nr(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Wg(i,o,l){return _l(o,i.child,null,l),i=Yg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function HE(i,o,l){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o),dg(i.return,o,l)}function Qg(i,o,l,c,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p)}function qE(i,o,l){var c=o.pendingProps,p=c.revealOrder,y=c.tail;if(gn(i,o,c.children,l),c=Zt.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&HE(i,l,o);else if(i.tag===19)HE(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(te(Zt,c),p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&Jh(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),Qg(o,!1,p,l,y);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&Jh(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Qg(o,!0,l,null,y);break;case"together":Qg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ss(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Xs|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(ic(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=Zi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Zi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function Xg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Lh(i)))}function Tk(i,o,l){switch(o.tag){case 3:Se(o,o.stateNode.containerInfo),Bs(o,Xt,i.memoizedState.cache),nc();break;case 27:case 5:lt(o);break;case 4:Se(o,o.stateNode.containerInfo);break;case 10:Bs(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(Gs(o),o.flags|=128,null):(l&o.child.childLanes)!==0?zE(i,o,l):(Gs(o),i=ss(i,o,l),i!==null?i.sibling:null);Gs(o);break;case 19:var p=(i.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(ic(i,o,l,!1),c=(l&o.childLanes)!==0),p){if(c)return qE(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),te(Zt,Zt.current),c)break;return null;case 22:case 23:return o.lanes=0,LE(i,o,l);case 24:Bs(o,Xt,i.memoizedState.cache)}return ss(i,o,l)}function GE(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)un=!0;else{if(!Xg(i,l)&&(o.flags&128)===0)return un=!1,Tk(i,o,l);un=(i.flags&131072)!==0}else un=!1,at&&(o.flags&1048576)!==0&&ww(o,Vh,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var c=o.elementType,p=c._init;if(c=p(c._payload),o.type=c,typeof c=="function")og(c)?(i=pa(c,i),o.tag=1,o=BE(null,o,c,i,l)):(o.tag=0,o=qg(null,o,c,i,l));else{if(c!=null){if(p=c.$$typeof,p===$){o.tag=11,o=kE(null,o,c,i,l);break e}else if(p===k){o.tag=14,o=OE(null,o,c,i,l);break e}}throw o=_e(c)||c,Error(r(306,o,""))}}return o;case 0:return qg(i,o,o.type,o.pendingProps,l);case 1:return c=o.type,p=pa(c,o.pendingProps),BE(i,o,c,p,l);case 3:e:{if(Se(o,o.stateNode.containerInfo),i===null)throw Error(r(387));c=o.pendingProps;var y=o.memoizedState;p=y.element,bg(i,o),fc(o,c,null,l);var S=o.memoizedState;if(c=S.cache,Bs(o,Xt,c),c!==y.cache&&mg(o,[Xt],l,!0),cc(),c=S.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=FE(i,o,c,l);break e}else if(c!==p){p=vr(Error(r(424)),o),rc(p),o=FE(i,o,c,l);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(It=Vr(i.firstChild),Ln=o,at=!0,ua=null,ui=!0,l=TE(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(nc(),c===p){o=ss(i,o,l);break e}gn(i,o,c,l)}o=o.child}return o;case 26:return nd(i,o),i===null?(l=WT(o.type,null,o.pendingProps,null))?o.memoizedState=l:at||(l=o.type,i=o.pendingProps,c=yd(xe.current).createElement(l),c[Yt]=o,c[Ft]=i,vn(c,l,i),Pt(c),o.stateNode=c):o.memoizedState=WT(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return lt(o),i===null&&at&&(c=o.stateNode=$T(o.type,o.pendingProps,xe.current),Ln=o,ui=!0,p=It,to(o.type)?(Ny=p,It=Vr(c.firstChild)):It=p),gn(i,o,o.pendingProps.children,l),nd(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&at&&((p=c=It)&&(c=Xk(c,o.type,o.pendingProps,ui),c!==null?(o.stateNode=c,Ln=o,It=Vr(c.firstChild),ui=!1,p=!0):p=!1),p||ca(o)),lt(o),p=o.type,y=o.pendingProps,S=i!==null?i.memoizedProps:null,c=y.children,Ry(p,y)?c=null:S!==null&&Ry(p,S)&&(o.flags|=32),o.memoizedState!==null&&(p=Ag(i,o,pk,null,null,l),Pc._currentValue=p),nd(i,o),gn(i,o,c,l),o.child;case 6:return i===null&&at&&((i=l=It)&&(l=Zk(l,o.pendingProps,ui),l!==null?(o.stateNode=l,Ln=o,It=null,i=!0):i=!1),i||ca(o)),null;case 13:return zE(i,o,l);case 4:return Se(o,o.stateNode.containerInfo),c=o.pendingProps,i===null?o.child=_l(o,null,c,l):gn(i,o,c,l),o.child;case 11:return kE(i,o,o.type,o.pendingProps,l);case 7:return gn(i,o,o.pendingProps,l),o.child;case 8:return gn(i,o,o.pendingProps.children,l),o.child;case 12:return gn(i,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,Bs(o,o.type,c.value),gn(i,o,c.children,l),o.child;case 9:return p=o.type._context,c=o.pendingProps.children,ha(o),p=Tn(p),c=c(p),o.flags|=1,gn(i,o,c,l),o.child;case 14:return OE(i,o,o.type,o.pendingProps,l);case 15:return VE(i,o,o.type,o.pendingProps,l);case 19:return qE(i,o,l);case 31:return c=o.pendingProps,l=o.mode,c={mode:c.mode,children:c.children},i===null?(l=rd(c,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=Zi(i.child,c),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return LE(i,o,l);case 24:return ha(o),c=Tn(Xt),i===null?(p=yg(),p===null&&(p=vt,y=pg(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),o.memoizedState={parent:c,cache:p},_g(o),Bs(o,Xt,p)):((i.lanes&l)!==0&&(bg(i,o),fc(o,null,null,l),cc()),p=i.memoizedState,y=o.memoizedState,p.parent!==c?(p={parent:c,cache:c},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),Bs(o,Xt,c)):(c=y.cache,Bs(o,Xt,c),c!==p.cache&&mg(o,[Xt],l,!0))),gn(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function os(i){i.flags|=4}function $E(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ex(o)){if(o=Er.current,o!==null&&((it&4194048)===it?ci!==null:(it&62914560)!==it&&(it&536870912)===0||o!==ci))throw lc=vg,Iw;i.flags|=8192}}function id(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Ou():536870912,i.lanes|=o,Tl|=o)}function vc(i,o){if(!at)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function St(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,o}function xk(i,o,l){var c=o.pendingProps;switch(cg(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(o),null;case 1:return St(o),null;case 3:return l=o.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ns(Xt),qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(tc(o)?os(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,xw())),St(o),null;case 26:return l=o.memoizedState,i===null?(os(o),l!==null?(St(o),$E(o,l)):(St(o),o.flags&=-16777217)):l?l!==i.memoizedState?(os(o),St(o),$E(o,l)):(St(o),o.flags&=-16777217):(i.memoizedProps!==c&&os(o),St(o),o.flags&=-16777217),null;case 27:tt(o),l=xe.current;var p=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==c&&os(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return St(o),null}i=pe.current,tc(o)?Ew(o):(i=$T(p,c,l),o.stateNode=i,os(o))}return St(o),null;case 5:if(tt(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==c&&os(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return St(o),null}if(i=pe.current,tc(o))Ew(o);else{switch(p=yd(xe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}i[Yt]=o,i[Ft]=c;e:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break e;for(;p.sibling===null;){if(p.return===null||p.return===o)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=i;e:switch(vn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&os(o)}}return St(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==c&&os(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(r(166));if(i=xe.current,tc(o)){if(i=o.stateNode,l=o.memoizedProps,c=null,p=Ln,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Yt]=o,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||UT(i.nodeValue,l)),i||ca(o)}else i=yd(i).createTextNode(c),i[Yt]=o,o.stateNode=i}return St(o),null;case 13:if(c=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=tc(o),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Yt]=o}else nc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;St(o),p=!1}else p=xw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(is(o),o):(is(o),null)}if(is(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=o.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),id(o,o.updateQueue),St(o),null;case 4:return qe(),i===null&&Ey(o.stateNode.containerInfo),St(o),null;case 10:return ns(o.type),St(o),null;case 19:if(ye(Zt),p=o.memoizedState,p===null)return St(o),null;if(c=(o.flags&128)!==0,y=p.rendering,y===null)if(c)vc(p,!1);else{if(Dt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(y=Jh(i),y!==null){for(o.flags|=128,vc(p,!1),i=y.updateQueue,o.updateQueue=i,id(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)bw(l,i),l=l.sibling;return te(Zt,Zt.current&1|2),o.child}i=i.sibling}p.tail!==null&&dn()>ad&&(o.flags|=128,c=!0,vc(p,!1),o.lanes=4194304)}else{if(!c)if(i=Jh(y),i!==null){if(o.flags|=128,c=!0,i=i.updateQueue,o.updateQueue=i,id(o,i),vc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!at)return St(o),null}else 2*dn()-p.renderingStartTime>ad&&l!==536870912&&(o.flags|=128,c=!0,vc(p,!1),o.lanes=4194304);p.isBackwards?(y.sibling=o.child,o.child=y):(i=p.last,i!==null?i.sibling=y:o.child=y,p.last=y)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=dn(),o.sibling=null,i=Zt.current,te(Zt,c?i&1|2:i&1),o):(St(o),null);case 22:case 23:return is(o),xg(),c=o.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(St(o),o.subtreeFlags&6&&(o.flags|=8192)):St(o),l=o.updateQueue,l!==null&&id(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),i!==null&&ye(da),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),ns(Xt),St(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Sk(i,o){switch(cg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ns(Xt),qe(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return tt(o),null;case 13:if(is(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));nc()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ye(Zt),null;case 4:return qe(),null;case 10:return ns(o.type),null;case 22:case 23:return is(o),xg(),i!==null&&ye(da),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ns(Xt),null;case 25:return null;default:return null}}function KE(i,o){switch(cg(o),o.tag){case 3:ns(Xt),qe();break;case 26:case 27:case 5:tt(o);break;case 4:qe();break;case 13:is(o);break;case 19:ye(Zt);break;case 10:ns(o.type);break;case 22:case 23:is(o),xg(),i!==null&&ye(da);break;case 24:ns(Xt)}}function _c(i,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var y=l.create,S=l.inst;c=y(),S.destroy=c}l=l.next}while(l!==p)}}catch(D){yt(o,o.return,D)}}function Ks(i,o,l){try{var c=o.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&i)===i){var S=c.inst,D=S.destroy;if(D!==void 0){S.destroy=void 0,p=o;var F=l,Z=D;try{Z()}catch(le){yt(p,F,le)}}}c=c.next}while(c!==y)}}catch(le){yt(o,o.return,le)}}function YE(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{Ow(o,l)}catch(c){yt(i,i.return,c)}}}function WE(i,o,l){l.props=pa(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){yt(i,o,c)}}function bc(i,o){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){yt(i,o,p)}}function fi(i,o){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){yt(i,o,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){yt(i,o,p)}else l.current=null}function QE(i){var o=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){yt(i,i.return,p)}}function Zg(i,o,l){try{var c=i.stateNode;$k(c,i.type,l,o),c[Ft]=o}catch(p){yt(i,i.return,p)}}function XE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&to(i.type)||i.tag===4}function Jg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||XE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&to(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ey(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(i),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=gd));else if(c!==4&&(c===27&&to(i.type)&&(l=i.stateNode,o=null),i=i.child,i!==null))for(ey(i,o,l),i=i.sibling;i!==null;)ey(i,o,l),i=i.sibling}function sd(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(c!==4&&(c===27&&to(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(sd(i,o,l),i=i.sibling;i!==null;)sd(i,o,l),i=i.sibling}function ZE(i){var o=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);vn(o,c,l),o[Yt]=i,o[Ft]=l}catch(y){yt(i,i.return,y)}}var as=!1,Ot=!1,ty=!1,JE=typeof WeakSet=="function"?WeakSet:Set,cn=null;function Ak(i,o){if(i=i.containerInfo,Sy=Td,i=cw(i),Jp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,D=-1,F=-1,Z=0,le=0,he=i,ee=null;t:for(;;){for(var ne;he!==l||p!==0&&he.nodeType!==3||(D=S+p),he!==y||c!==0&&he.nodeType!==3||(F=S+c),he.nodeType===3&&(S+=he.nodeValue.length),(ne=he.firstChild)!==null;)ee=he,he=ne;for(;;){if(he===i)break t;if(ee===l&&++Z===p&&(D=S),ee===y&&++le===c&&(F=S),(ne=he.nextSibling)!==null)break;he=ee,ee=he.parentNode}he=ne}l=D===-1||F===-1?null:{start:D,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ay={focusedElem:i,selectionRange:l},Td=!1,cn=o;cn!==null;)if(o=cn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,cn=i;else for(;cn!==null;){switch(o=cn,y=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=o,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Be=pa(l.type,p,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Be,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){yt(l,l.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)Iy(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Iy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,cn=i;break}cn=o.return}}function eT(i,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ys(i,l),c&4&&_c(5,l);break;case 1:if(Ys(i,l),c&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(S){yt(l,l.return,S)}else{var p=pa(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(p,o,i.__reactInternalSnapshotBeforeUpdate)}catch(S){yt(l,l.return,S)}}c&64&&YE(l),c&512&&bc(l,l.return);break;case 3:if(Ys(i,l),c&64&&(i=l.updateQueue,i!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{Ow(i,o)}catch(S){yt(l,l.return,S)}}break;case 27:o===null&&c&4&&ZE(l);case 26:case 5:Ys(i,l),o===null&&c&4&&QE(l),c&512&&bc(l,l.return);break;case 12:Ys(i,l);break;case 13:Ys(i,l),c&4&&rT(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Ok.bind(null,l),Jk(i,l))));break;case 22:if(c=l.memoizedState!==null||as,!c){o=o!==null&&o.memoizedState!==null||Ot,p=as;var y=Ot;as=c,(Ot=o)&&!y?Ws(i,l,(l.subtreeFlags&8772)!==0):Ys(i,l),as=p,Ot=y}break;case 30:break;default:Ys(i,l)}}function tT(i){var o=i.alternate;o!==null&&(i.alternate=null,tT(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Vs(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xt=null,Kn=!1;function ls(i,o,l){for(l=l.child;l!==null;)nT(i,o,l),l=l.sibling}function nT(i,o,l){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(ge,l)}catch{}switch(l.tag){case 26:Ot||fi(l,o),ls(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ot||fi(l,o);var c=xt,p=Kn;to(l.type)&&(xt=l.stateNode,Kn=!1),ls(i,o,l),Ic(l.stateNode),xt=c,Kn=p;break;case 5:Ot||fi(l,o);case 6:if(c=xt,p=Kn,xt=null,ls(i,o,l),xt=c,Kn=p,xt!==null)if(Kn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(l.stateNode)}catch(y){yt(l,o,y)}else try{xt.removeChild(l.stateNode)}catch(y){yt(l,o,y)}break;case 18:xt!==null&&(Kn?(i=xt,qT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Lc(i)):qT(xt,l.stateNode));break;case 4:c=xt,p=Kn,xt=l.stateNode.containerInfo,Kn=!0,ls(i,o,l),xt=c,Kn=p;break;case 0:case 11:case 14:case 15:Ot||Ks(2,l,o),Ot||Ks(4,l,o),ls(i,o,l);break;case 1:Ot||(fi(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&WE(l,o,c)),ls(i,o,l);break;case 21:ls(i,o,l);break;case 22:Ot=(c=Ot)||l.memoizedState!==null,ls(i,o,l),Ot=c;break;default:ls(i,o,l)}}function rT(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Lc(i)}catch(l){yt(o,o.return,l)}}function Rk(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new JE),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new JE),o;default:throw Error(r(435,i.tag))}}function ny(i,o){var l=Rk(i);o.forEach(function(c){var p=Vk.bind(null,i,c);l.has(c)||(l.add(c),c.then(p,p))})}function rr(i,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=i,S=o,D=S;e:for(;D!==null;){switch(D.tag){case 27:if(to(D.type)){xt=D.stateNode,Kn=!1;break e}break;case 5:xt=D.stateNode,Kn=!1;break e;case 3:case 4:xt=D.stateNode.containerInfo,Kn=!0;break e}D=D.return}if(xt===null)throw Error(r(160));nT(y,S,p),xt=null,Kn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)iT(o,i),o=o.sibling}var Or=null;function iT(i,o){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:rr(o,i),ir(i),c&4&&(Ks(3,i,i.return),_c(3,i),Ks(5,i,i.return));break;case 1:rr(o,i),ir(i),c&512&&(Ot||l===null||fi(l,l.return)),c&64&&as&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Or;if(rr(o,i),ir(i),c&512&&(Ot||l===null||fi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[qo]||y[Yt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),vn(y,c,l),y[Yt]=i,Pt(y),c=y;break e;case"link":var S=ZT("link","href",p).get(c+(l.href||""));if(S){for(var D=0;D<S.length;D++)if(y=S[D],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(D,1);break t}}y=p.createElement(c),vn(y,c,l),p.head.appendChild(y);break;case"meta":if(S=ZT("meta","content",p).get(c+(l.content||""))){for(D=0;D<S.length;D++)if(y=S[D],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(D,1);break t}}y=p.createElement(c),vn(y,c,l),p.head.appendChild(y);break;default:throw Error(r(468,c))}y[Yt]=i,Pt(y),c=y}i.stateNode=c}else JT(p,i.type,i.stateNode);else i.stateNode=XT(p,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?JT(p,i.type,i.stateNode):XT(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Zg(i,i.memoizedProps,l.memoizedProps)}break;case 27:rr(o,i),ir(i),c&512&&(Ot||l===null||fi(l,l.return)),l!==null&&c&4&&Zg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(rr(o,i),ir(i),c&512&&(Ot||l===null||fi(l,l.return)),i.flags&32){p=i.stateNode;try{mr(p,"")}catch(ne){yt(i,i.return,ne)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,Zg(i,p,l!==null?l.memoizedProps:p)),c&1024&&(ty=!0);break;case 6:if(rr(o,i),ir(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ne){yt(i,i.return,ne)}}break;case 3:if(bd=null,p=Or,Or=vd(o.containerInfo),rr(o,i),Or=p,ir(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Lc(o.containerInfo)}catch(ne){yt(i,i.return,ne)}ty&&(ty=!1,sT(i));break;case 4:c=Or,Or=vd(i.stateNode.containerInfo),rr(o,i),ir(i),Or=c;break;case 12:rr(o,i),ir(i);break;case 13:rr(o,i),ir(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ly=dn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ny(i,c)));break;case 22:p=i.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,Z=as,le=Ot;if(as=Z||p,Ot=le||F,rr(o,i),Ot=le,as=Z,ir(i),c&8192)e:for(o=i.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(l===null||F||as||Ot||ga(i)),l=null,o=i;;){if(o.tag===5||o.tag===26){if(l===null){F=l=o;try{if(y=F.stateNode,p)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{D=F.stateNode;var he=F.memoizedProps.style,ee=he!=null&&he.hasOwnProperty("display")?he.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ne){yt(F,F.return,ne)}}}else if(o.tag===6){if(l===null){F=o;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(ne){yt(F,F.return,ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,ny(i,l))));break;case 19:rr(o,i),ir(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ny(i,c)));break;case 30:break;case 21:break;default:rr(o,i),ir(i)}}function ir(i){var o=i.flags;if(o&2){try{for(var l,c=i.return;c!==null;){if(XE(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,y=Jg(i);sd(i,y,p);break;case 5:var S=l.stateNode;l.flags&32&&(mr(S,""),l.flags&=-33);var D=Jg(i);sd(i,D,S);break;case 3:case 4:var F=l.stateNode.containerInfo,Z=Jg(i);ey(i,Z,F);break;default:throw Error(r(161))}}catch(le){yt(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function sT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;sT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ys(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)eT(i,o.alternate,o),o=o.sibling}function ga(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Ks(4,o,o.return),ga(o);break;case 1:fi(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&WE(o,o.return,l),ga(o);break;case 27:Ic(o.stateNode);case 26:case 5:fi(o,o.return),ga(o);break;case 22:o.memoizedState===null&&ga(o);break;case 30:ga(o);break;default:ga(o)}i=i.sibling}}function Ws(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,p=i,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:Ws(p,y,l),_c(4,y);break;case 1:if(Ws(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){yt(c,c.return,Z)}if(c=y,p=c.updateQueue,p!==null){var D=c.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)kw(F[p],D)}catch(Z){yt(c,c.return,Z)}}l&&S&64&&YE(y),bc(y,y.return);break;case 27:ZE(y);case 26:case 5:Ws(p,y,l),l&&c===null&&S&4&&QE(y),bc(y,y.return);break;case 12:Ws(p,y,l);break;case 13:Ws(p,y,l),l&&S&4&&rT(p,y);break;case 22:y.memoizedState===null&&Ws(p,y,l),bc(y,y.return);break;case 30:break;default:Ws(p,y,l)}o=o.sibling}}function ry(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&sc(l))}function iy(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&sc(i))}function hi(i,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)oT(i,o,l,c),o=o.sibling}function oT(i,o,l,c){var p=o.flags;switch(o.tag){case 0:case 11:case 15:hi(i,o,l,c),p&2048&&_c(9,o);break;case 1:hi(i,o,l,c);break;case 3:hi(i,o,l,c),p&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&sc(i)));break;case 12:if(p&2048){hi(i,o,l,c),i=o.stateNode;try{var y=o.memoizedProps,S=y.id,D=y.onPostCommit;typeof D=="function"&&D(S,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){yt(o,o.return,F)}}else hi(i,o,l,c);break;case 13:hi(i,o,l,c);break;case 23:break;case 22:y=o.stateNode,S=o.alternate,o.memoizedState!==null?y._visibility&2?hi(i,o,l,c):wc(i,o):y._visibility&2?hi(i,o,l,c):(y._visibility|=2,bl(i,o,l,c,(o.subtreeFlags&10256)!==0)),p&2048&&ry(S,o);break;case 24:hi(i,o,l,c),p&2048&&iy(o.alternate,o);break;default:hi(i,o,l,c)}}function bl(i,o,l,c,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=i,S=o,D=l,F=c,Z=S.flags;switch(S.tag){case 0:case 11:case 15:bl(y,S,D,F,p),_c(8,S);break;case 23:break;case 22:var le=S.stateNode;S.memoizedState!==null?le._visibility&2?bl(y,S,D,F,p):wc(y,S):(le._visibility|=2,bl(y,S,D,F,p)),p&&Z&2048&&ry(S.alternate,S);break;case 24:bl(y,S,D,F,p),p&&Z&2048&&iy(S.alternate,S);break;default:bl(y,S,D,F,p)}o=o.sibling}}function wc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,c=o,p=c.flags;switch(c.tag){case 22:wc(l,c),p&2048&&ry(c.alternate,c);break;case 24:wc(l,c),p&2048&&iy(c.alternate,c);break;default:wc(l,c)}o=o.sibling}}var Ec=8192;function wl(i){if(i.subtreeFlags&Ec)for(i=i.child;i!==null;)aT(i),i=i.sibling}function aT(i){switch(i.tag){case 26:wl(i),i.flags&Ec&&i.memoizedState!==null&&hO(Or,i.memoizedState,i.memoizedProps);break;case 5:wl(i);break;case 3:case 4:var o=Or;Or=vd(i.stateNode.containerInfo),wl(i),Or=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Ec,Ec=16777216,wl(i),Ec=o):wl(i));break;default:wl(i)}}function lT(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Tc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];cn=c,cT(c,i)}lT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uT(i),i=i.sibling}function uT(i){switch(i.tag){case 0:case 11:case 15:Tc(i),i.flags&2048&&Ks(9,i,i.return);break;case 3:Tc(i);break;case 12:Tc(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,od(i)):Tc(i);break;default:Tc(i)}}function od(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];cn=c,cT(c,i)}lT(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Ks(8,o,o.return),od(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,od(o));break;default:od(o)}i=i.sibling}}function cT(i,o){for(;cn!==null;){var l=cn;switch(l.tag){case 0:case 11:case 15:Ks(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:sc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,cn=c;else e:for(l=i;cn!==null;){c=cn;var p=c.sibling,y=c.return;if(tT(c),c===l){cn=null;break e}if(p!==null){p.return=y,cn=p;break e}cn=y}}}var Ck={getCacheForType:function(i){var o=Tn(Xt),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},Ik=typeof WeakMap=="function"?WeakMap:Map,ft=0,vt=null,Xe=null,it=0,ht=0,sr=null,Qs=!1,El=!1,sy=!1,us=0,Dt=0,Xs=0,ya=0,oy=0,Tr=0,Tl=0,xc=null,Yn=null,ay=!1,ly=0,ad=1/0,ld=null,Zs=null,yn=0,Js=null,xl=null,Sl=0,uy=0,cy=null,fT=null,Sc=0,fy=null;function or(){if((ft&2)!==0&&it!==0)return it&-it;if(K.T!==null){var i=hl;return i!==0?i:vy()}return ks()}function hT(){Tr===0&&(Tr=(it&536870912)===0||at?ku():536870912);var i=Er.current;return i!==null&&(i.flags|=32),Tr}function ar(i,o,l){(i===vt&&(ht===2||ht===9)||i.cancelPendingCommit!==null)&&(Al(i,0),eo(i,it,Tr,!1)),Fi(i,l),((ft&2)===0||i!==vt)&&(i===vt&&((ft&2)===0&&(ya|=l),Dt===4&&eo(i,it,Tr,!1)),di(i))}function dT(i,o,l){if((ft&6)!==0)throw Error(r(327));var c=!l&&(o&124)===0&&(o&i.expiredLanes)===0||Ui(i,o),p=c?Mk(i,o):my(i,o,!0),y=c;do{if(p===0){El&&!c&&eo(i,o,0,!1);break}else{if(l=i.current.alternate,y&&!Dk(l)){p=my(i,o,!1),y=!1;continue}if(p===2){if(y=o,i.errorRecoveryDisabledLanes&y)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var D=i;p=xc;var F=D.current.memoizedState.isDehydrated;if(F&&(Al(D,S).flags|=256),S=my(D,S,!1),S!==2){if(sy&&!F){D.errorRecoveryDisabledLanes|=y,ya|=y,p=4;break e}y=Yn,Yn=p,y!==null&&(Yn===null?Yn=y:Yn.push.apply(Yn,y))}p=S}if(y=!1,p!==2)continue}}if(p===1){Al(i,0),eo(i,o,0,!0);break}e:{switch(c=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:eo(c,o,Tr,!Qs);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(p=ly+300-dn(),10<p)){if(eo(c,o,Tr,!Qs),ji(c,0,!0)!==0)break e;c.timeoutHandle=zT(mT.bind(null,c,l,Yn,ld,ay,o,Tr,ya,Tl,Qs,y,2,-0,0),p);break e}mT(c,l,Yn,ld,ay,o,Tr,ya,Tl,Qs,y,0,-0,0)}}break}while(!0);di(i)}function mT(i,o,l,c,p,y,S,D,F,Z,le,he,ee,ne){if(i.timeoutHandle=-1,he=o.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(Mc={stylesheets:null,count:0,unsuspend:fO},aT(o),he=dO(),he!==null)){i.cancelPendingCommit=he(wT.bind(null,i,o,y,l,c,p,S,D,F,le,1,ee,ne)),eo(i,y,S,!Z);return}wT(i,o,y,l,c,p,S,D,F)}function Dk(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!tr(y(),p))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function eo(i,o,l,c){o&=~oy,o&=~ya,i.suspendedLanes|=o,i.pingedLanes&=~o,c&&(i.warmLanes|=o),c=i.expirationTimes;for(var p=o;0<p;){var y=31-Le(p),S=1<<y;c[y]=-1,p&=~S}l!==0&&Zr(i,l,o)}function ud(){return(ft&6)===0?(Ac(0),!1):!0}function hy(){if(Xe!==null){if(ht===0)var i=Xe.return;else i=Xe,ts=fa=null,Ig(i),vl=null,gc=0,i=Xe;for(;i!==null;)KE(i.alternate,i),i=i.return;Xe=null}}function Al(i,o){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,Yk(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),hy(),vt=i,Xe=l=Zi(i.current,null),it=o,ht=0,sr=null,Qs=!1,El=Ui(i,o),sy=!1,Tl=Tr=oy=ya=Xs=Dt=0,Yn=xc=null,ay=!1,(o&8)!==0&&(o|=o&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=o;0<c;){var p=31-Le(c),y=1<<p;o|=i[p],c&=~y}return us=o,Nh(),l}function pT(i,o){Ke=null,K.H=Qh,o===ac||o===Bh?(o=Mw(),ht=3):o===Iw?(o=Mw(),ht=4):ht=o===PE?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,sr=o,Xe===null&&(Dt=1,td(i,vr(o,i.current)))}function gT(){var i=K.H;return K.H=Qh,i===null?Qh:i}function yT(){var i=K.A;return K.A=Ck,i}function dy(){Dt=4,Qs||(it&4194048)!==it&&Er.current!==null||(El=!0),(Xs&134217727)===0&&(ya&134217727)===0||vt===null||eo(vt,it,Tr,!1)}function my(i,o,l){var c=ft;ft|=2;var p=gT(),y=yT();(vt!==i||it!==o)&&(ld=null,Al(i,o)),o=!1;var S=Dt;e:do try{if(ht!==0&&Xe!==null){var D=Xe,F=sr;switch(ht){case 8:hy(),S=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(o=!0);var Z=ht;if(ht=0,sr=null,Rl(i,D,F,Z),l&&El){S=0;break e}break;default:Z=ht,ht=0,sr=null,Rl(i,D,F,Z)}}Nk(),S=Dt;break}catch(le){pT(i,le)}while(!0);return o&&i.shellSuspendCounter++,ts=fa=null,ft=c,K.H=p,K.A=y,Xe===null&&(vt=null,it=0,Nh()),S}function Nk(){for(;Xe!==null;)vT(Xe)}function Mk(i,o){var l=ft;ft|=2;var c=gT(),p=yT();vt!==i||it!==o?(ld=null,ad=dn()+500,Al(i,o)):El=Ui(i,o);e:do try{if(ht!==0&&Xe!==null){o=Xe;var y=sr;t:switch(ht){case 1:ht=0,sr=null,Rl(i,o,y,1);break;case 2:case 9:if(Dw(y)){ht=0,sr=null,_T(o);break}o=function(){ht!==2&&ht!==9||vt!==i||(ht=7),di(i)},y.then(o,o);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:Dw(y)?(ht=0,sr=null,_T(o)):(ht=0,sr=null,Rl(i,o,y,7));break;case 5:var S=null;switch(Xe.tag){case 26:S=Xe.memoizedState;case 5:case 27:var D=Xe;if(!S||ex(S)){ht=0,sr=null;var F=D.sibling;if(F!==null)Xe=F;else{var Z=D.return;Z!==null?(Xe=Z,cd(Z)):Xe=null}break t}}ht=0,sr=null,Rl(i,o,y,5);break;case 6:ht=0,sr=null,Rl(i,o,y,6);break;case 8:hy(),Dt=6;break e;default:throw Error(r(462))}}Pk();break}catch(le){pT(i,le)}while(!0);return ts=fa=null,K.H=c,K.A=p,ft=l,Xe!==null?0:(vt=null,it=0,Nh(),Dt)}function Pk(){for(;Xe!==null&&!Oi();)vT(Xe)}function vT(i){var o=GE(i.alternate,i,us);i.memoizedProps=i.pendingProps,o===null?cd(i):Xe=o}function _T(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=UE(l,o,o.pendingProps,o.type,void 0,it);break;case 11:o=UE(l,o,o.pendingProps,o.type.render,o.ref,it);break;case 5:Ig(o);default:KE(l,o),o=Xe=bw(o,us),o=GE(l,o,us)}i.memoizedProps=i.pendingProps,o===null?cd(i):Xe=o}function Rl(i,o,l,c){ts=fa=null,Ig(o),vl=null,gc=0;var p=o.return;try{if(Ek(i,p,o,l,it)){Dt=1,td(i,vr(l,i.current)),Xe=null;return}}catch(y){if(p!==null)throw Xe=p,y;Dt=1,td(i,vr(l,i.current)),Xe=null;return}o.flags&32768?(at||c===1?i=!0:El||(it&536870912)!==0?i=!1:(Qs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Er.current,c!==null&&c.tag===13&&(c.flags|=16384))),bT(o,i)):cd(o)}function cd(i){var o=i;do{if((o.flags&32768)!==0){bT(o,Qs);return}i=o.return;var l=xk(o.alternate,o,us);if(l!==null){Xe=l;return}if(o=o.sibling,o!==null){Xe=o;return}Xe=o=i}while(o!==null);Dt===0&&(Dt=5)}function bT(i,o){do{var l=Sk(i.alternate,i);if(l!==null){l.flags&=32767,Xe=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){Xe=i;return}Xe=i=l}while(i!==null);Dt=6,Xe=null}function wT(i,o,l,c,p,y,S,D,F){i.cancelPendingCommit=null;do fd();while(yn!==0);if((ft&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=ig,Vu(i,l,y,S,D,F),i===vt&&(Xe=vt=null,it=0),xl=o,Js=i,Sl=l,uy=y,cy=p,fT=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Lk(Xr,function(){return AT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,p=ie.p,ie.p=2,S=ft,ft|=4;try{Ak(i,o,l)}finally{ft=S,ie.p=p,K.T=c}}yn=1,ET(),TT(),xT()}}function ET(){if(yn===1){yn=0;var i=Js,o=xl,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var c=ie.p;ie.p=2;var p=ft;ft|=4;try{iT(o,i);var y=Ay,S=cw(i.containerInfo),D=y.focusedElem,F=y.selectionRange;if(S!==D&&D&&D.ownerDocument&&uw(D.ownerDocument.documentElement,D)){if(F!==null&&Jp(D)){var Z=F.start,le=F.end;if(le===void 0&&(le=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(le,D.value.length);else{var he=D.ownerDocument||document,ee=he&&he.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),Be=D.textContent.length,Oe=Math.min(F.start,Be),gt=F.end===void 0?Oe:Math.min(F.end,Be);!ne.extend&&Oe>gt&&(S=gt,gt=Oe,Oe=S);var Y=lw(D,Oe),G=lw(D,gt);if(Y&&G&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var X=he.createRange();X.setStart(Y.node,Y.offset),ne.removeAllRanges(),Oe>gt?(ne.addRange(X),ne.extend(G.node,G.offset)):(X.setEnd(G.node,G.offset),ne.addRange(X))}}}}for(he=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&he.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<he.length;D++){var ce=he[D];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Td=!!Sy,Ay=Sy=null}finally{ft=p,ie.p=c,K.T=l}}i.current=o,yn=2}}function TT(){if(yn===2){yn=0;var i=Js,o=xl,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var c=ie.p;ie.p=2;var p=ft;ft|=4;try{eT(i,o.alternate,o)}finally{ft=p,ie.p=c,K.T=l}}yn=3}}function xT(){if(yn===4||yn===3){yn=0,Vi();var i=Js,o=xl,l=Sl,c=fT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?yn=5:(yn=0,xl=Js=null,ST(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Zs=null),qa(l),o=o.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(ge,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=K.T,p=ie.p,ie.p=2,K.T=null;try{for(var y=i.onRecoverableError,S=0;S<c.length;S++){var D=c[S];y(D.value,{componentStack:D.stack})}}finally{K.T=o,ie.p=p}}(Sl&3)!==0&&fd(),di(i),p=i.pendingLanes,(l&4194090)!==0&&(p&42)!==0?i===fy?Sc++:(Sc=0,fy=i):Sc=0,Ac(0)}}function ST(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,sc(o)))}function fd(i){return ET(),TT(),xT(),AT()}function AT(){if(yn!==5)return!1;var i=Js,o=uy;uy=0;var l=qa(Sl),c=K.T,p=ie.p;try{ie.p=32>l?32:l,K.T=null,l=cy,cy=null;var y=Js,S=Sl;if(yn=0,xl=Js=null,Sl=0,(ft&6)!==0)throw Error(r(331));var D=ft;if(ft|=4,uT(y.current),oT(y,y.current,S,l),ft=D,Ac(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(ge,y)}catch{}return!0}finally{ie.p=p,K.T=c,ST(i,o)}}function RT(i,o,l){o=vr(l,o),o=Hg(i.stateNode,o,2),i=Hs(i,o,2),i!==null&&(Fi(i,2),di(i))}function yt(i,o,l){if(i.tag===3)RT(i,i,l);else for(;o!==null;){if(o.tag===3){RT(o,i,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Zs===null||!Zs.has(c))){i=vr(l,i),l=NE(2),c=Hs(o,l,2),c!==null&&(ME(l,c,o,i),Fi(c,2),di(c));break}}o=o.return}}function py(i,o,l){var c=i.pingCache;if(c===null){c=i.pingCache=new Ik;var p=new Set;c.set(o,p)}else p=c.get(o),p===void 0&&(p=new Set,c.set(o,p));p.has(l)||(sy=!0,p.add(l),i=kk.bind(null,i,o,l),o.then(i,i))}function kk(i,o,l){var c=i.pingCache;c!==null&&c.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,vt===i&&(it&l)===l&&(Dt===4||Dt===3&&(it&62914560)===it&&300>dn()-ly?(ft&2)===0&&Al(i,0):oy|=l,Tl===it&&(Tl=0)),di(i)}function CT(i,o){o===0&&(o=Ou()),i=ll(i,o),i!==null&&(Fi(i,o),di(i))}function Ok(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),CT(i,l)}function Vk(i,o){var l=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(o),CT(i,l)}function Lk(i,o){return Pn(i,o)}var hd=null,Cl=null,gy=!1,dd=!1,yy=!1,va=0;function di(i){i!==Cl&&i.next===null&&(Cl===null?hd=Cl=i:Cl=Cl.next=i),dd=!0,gy||(gy=!0,Uk())}function Ac(i,o){if(!yy&&dd){yy=!0;do for(var l=!1,c=hd;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var S=c.suspendedLanes,D=c.pingedLanes;y=(1<<31-Le(42|i)+1)-1,y&=p&~(S&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,MT(c,y))}else y=it,y=ji(c,c===vt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Ui(c,y)||(l=!0,MT(c,y));c=c.next}while(l);yy=!1}}function jk(){IT()}function IT(){dd=gy=!1;var i=0;va!==0&&(Kk()&&(i=va),va=0);for(var o=dn(),l=null,c=hd;c!==null;){var p=c.next,y=DT(c,o);y===0?(c.next=null,l===null?hd=p:l.next=p,p===null&&(Cl=l)):(l=c,(i!==0||(y&3)!==0)&&(dd=!0)),c=p}Ac(i)}function DT(i,o){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var S=31-Le(y),D=1<<S,F=p[S];F===-1?((D&l)===0||(D&c)!==0)&&(p[S]=Ms(D,o)):F<=o&&(i.expiredLanes|=D),y&=~D}if(o=vt,l=it,l=ji(i,i===o?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===o&&(ht===2||ht===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Zn(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ui(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(c!==null&&Zn(c),qa(l)){case 2:case 8:l=Ho;break;case 32:l=Xr;break;case 268435456:l=J;break;default:l=Xr}return c=NT.bind(null,i),l=Pn(l,c),i.callbackPriority=o,i.callbackNode=l,o}return c!==null&&c!==null&&Zn(c),i.callbackPriority=2,i.callbackNode=null,2}function NT(i,o){if(yn!==0&&yn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(fd()&&i.callbackNode!==l)return null;var c=it;return c=ji(i,i===vt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(dT(i,c,o),DT(i,dn()),i.callbackNode!=null&&i.callbackNode===l?NT.bind(null,i):null)}function MT(i,o){if(fd())return null;dT(i,o,!0)}function Uk(){Wk(function(){(ft&6)!==0?Pn(hr,jk):IT()})}function vy(){return va===0&&(va=ku()),va}function PT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Qa(""+i)}function kT(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function Bk(i,o,l,c,p){if(o==="submit"&&l&&l.stateNode===p){var y=PT((p[Ft]||null).action),S=c.submitter;S&&(o=(o=S[Ft]||null)?PT(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var D=new Xa("action","action",null,c,p);i.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(va!==0){var F=S?kT(p,S):new FormData(p);jg(l,{pending:!0,data:F,method:p.method,action:y},null,F)}}else typeof y=="function"&&(D.preventDefault(),F=S?kT(p,S):new FormData(p),jg(l,{pending:!0,data:F,method:p.method,action:y},y,F))},currentTarget:p}]})}}for(var _y=0;_y<rg.length;_y++){var by=rg[_y],Fk=by.toLowerCase(),zk=by[0].toUpperCase()+by.slice(1);kr(Fk,"on"+zk)}kr(dw,"onAnimationEnd"),kr(mw,"onAnimationIteration"),kr(pw,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(sk,"onTransitionRun"),kr(ok,"onTransitionStart"),kr(ak,"onTransitionCancel"),kr(gw,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rc));function OT(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var y=void 0;if(o)for(var S=c.length-1;0<=S;S--){var D=c[S],F=D.instance,Z=D.currentTarget;if(D=D.listener,F!==y&&p.isPropagationStopped())break e;y=D,p.currentTarget=Z;try{y(p)}catch(le){ed(le)}p.currentTarget=null,y=F}else for(S=0;S<c.length;S++){if(D=c[S],F=D.instance,Z=D.currentTarget,D=D.listener,F!==y&&p.isPropagationStopped())break e;y=D,p.currentTarget=Z;try{y(p)}catch(le){ed(le)}p.currentTarget=null,y=F}}}}function Ze(i,o){var l=o[ju];l===void 0&&(l=o[ju]=new Set);var c=i+"__bubble";l.has(c)||(VT(o,i,2,!1),l.add(c))}function wy(i,o,l){var c=0;o&&(c|=4),VT(l,i,c,o)}var md="_reactListening"+Math.random().toString(36).slice(2);function Ey(i){if(!i[md]){i[md]=!0,Uu.forEach(function(l){l!=="selectionchange"&&(Hk.has(l)||wy(l,!1,i),wy(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[md]||(o[md]=!0,wy("selectionchange",!1,o))}}function VT(i,o,l,c){switch(ox(o)){case 2:var p=gO;break;case 8:p=yO;break;default:p=Vy}l=p.bind(null,o,l,i),p=void 0,!gr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function Ty(i,o,l,c,p){var y=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var D=c.stateNode.containerInfo;if(D===p)break;if(S===4)for(S=c.return;S!==null;){var F=S.tag;if((F===3||F===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;D!==null;){if(S=zi(D),S===null)return;if(F=S.tag,F===5||F===6||F===26||F===27){c=y=S;continue e}D=D.parentNode}}c=c.return}gh(function(){var Z=y,le=pr(l),he=[];e:{var ee=yw.get(i);if(ee!==void 0){var ne=Xa,Be=i;switch(i){case"keypress":if(ii(l)===0)break e;case"keydown":case"keyup":ne=rl;break;case"focusin":Be="focus",ne=el;break;case"focusout":Be="blur",ne=el;break;case"beforeblur":case"afterblur":ne=el;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=yr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=xh;break;case dw:case mw:case pw:ne=tl;break;case gw:ne=Ah;break;case"scroll":case"scrollend":ne=yh;break;case"wheel":ne=il;break;case"copy":case"cut":case"paste":ne=nl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Xu;break;case"toggle":case"beforetoggle":ne=Ch}var Oe=(o&4)!==0,gt=!Oe&&(i==="scroll"||i==="scrollend"),Y=Oe?ee!==null?ee+"Capture":null:ee;Oe=[];for(var G=Z,X;G!==null;){var ce=G;if(X=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||X===null||Y===null||(ce=Xo(G,Y),ce!=null&&Oe.push(Cc(G,ce,X))),gt)break;G=G.return}0<Oe.length&&(ee=new ne(ee,Be,null,l,le),he.push({event:ee,listeners:Oe}))}}if((o&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",ee&&l!==$i&&(Be=l.relatedTarget||l.fromElement)&&(zi(Be)||Be[dr]))break e;if((ne||ee)&&(ee=le.window===le?le:(ee=le.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(Be=l.relatedTarget||l.toElement,ne=Z,Be=Be?zi(Be):null,Be!==null&&(gt=a(Be),Oe=Be.tag,Be!==gt||Oe!==5&&Oe!==27&&Oe!==6)&&(Be=null)):(ne=null,Be=Z),ne!==Be)){if(Oe=yr,ce="onMouseLeave",Y="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=Xu,ce="onPointerLeave",Y="onPointerEnter",G="pointer"),gt=ne==null?ee:ei(ne),X=Be==null?ee:ei(Be),ee=new Oe(ce,G+"leave",ne,l,le),ee.target=gt,ee.relatedTarget=X,ce=null,zi(le)===Z&&(Oe=new Oe(Y,G+"enter",Be,l,le),Oe.target=X,Oe.relatedTarget=gt,ce=Oe),gt=ce,ne&&Be)t:{for(Oe=ne,Y=Be,G=0,X=Oe;X;X=Il(X))G++;for(X=0,ce=Y;ce;ce=Il(ce))X++;for(;0<G-X;)Oe=Il(Oe),G--;for(;0<X-G;)Y=Il(Y),X--;for(;G--;){if(Oe===Y||Y!==null&&Oe===Y.alternate)break t;Oe=Il(Oe),Y=Il(Y)}Oe=null}else Oe=null;ne!==null&&LT(he,ee,ne,Oe,!1),Be!==null&&gt!==null&&LT(he,gt,Be,Oe,!0)}}e:{if(ee=Z?ei(Z):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var Ie=nw;else if(Qt(ee))if(rw)Ie=nk;else{Ie=ek;var Qe=JP}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&qu(Z.elementType)&&(Ie=nw):Ie=tk;if(Ie&&(Ie=Ie(i,Z))){Xi(he,Ie,l,le);break e}Qe&&Qe(i,ee,Z),i==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&js(ee,"number",ee.value)}switch(Qe=Z?ei(Z):window,i){case"focusin":(Qt(Qe)||Qe.contentEditable==="true")&&(sl=Qe,eg=Z,ec=null);break;case"focusout":ec=eg=sl=null;break;case"mousedown":tg=!0;break;case"contextmenu":case"mouseup":case"dragend":tg=!1,fw(he,l,le);break;case"selectionchange":if(ik)break;case"keydown":case"keyup":fw(he,l,le)}var Pe;if(ai)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else nt?re(i,l)&&(Ve="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(T&&l.locale!=="ko"&&(nt||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&nt&&(Pe=$u()):(ri=le,Us="value"in ri?ri.value:ri.textContent,nt=!0)),Qe=pd(Z,Ve),0<Qe.length&&(Ve=new Wu(Ve,i,null,l,le),he.push({event:Ve,listeners:Qe}),Pe?Ve.data=Pe:(Pe=ve(l),Pe!==null&&(Ve.data=Pe)))),(Pe=b?Wt(i,l):rt(i,l))&&(Ve=pd(Z,"onBeforeInput"),0<Ve.length&&(Qe=new Wu("onBeforeInput","beforeinput",null,l,le),he.push({event:Qe,listeners:Ve}),Qe.data=Pe)),Bk(he,i,Z,l,le)}OT(he,o)})}function Cc(i,o,l){return{instance:i,listener:o,currentTarget:l}}function pd(i,o){for(var l=o+"Capture",c=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Xo(i,l),p!=null&&c.unshift(Cc(i,p,y)),p=Xo(i,o),p!=null&&c.push(Cc(i,p,y))),i.tag===3)return c;i=i.return}return[]}function Il(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function LT(i,o,l,c,p){for(var y=o._reactName,S=[];l!==null&&l!==c;){var D=l,F=D.alternate,Z=D.stateNode;if(D=D.tag,F!==null&&F===c)break;D!==5&&D!==26&&D!==27||Z===null||(F=Z,p?(Z=Xo(l,y),Z!=null&&S.unshift(Cc(l,Z,F))):p||(Z=Xo(l,y),Z!=null&&S.push(Cc(l,Z,F)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var qk=/\r\n?/g,Gk=/\u0000|\uFFFD/g;function jT(i){return(typeof i=="string"?i:""+i).replace(qk,`
`).replace(Gk,"")}function UT(i,o){return o=jT(o),jT(i)===o}function gd(){}function pt(i,o,l,c,p,y){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||mr(i,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&mr(i,""+c);break;case"className":ti(i,"class",c);break;case"tabIndex":ti(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(i,l,c);break;case"style":Hu(i,c,y);break;case"data":if(o!=="object"){ti(i,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Qa(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(o!=="input"&&pt(i,o,"name",p.name,p,null),pt(i,o,"formEncType",p.formEncType,p,null),pt(i,o,"formMethod",p.formMethod,p,null),pt(i,o,"formTarget",p.formTarget,p,null)):(pt(i,o,"encType",p.encType,p,null),pt(i,o,"method",p.method,p,null),pt(i,o,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Qa(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=gd);break;case"onScroll":c!=null&&Ze("scroll",i);break;case"onScrollEnd":c!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Qa(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),Ls(i,"popover",c);break;case"xlinkActuate":mn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":mn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":mn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":mn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":mn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":mn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":mn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":mn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":mn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ls(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Kp.get(l)||l,Ls(i,l,c))}}function xy(i,o,l,c,p,y){switch(l){case"style":Hu(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?mr(i,c):(typeof c=="number"||typeof c=="bigint")&&mr(i,""+c);break;case"onScroll":c!=null&&Ze("scroll",i);break;case"onScrollEnd":c!=null&&Ze("scrollend",i);break;case"onClick":c!=null&&(i.onclick=gd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),o=l.slice(2,p?l.length-7:void 0),y=i[Ft]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(o,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Ls(i,l,c)}}}function vn(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:pt(i,o,y,S,l,null)}}p&&pt(i,o,"srcSet",l.srcSet,l,null),c&&pt(i,o,"src",l.src,l,null);return;case"input":Ze("invalid",i);var D=y=S=p=null,F=null,Z=null;for(c in l)if(l.hasOwnProperty(c)){var le=l[c];if(le!=null)switch(c){case"name":p=le;break;case"type":S=le;break;case"checked":F=le;break;case"defaultChecked":Z=le;break;case"value":y=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:pt(i,o,c,le,l,null)}}Yo(i,y,D,F,Z,S,p,!1),Wa(i);return;case"select":Ze("invalid",i),c=S=y=null;for(p in l)if(l.hasOwnProperty(p)&&(D=l[p],D!=null))switch(p){case"value":y=D;break;case"defaultValue":S=D;break;case"multiple":c=D;default:pt(i,o,p,D,l,null)}o=y,l=S,i.multiple=!!c,o!=null?Gi(i,!!c,o,!1):l!=null&&Gi(i,!!c,l,!0);return;case"textarea":Ze("invalid",i),y=p=c=null;for(S in l)if(l.hasOwnProperty(S)&&(D=l[S],D!=null))switch(S){case"value":c=D;break;case"defaultValue":p=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:pt(i,o,S,D,l,null)}Wo(i,c,p,y),Wa(i);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:pt(i,o,F,c,l,null)}return;case"dialog":Ze("beforetoggle",i),Ze("toggle",i),Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(c=0;c<Rc.length;c++)Ze(Rc[c],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(c=l[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:pt(i,o,Z,c,l,null)}return;default:if(qu(o)){for(le in l)l.hasOwnProperty(le)&&(c=l[le],c!==void 0&&xy(i,o,le,c,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(c=l[D],c!=null&&pt(i,o,D,c,l,null))}function $k(i,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,S=null,D=null,F=null,Z=null,le=null;for(ne in l){var he=l[ne];if(l.hasOwnProperty(ne)&&he!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=he;default:c.hasOwnProperty(ne)||pt(i,o,ne,null,c,he)}}for(var ee in c){var ne=c[ee];if(he=l[ee],c.hasOwnProperty(ee)&&(ne!=null||he!=null))switch(ee){case"type":y=ne;break;case"name":p=ne;break;case"checked":Z=ne;break;case"defaultChecked":le=ne;break;case"value":S=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ne!==he&&pt(i,o,ee,ne,c,he)}}er(i,S,D,F,Z,le,y,p);return;case"select":ne=S=D=ee=null;for(y in l)if(F=l[y],l.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":ne=F;default:c.hasOwnProperty(y)||pt(i,o,y,null,c,F)}for(p in c)if(y=c[p],F=l[p],c.hasOwnProperty(p)&&(y!=null||F!=null))switch(p){case"value":ee=y;break;case"defaultValue":D=y;break;case"multiple":S=y;default:y!==F&&pt(i,o,p,y,c,F)}o=D,l=S,c=ne,ee!=null?Gi(i,!!l,ee,!1):!!c!=!!l&&(o!=null?Gi(i,!!l,o,!0):Gi(i,!!l,l?[]:"",!1));return;case"textarea":ne=ee=null;for(D in l)if(p=l[D],l.hasOwnProperty(D)&&p!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:pt(i,o,D,null,c,p)}for(S in c)if(p=c[S],y=l[S],c.hasOwnProperty(S)&&(p!=null||y!=null))switch(S){case"value":ee=p;break;case"defaultValue":ne=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&pt(i,o,S,p,c,y)}dt(i,ee,ne);return;case"option":for(var Be in l)if(ee=l[Be],l.hasOwnProperty(Be)&&ee!=null&&!c.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:pt(i,o,Be,null,c,ee)}for(F in c)if(ee=c[F],ne=l[F],c.hasOwnProperty(F)&&ee!==ne&&(ee!=null||ne!=null))switch(F){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:pt(i,o,F,ee,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)ee=l[Oe],l.hasOwnProperty(Oe)&&ee!=null&&!c.hasOwnProperty(Oe)&&pt(i,o,Oe,null,c,ee);for(Z in c)if(ee=c[Z],ne=l[Z],c.hasOwnProperty(Z)&&ee!==ne&&(ee!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:pt(i,o,Z,ee,c,ne)}return;default:if(qu(o)){for(var gt in l)ee=l[gt],l.hasOwnProperty(gt)&&ee!==void 0&&!c.hasOwnProperty(gt)&&xy(i,o,gt,void 0,c,ee);for(le in c)ee=c[le],ne=l[le],!c.hasOwnProperty(le)||ee===ne||ee===void 0&&ne===void 0||xy(i,o,le,ee,c,ne);return}}for(var Y in l)ee=l[Y],l.hasOwnProperty(Y)&&ee!=null&&!c.hasOwnProperty(Y)&&pt(i,o,Y,null,c,ee);for(he in c)ee=c[he],ne=l[he],!c.hasOwnProperty(he)||ee===ne||ee==null&&ne==null||pt(i,o,he,ee,c,ne)}var Sy=null,Ay=null;function yd(i){return i.nodeType===9?i:i.ownerDocument}function BT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FT(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Ry(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Cy=null;function Kk(){var i=window.event;return i&&i.type==="popstate"?i===Cy?!1:(Cy=i,!0):(Cy=null,!1)}var zT=typeof setTimeout=="function"?setTimeout:void 0,Yk=typeof clearTimeout=="function"?clearTimeout:void 0,HT=typeof Promise=="function"?Promise:void 0,Wk=typeof queueMicrotask=="function"?queueMicrotask:typeof HT<"u"?function(i){return HT.resolve(null).then(i).catch(Qk)}:zT;function Qk(i){setTimeout(function(){throw i})}function to(i){return i==="head"}function qT(i,o){var l=o,c=0,p=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var S=i.ownerDocument;if(l&1&&Ic(S.documentElement),l&2&&Ic(S.body),l&4)for(l=S.head,Ic(l),S=l.firstChild;S;){var D=S.nextSibling,F=S.nodeName;S[qo]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=D}}if(p===0){i.removeChild(y),Lc(o);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Lc(o)}function Iy(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Iy(l),Vs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Xk(i,o,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[qo])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Vr(i.nextSibling),i===null)break}return null}function Zk(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Vr(i.nextSibling),i===null))return null;return i}function Dy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Jk(i,o){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Vr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Ny=null;function GT(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function $T(i,o,l){switch(o=yd(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ic(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Vs(i)}var xr=new Map,KT=new Set;function vd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var cs=ie.d;ie.d={f:eO,r:tO,D:nO,C:rO,L:iO,m:sO,X:aO,S:oO,M:lO};function eO(){var i=cs.f(),o=ud();return i||o}function tO(i){var o=Jr(i);o!==null&&o.tag===5&&o.type==="form"?dE(o):cs.r(i)}var Dl=typeof document>"u"?null:document;function YT(i,o,l){var c=Dl;if(c&&typeof o=="string"&&o){var p=zt(o);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),KT.has(p)||(KT.add(p),i={rel:i,crossOrigin:l,href:o},c.querySelector(p)===null&&(o=c.createElement("link"),vn(o,"link",i),Pt(o),c.head.appendChild(o)))}}function nO(i){cs.D(i),YT("dns-prefetch",i,null)}function rO(i,o){cs.C(i,o),YT("preconnect",i,o)}function iO(i,o,l){cs.L(i,o,l);var c=Dl;if(c&&i&&o){var p='link[rel="preload"][as="'+zt(o)+'"]';o==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+zt(l.imageSizes)+'"]')):p+='[href="'+zt(i)+'"]';var y=p;switch(o){case"style":y=Nl(i);break;case"script":y=Ml(i)}xr.has(y)||(i=g({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),xr.set(y,i),c.querySelector(p)!==null||o==="style"&&c.querySelector(Dc(y))||o==="script"&&c.querySelector(Nc(y))||(o=c.createElement("link"),vn(o,"link",i),Pt(o),c.head.appendChild(o)))}}function sO(i,o){cs.m(i,o);var l=Dl;if(l&&i){var c=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+zt(c)+'"][href="'+zt(i)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ml(i)}if(!xr.has(y)&&(i=g({rel:"modulepreload",href:i},o),xr.set(y,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Nc(y)))return}c=l.createElement("link"),vn(c,"link",i),Pt(c),l.head.appendChild(c)}}}function oO(i,o,l){cs.S(i,o,l);var c=Dl;if(c&&i){var p=kn(c).hoistableStyles,y=Nl(i);o=o||"default";var S=p.get(y);if(!S){var D={loading:0,preload:null};if(S=c.querySelector(Dc(y)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},l),(l=xr.get(y))&&My(i,l);var F=S=c.createElement("link");Pt(F),vn(F,"link",i),F._p=new Promise(function(Z,le){F.onload=Z,F.onerror=le}),F.addEventListener("load",function(){D.loading|=1}),F.addEventListener("error",function(){D.loading|=2}),D.loading|=4,_d(S,o,c)}S={type:"stylesheet",instance:S,count:1,state:D},p.set(y,S)}}}function aO(i,o){cs.X(i,o);var l=Dl;if(l&&i){var c=kn(l).hoistableScripts,p=Ml(i),y=c.get(p);y||(y=l.querySelector(Nc(p)),y||(i=g({src:i,async:!0},o),(o=xr.get(p))&&Py(i,o),y=l.createElement("script"),Pt(y),vn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function lO(i,o){cs.M(i,o);var l=Dl;if(l&&i){var c=kn(l).hoistableScripts,p=Ml(i),y=c.get(p);y||(y=l.querySelector(Nc(p)),y||(i=g({src:i,async:!0,type:"module"},o),(o=xr.get(p))&&Py(i,o),y=l.createElement("script"),Pt(y),vn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function WT(i,o,l,c){var p=(p=xe.current)?vd(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Nl(l.href),l=kn(p).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Nl(l.href);var y=kn(p).hoistableStyles,S=y.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,S),(y=p.querySelector(Dc(i)))&&!y._p&&(S.instance=y,S.state.loading=5),xr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},xr.set(i,l),y||uO(p,i,l,S.state))),o&&c===null)throw Error(r(528,""));return S}if(o&&c!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ml(l),l=kn(p).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Nl(i){return'href="'+zt(i)+'"'}function Dc(i){return'link[rel="stylesheet"]['+i+"]"}function QT(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function uO(i,o,l,c){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=i.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),vn(o,"link",l),Pt(o),i.head.appendChild(o))}function Ml(i){return'[src="'+zt(i)+'"]'}function Nc(i){return"script[async]"+i}function XT(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=i.querySelector('style[data-href~="'+zt(l.href)+'"]');if(c)return o.instance=c,Pt(c),c;var p=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Pt(c),vn(c,"style",p),_d(c,l.precedence,i),o.instance=c;case"stylesheet":p=Nl(l.href);var y=i.querySelector(Dc(p));if(y)return o.state.loading|=4,o.instance=y,Pt(y),y;c=QT(l),(p=xr.get(p))&&My(c,p),y=(i.ownerDocument||i).createElement("link"),Pt(y);var S=y;return S._p=new Promise(function(D,F){S.onload=D,S.onerror=F}),vn(y,"link",c),o.state.loading|=4,_d(y,l.precedence,i),o.instance=y;case"script":return y=Ml(l.src),(p=i.querySelector(Nc(y)))?(o.instance=p,Pt(p),p):(c=l,(p=xr.get(y))&&(c=g({},l),Py(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),Pt(p),vn(p,"link",c),i.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,_d(c,l.precedence,i));return o.instance}function _d(i,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,S=0;S<c.length;S++){var D=c[S];if(D.dataset.precedence===o)y=D;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function My(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Py(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var bd=null;function ZT(i,o,l){if(bd===null){var c=new Map,p=bd=new Map;p.set(l,c)}else p=bd,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var y=l[p];if(!(y[qo]||y[Yt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=i+S;var D=c.get(S);D?D.push(y):c.set(S,[y])}}return c}function JT(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function cO(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function ex(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Mc=null;function fO(){}function hO(i,o,l){if(Mc===null)throw Error(r(475));var c=Mc;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Nl(l.href),y=i.querySelector(Dc(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=wd.bind(c),i.then(c,c)),o.state.loading|=4,o.instance=y,Pt(y);return}y=i.ownerDocument||i,l=QT(l),(p=xr.get(p))&&My(l,p),y=y.createElement("link"),Pt(y);var S=y;S._p=new Promise(function(D,F){S.onload=D,S.onerror=F}),vn(y,"link",l),o.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=wd.bind(c),i.addEventListener("load",o),i.addEventListener("error",o))}}function dO(){if(Mc===null)throw Error(r(475));var i=Mc;return i.stylesheets&&i.count===0&&ky(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&ky(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function wd(){if(this.count--,this.count===0){if(this.stylesheets)ky(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ed=null;function ky(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ed=new Map,o.forEach(mO,i),Ed=null,wd.call(i))}function mO(i,o){if(!(o.state.loading&4)){var l=Ed.get(i);if(l)var c=l.get(null);else{l=new Map,Ed.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var S=p[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),c=S)}c&&l.set(null,c)}p=o.instance,S=p.getAttribute("data-precedence"),y=l.get(S)||c,y===c&&l.set(null,p),l.set(S,p),this.count++,c=wd.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),o.state.loading|=4}}var Pc={$$typeof:V,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function pO(i,o,l,c,p,y,S,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function tx(i,o,l,c,p,y,S,D,F,Z,le,he){return i=new pO(i,o,l,S,D,F,Z,he),o=1,y===!0&&(o|=24),y=nr(3,null,null,o),i.current=y,y.stateNode=i,o=pg(),o.refCount++,i.pooledCache=o,o.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:o},_g(y),i}function nx(i){return i?(i=ul,i):ul}function rx(i,o,l,c,p,y){p=nx(p),c.context===null?c.context=p:c.pendingContext=p,c=zs(o),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Hs(i,c,o),l!==null&&(ar(l,i,o),uc(l,i,o))}function ix(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Oy(i,o){ix(i,o),(i=i.alternate)&&ix(i,o)}function sx(i){if(i.tag===13){var o=ll(i,67108864);o!==null&&ar(o,i,67108864),Oy(i,67108864)}}var Td=!0;function gO(i,o,l,c){var p=K.T;K.T=null;var y=ie.p;try{ie.p=2,Vy(i,o,l,c)}finally{ie.p=y,K.T=p}}function yO(i,o,l,c){var p=K.T;K.T=null;var y=ie.p;try{ie.p=8,Vy(i,o,l,c)}finally{ie.p=y,K.T=p}}function Vy(i,o,l,c){if(Td){var p=Ly(c);if(p===null)Ty(i,o,c,xd,l),ax(i,c);else if(_O(p,i,o,l,c))c.stopPropagation();else if(ax(i,c),o&4&&-1<vO.indexOf(i)){for(;p!==null;){var y=Jr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Jn(y.pendingLanes);if(S!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;S;){var F=1<<31-Le(S);D.entanglements[1]|=F,S&=~F}di(y),(ft&6)===0&&(ad=dn()+500,Ac(0))}}break;case 13:D=ll(y,2),D!==null&&ar(D,y,2),ud(),Oy(y,2)}if(y=Ly(c),y===null&&Ty(i,o,c,xd,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else Ty(i,o,c,null,l)}}function Ly(i){return i=pr(i),jy(i)}var xd=null;function jy(i){if(xd=null,i=zi(i),i!==null){var o=a(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=u(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return xd=i,null}function ox(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zo()){case hr:return 2;case Ho:return 8;case Xr:case H:return 32;case J:return 268435456;default:return 32}default:return 32}}var Uy=!1,no=null,ro=null,io=null,kc=new Map,Oc=new Map,so=[],vO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ax(i,o){switch(i){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":kc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(o.pointerId)}}function Vc(i,o,l,c,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},o!==null&&(o=Jr(o),o!==null&&sx(o)),i):(i.eventSystemFlags|=c,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function _O(i,o,l,c,p){switch(o){case"focusin":return no=Vc(no,i,o,l,c,p),!0;case"dragenter":return ro=Vc(ro,i,o,l,c,p),!0;case"mouseover":return io=Vc(io,i,o,l,c,p),!0;case"pointerover":var y=p.pointerId;return kc.set(y,Vc(kc.get(y)||null,i,o,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,Oc.set(y,Vc(Oc.get(y)||null,i,o,l,c,p)),!0}return!1}function lx(i){var o=zi(i.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){i.blockedOn=o,uh(i.priority,function(){if(l.tag===13){var c=or();c=Ps(c);var p=ll(l,c);p!==null&&ar(p,l,c),Oy(l,c)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Sd(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Ly(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);$i=c,l.target.dispatchEvent(c),$i=null}else return o=Jr(l),o!==null&&sx(o),i.blockedOn=l,!1;o.shift()}return!0}function ux(i,o,l){Sd(i)&&l.delete(o)}function bO(){Uy=!1,no!==null&&Sd(no)&&(no=null),ro!==null&&Sd(ro)&&(ro=null),io!==null&&Sd(io)&&(io=null),kc.forEach(ux),Oc.forEach(ux)}function Ad(i,o){i.blockedOn===o&&(i.blockedOn=null,Uy||(Uy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bO)))}var Rd=null;function cx(i){Rd!==i&&(Rd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rd===i&&(Rd=null);for(var o=0;o<i.length;o+=3){var l=i[o],c=i[o+1],p=i[o+2];if(typeof c!="function"){if(jy(c||l)===null)continue;break}var y=Jr(l);y!==null&&(i.splice(o,3),o-=3,jg(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Lc(i){function o(F){return Ad(F,i)}no!==null&&Ad(no,i),ro!==null&&Ad(ro,i),io!==null&&Ad(io,i),kc.forEach(o),Oc.forEach(o);for(var l=0;l<so.length;l++){var c=so[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<so.length&&(l=so[0],l.blockedOn===null);)lx(l),l.blockedOn===null&&so.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],S=p[Ft]||null;if(typeof y=="function")S||cx(l);else if(S){var D=null;if(y&&y.hasAttribute("formAction")){if(p=y,S=y[Ft]||null)D=S.formAction;else if(jy(p)!==null)continue}else D=S.action;typeof D=="function"?l[c+1]=D:(l.splice(c,3),c-=3),cx(l)}}}function By(i){this._internalRoot=i}Cd.prototype.render=By.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,c=or();rx(l,c,i,o,null,null)},Cd.prototype.unmount=By.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;rx(i.current,2,null,i,null,null),ud(),o[dr]=null}};function Cd(i){this._internalRoot=i}Cd.prototype.unstable_scheduleHydration=function(i){if(i){var o=ks();i={blockedOn:null,target:i,priority:o};for(var l=0;l<so.length&&o!==0&&o<so[l].priority;l++);so.splice(l,0,i),l===0&&lx(i)}};var fx=e.version;if(fx!=="19.1.0")throw Error(r(527,fx,"19.1.0"));ie.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var wO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{ge=Id.inject(wO),fe=Id}catch{}}return Uc.createRoot=function(i,o){if(!s(i))throw Error(r(299));var l=!1,c="",p=RE,y=CE,S=IE,D=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks)),o=tx(i,1,!1,null,null,l,c,p,y,S,D,null),i[dr]=o.current,Ey(i),new By(o)},Uc.hydrateRoot=function(i,o,l){if(!s(i))throw Error(r(299));var c=!1,p="",y=RE,S=CE,D=IE,F=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),o=tx(i,1,!0,o,l??null,c,p,y,S,D,F,Z),o.context=nx(null),l=o.current,c=or(),c=Ps(c),p=zs(c),p.callback=null,Hs(l,p,c),l=c,o.current.lanes=l,Fi(o,l),di(o),i[dr]=o.current,Ey(i),new Cd(o)},Uc.version="19.1.0",Uc}var wx;function NO(){if(wx)return Hy.exports;wx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hy.exports=DO(),Hy.exports}var MO=NO(),Bc={},Ex;function PO(){if(Ex)return Bc;Ex=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.parse=u,Bc.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,E){const A=new a,R=_.length;if(R<2)return A;const I=(E==null?void 0:E.decode)||g;let N=0;do{const L=_.indexOf("=",N);if(L===-1)break;const V=_.indexOf(";",N),$=V===-1?R:V;if(L>$){N=_.lastIndexOf(";",L-1)+1;continue}const q=f(_,N,L),se=h(_,L,q),k=_.slice(q,se);if(A[k]===void 0){let C=f(_,L+1,$),P=h(_,$,C);const j=I(_.slice(C,P));A[k]=j}N=$+1}while(N<R);return A}function f(_,E,A){do{const R=_.charCodeAt(E);if(R!==32&&R!==9)return E}while(++E<A);return A}function h(_,E,A){for(;E>A;){const R=_.charCodeAt(--E);if(R!==32&&R!==9)return E+1}return A}function m(_,E,A){const R=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=R(E);if(!e.test(I))throw new TypeError(`argument val is invalid: ${E}`);let N=_+"="+I;if(!A)return N;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);N+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);N+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);N+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);N+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(N+="; HttpOnly"),A.secure&&(N+="; Secure"),A.partitioned&&(N+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return N}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return s.call(_)==="[object Date]"}return Bc}PO();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tx="popstate";function kO(t={}){function e(r,s){let{pathname:a,search:u,hash:f}=r.location;return kv("",{pathname:a,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:mf(s)}return VO(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OO(){return Math.random().toString(36).substring(2,10)}function xx(t,e){return{usr:t.state,key:t.key,idx:e}}function kv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vu(e):e,state:n,key:e&&e.key||r||OO()}}function mf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function VO(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,f="POP",h=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function v(){f="POP";let I=g(),N=I==null?null:I-m;m=I,h&&h({action:f,location:R.location,delta:N})}function _(I,N){f="PUSH";let L=kv(R.location,I,N);m=g()+1;let V=xx(L,m),$=R.createHref(L);try{u.pushState(V,"",$)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign($)}a&&h&&h({action:f,location:R.location,delta:1})}function E(I,N){f="REPLACE";let L=kv(R.location,I,N);m=g();let V=xx(L,m),$=R.createHref(L);u.replaceState(V,"",$),a&&h&&h({action:f,location:R.location,delta:0})}function A(I){let N=s.location.origin!=="null"?s.location.origin:s.location.href,L=typeof I=="string"?I:mf(I);return L=L.replace(/ $/,"%20"),Rt(N,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,N)}let R={get action(){return f},get location(){return t(s,u)},listen(I){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Tx,v),h=I,()=>{s.removeEventListener(Tx,v),h=null}},createHref(I){return e(s,I)},createURL:A,encodeLocation(I){let N=A(I);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:E,go(I){return u.go(I)}};return R}function p1(t,e,n="/"){return LO(t,e,n,!1)}function LO(t,e,n,r){let s=typeof e=="string"?vu(e):e,a=bs(s.pathname||"/",n);if(a==null)return null;let u=g1(t);jO(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=WO(a);f=KO(u[h],m,r)}return f}function g1(t,e=[],n=[],r=""){let s=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(Rt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let m=ys([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(Rt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),g1(a.children,e,g,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:GO(m,a.index),routesMeta:g})};return t.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,u);else for(let h of y1(a.path))s(a,u,h)}),e}function y1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=y1(r.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),s&&f.push(...u),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function jO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$O(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var UO=/^:[\w-]+$/,BO=3,FO=2,zO=1,HO=10,qO=-2,Sx=t=>t==="*";function GO(t,e){let n=t.split("/"),r=n.length;return n.some(Sx)&&(r+=qO),e&&(r+=FO),n.filter(s=>!Sx(s)).reduce((s,a)=>s+(UO.test(a)?BO:a===""?zO:HO),r)}function $O(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function KO(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=mm({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),_=h.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=mm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:ys([a,v.pathname]),pathnameBase:JO(ys([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=ys([a,v.pathnameBase]))}return u}function mm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},_)=>{if(g==="*"){let A=f[_]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const E=f[_];return v&&!E?m[g]=void 0:m[g]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:t}}function YO(t,e=!1,n=!0){Gr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function WO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function QO(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?vu(t):t;return{pathname:n?n.startsWith("/")?n:XO(n,e):e,search:e2(r),hash:t2(s)}}function XO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ky(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function v1(t){let e=ZO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _1(t,e,n,r=!1){let s;typeof t=="string"?s=vu(t):(s={...t},Rt(!s.pathname||!s.pathname.includes("?"),Ky("?","pathname","search",s)),Rt(!s.pathname||!s.pathname.includes("#"),Ky("#","pathname","hash",s)),Rt(!s.search||!s.search.includes("#"),Ky("#","search","hash",s)));let a=t===""||s.pathname==="",u=a?"/":s.pathname,f;if(u==null)f=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}f=v>=0?e[v]:"/"}let h=QO(s,f),m=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var ys=t=>t.join("/").replace(/\/\/+/g,"/"),JO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var b1=["POST","PUT","PATCH","DELETE"];new Set(b1);var r2=["GET",...b1];new Set(r2);var _u=x.createContext(null);_u.displayName="DataRouter";var Jm=x.createContext(null);Jm.displayName="DataRouterState";var w1=x.createContext({isTransitioning:!1});w1.displayName="ViewTransition";var i2=x.createContext(new Map);i2.displayName="Fetchers";var s2=x.createContext(null);s2.displayName="Await";var Di=x.createContext(null);Di.displayName="Navigation";var jf=x.createContext(null);jf.displayName="Location";var Ni=x.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var G0=x.createContext(null);G0.displayName="RouteError";function o2(t,{relative:e}={}){Rt(Uf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Di),{hash:s,pathname:a,search:u}=Bf(t,{relative:e}),f=a;return n!=="/"&&(f=a==="/"?n:ys([n,a])),r.createHref({pathname:f,search:u,hash:s})}function Uf(){return x.useContext(jf)!=null}function ko(){return Rt(Uf(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(jf).location}var E1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T1(t){x.useContext(Di).static||x.useLayoutEffect(t)}function Qr(){let{isDataRoute:t}=x.useContext(Ni);return t?_2():a2()}function a2(){Rt(Uf(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(_u),{basename:e,navigator:n}=x.useContext(Di),{matches:r}=x.useContext(Ni),{pathname:s}=ko(),a=JSON.stringify(v1(r)),u=x.useRef(!1);return T1(()=>{u.current=!0}),x.useCallback((h,m={})=>{if(Gr(u.current,E1),!u.current)return;if(typeof h=="number"){n.go(h);return}let g=_1(h,JSON.parse(a),s,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ys([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,a,s,t])}x.createContext(null);function $0(){let{matches:t}=x.useContext(Ni),e=t[t.length-1];return e?e.params:{}}function Bf(t,{relative:e}={}){let{matches:n}=x.useContext(Ni),{pathname:r}=ko(),s=JSON.stringify(v1(n));return x.useMemo(()=>_1(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function l2(t,e){return x1(t,e)}function x1(t,e,n,r){var L;Rt(Uf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=x.useContext(Di),{matches:u}=x.useContext(Ni),f=u[u.length-1],h=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let V=v&&v.path||"";S1(m,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let _=ko(),E;if(e){let V=typeof e=="string"?vu(e):e;Rt(g==="/"||((L=V.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),E=V}else E=_;let A=E.pathname||"/",R=A;if(g!=="/"){let V=g.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(V.length).join("/")}let I=!a&&n&&n.matches&&n.matches.length>0?n.matches:p1(t,{pathname:R});Gr(v||I!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Gr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=d2(I&&I.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:ys([g,s.encodeLocation?s.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:ys([g,s.encodeLocation?s.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,n,r);return e&&N?x.createElement(jf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},N):N}function u2(){let t=v2(),e=n2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,u)}var c2=x.createElement(u2,null),f2=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement(Ni.Provider,{value:this.props.routeContext},x.createElement(G0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function h2({routeContext:t,match:e,children:n}){let r=x.useContext(_u);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Ni.Provider,{value:t},n)}function d2(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Rt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,f=-1;if(n)for(let h=0;h<s.length;h++){let m=s[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:g,errors:v}=n,_=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||_){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,m,g)=>{let v,_=!1,E=null,A=null;n&&(v=a&&m.route.id?a[m.route.id]:void 0,E=m.route.errorElement||c2,u&&(f<0&&g===0?(S1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):f===g&&(_=!0,A=m.route.hydrateFallbackElement||null)));let R=e.concat(s.slice(0,g+1)),I=()=>{let N;return v?N=E:_?N=A:m.route.Component?N=x.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=h,x.createElement(h2,{match:m,routeContext:{outlet:h,matches:R,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?x.createElement(f2,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:I(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):I()},null)}function K0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m2(t){let e=x.useContext(_u);return Rt(e,K0(t)),e}function p2(t){let e=x.useContext(Jm);return Rt(e,K0(t)),e}function g2(t){let e=x.useContext(Ni);return Rt(e,K0(t)),e}function Y0(t){let e=g2(t),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function y2(){return Y0("useRouteId")}function v2(){var r;let t=x.useContext(G0),e=p2("useRouteError"),n=Y0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function _2(){let{router:t}=m2("useNavigate"),e=Y0("useNavigate"),n=x.useRef(!1);return T1(()=>{n.current=!0}),x.useCallback(async(s,a={})=>{Gr(n.current,E1),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Ax={};function S1(t,e,n){!e&&!Ax[t]&&(Ax[t]=!0,Gr(!1,n))}x.memo(b2);function b2({routes:t,future:e,state:n}){return x1(t,void 0,n,e)}function uo(t){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){Rt(!Uf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof n=="string"&&(n=vu(n));let{pathname:h="/",search:m="",hash:g="",state:v=null,key:_="default"}=n,E=x.useMemo(()=>{let A=bs(h,u);return A==null?null:{location:{pathname:A,search:m,hash:g,state:v,key:_},navigationType:r}},[u,h,m,g,v,_,r]);return Gr(E!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:x.createElement(Di.Provider,{value:f},x.createElement(jf.Provider,{children:e,value:E}))}function E2({children:t,location:e}){return l2(Ov(t),e)}function Ov(t,e=[]){let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let a=[...e,s];if(r.type===x.Fragment){n.push.apply(n,Ov(r.props.children,a));return}Rt(r.type===uo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Ov(r.props.children,a)),n.push(u)}),n}var Wd="get",Qd="application/x-www-form-urlencoded";function ep(t){return t!=null&&typeof t.tagName=="string"}function T2(t){return ep(t)&&t.tagName.toLowerCase()==="button"}function x2(t){return ep(t)&&t.tagName.toLowerCase()==="form"}function S2(t){return ep(t)&&t.tagName.toLowerCase()==="input"}function A2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R2(t,e){return t.button===0&&(!e||e==="_self")&&!A2(t)}function Vv(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function C2(t,e){let n=Vv(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(a=>{n.append(s,a)})}),n}var Dd=null;function I2(){if(Dd===null)try{new FormData(document.createElement("form"),0),Dd=!1}catch{Dd=!0}return Dd}var D2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yy(t){return t!=null&&!D2.has(t)?(Gr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qd}"`),null):t}function N2(t,e){let n,r,s,a,u;if(x2(t)){let f=t.getAttribute("action");r=f?bs(f,e):null,n=t.getAttribute("method")||Wd,s=Yy(t.getAttribute("enctype"))||Qd,a=new FormData(t)}else if(T2(t)||S2(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(r=h?bs(h,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Wd,s=Yy(t.getAttribute("formenctype"))||Yy(f.getAttribute("enctype"))||Qd,a=new FormData(f,t),!I2()){let{name:m,type:g,value:v}=t;if(g==="image"){let _=m?`${m}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else m&&a.append(m,v)}}else{if(ep(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wd,r=null,s=Qd,u=t}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:u}}function W0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function M2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function k2(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await M2(a,n);return u.links?u.links():[]}return[]}));return j2(r.flat(1).filter(P2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Rx(t,e,n,r,s,a){let u=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,f=(h,m)=>{var g;return n[m].pathname!==h.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>u(h,m)||f(h,m)):a==="data"?e.filter((h,m)=>{var v;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function O2(t,e,{includeHydrateFallback:n}={}){return V2(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function V2(t){return[...new Set(t)]}function L2(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function j2(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(L2(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}var U2=new Set([100,101,204,205]);function B2(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&bs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function A1(){let t=x.useContext(_u);return W0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function F2(){let t=x.useContext(Jm);return W0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Q0=x.createContext(void 0);Q0.displayName="FrameworkContext";function R1(){let t=x.useContext(Q0);return W0(t,"You must render this element inside a <HydratedRouter> element"),t}function z2(t,e){let n=x.useContext(Q0),[r,s]=x.useState(!1),[a,u]=x.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,_=x.useRef(null);x.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=N=>{N.forEach(L=>{u(L.isIntersecting)})},I=new IntersectionObserver(R,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[t]),x.useEffect(()=>{if(r){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[r]);let E=()=>{s(!0)},A=()=>{s(!1),u(!1)};return n?t!=="intent"?[a,_,{}]:[a,_,{onFocus:Fc(f,E),onBlur:Fc(h,A),onMouseEnter:Fc(m,E),onMouseLeave:Fc(g,A),onTouchStart:Fc(v,E)}]:[!1,_,{}]}function Fc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function H2({page:t,...e}){let{router:n}=A1(),r=x.useMemo(()=>p1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(G2,{page:t,matches:r,...e}):null}function q2(t){let{manifest:e,routeModules:n}=R1(),[r,s]=x.useState([]);return x.useEffect(()=>{let a=!1;return k2(t,e,n).then(u=>{a||s(u)}),()=>{a=!0}},[t,e,n]),r}function G2({page:t,matches:e,...n}){let r=ko(),{manifest:s,routeModules:a}=R1(),{basename:u}=A1(),{loaderData:f,matches:h}=F2(),m=x.useMemo(()=>Rx(t,e,h,s,r,"data"),[t,e,h,s,r]),g=x.useMemo(()=>Rx(t,e,h,s,r,"assets"),[t,e,h,s,r]),v=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,R=!1;if(e.forEach(N=>{var V;let L=s.routes[N.route.id];!L||!L.hasLoader||(!m.some($=>$.route.id===N.route.id)&&N.route.id in f&&((V=a[N.route.id])!=null&&V.shouldRevalidate)||L.hasClientLoader?R=!0:A.add(N.route.id))}),A.size===0)return[];let I=B2(t,u);return R&&A.size>0&&I.searchParams.set("_routes",e.filter(N=>A.has(N.route.id)).map(N=>N.route.id).join(",")),[I.pathname+I.search]},[u,f,r,s,m,e,t,a]),_=x.useMemo(()=>O2(g,s),[g,s]),E=q2(g);return x.createElement(x.Fragment,null,v.map(A=>x.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),_.map(A=>x.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),E.map(({key:A,link:R})=>x.createElement("link",{key:A,...R})))}function $2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var C1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C1&&(window.__reactRouterVersion="7.5.1")}catch{}function K2({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=kO({window:n,v5Compat:!0}));let s=r.current,[a,u]=x.useState({action:s.action,location:s.location}),f=x.useCallback(h=>{x.startTransition(()=>u(h))},[u]);return x.useLayoutEffect(()=>s.listen(f),[s,f]),x.createElement(w2,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var I1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:f,target:h,to:m,preventScrollReset:g,viewTransition:v,..._},E){let{basename:A}=x.useContext(Di),R=typeof m=="string"&&I1.test(m),I,N=!1;if(typeof m=="string"&&R&&(I=m,C1))try{let P=new URL(window.location.href),j=m.startsWith("//")?new URL(P.protocol+m):new URL(m),z=bs(j.pathname,A);j.origin===P.origin&&z!=null?m=z+j.search+j.hash:N=!0}catch{Gr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=o2(m,{relative:s}),[V,$,q]=z2(r,_),se=X2(m,{replace:u,state:f,target:h,preventScrollReset:g,relative:s,viewTransition:v});function k(P){e&&e(P),P.defaultPrevented||se(P)}let C=x.createElement("a",{..._,...q,href:I||L,onClick:N||a?e:k,ref:$2(E,$),target:h,"data-discover":!R&&n==="render"?"true":void 0});return V&&!R?x.createElement(x.Fragment,null,C,x.createElement(H2,{page:L})):C});Hn.displayName="Link";var Y2=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:f,children:h,...m},g){let v=Bf(u,{relative:m.relative}),_=ko(),E=x.useContext(Jm),{navigator:A,basename:R}=x.useContext(Di),I=E!=null&&rV(v)&&f===!0,N=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,L=_.pathname,V=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(L=L.toLowerCase(),V=V?V.toLowerCase():null,N=N.toLowerCase()),V&&R&&(V=bs(V,R)||V);const $=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let q=L===N||!s&&L.startsWith(N)&&L.charAt($)==="/",se=V!=null&&(V===N||!s&&V.startsWith(N)&&V.charAt(N.length)==="/"),k={isActive:q,isPending:se,isTransitioning:I},C=q?e:void 0,P;typeof r=="function"?P=r(k):P=[r,q?"active":null,se?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(k):a;return x.createElement(Hn,{...m,"aria-current":C,className:P,ref:g,style:j,to:u,viewTransition:f},typeof h=="function"?h(k):h)});Y2.displayName="NavLink";var W2=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:u=Wd,action:f,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:v,..._},E)=>{let A=tV(),R=nV(f,{relative:m}),I=u.toLowerCase()==="get"?"get":"post",N=typeof f=="string"&&I1.test(f),L=V=>{if(h&&h(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,q=($==null?void 0:$.getAttribute("formmethod"))||u;A($||V.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:s,state:a,relative:m,preventScrollReset:g,viewTransition:v})};return x.createElement("form",{ref:E,method:I,action:R,onSubmit:r?h:L,..._,"data-discover":!N&&t==="render"?"true":void 0})});W2.displayName="Form";function Q2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D1(t){let e=x.useContext(_u);return Rt(e,Q2(t)),e}function X2(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let f=Qr(),h=ko(),m=Bf(t,{relative:a});return x.useCallback(g=>{if(R2(g,e)){g.preventDefault();let v=n!==void 0?n:mf(h)===mf(m);f(t,{replace:v,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[h,f,m,n,r,e,t,s,a,u])}function Z2(t){Gr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=x.useRef(Vv(t)),n=x.useRef(!1),r=ko(),s=x.useMemo(()=>C2(r.search,n.current?null:e.current),[r.search]),a=Qr(),u=x.useCallback((f,h)=>{const m=Vv(typeof f=="function"?f(s):f);n.current=!0,a("?"+m,h)},[a,s]);return[s,u]}var J2=0,eV=()=>`__${String(++J2)}__`;function tV(){let{router:t}=D1("useSubmit"),{basename:e}=x.useContext(Di),n=y2();return x.useCallback(async(r,s={})=>{let{action:a,method:u,encType:f,formData:h,body:m}=N2(r,e);if(s.navigate===!1){let g=s.fetcherKey||eV();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function nV(t,{relative:e}={}){let{basename:n}=x.useContext(Di),r=x.useContext(Ni);Rt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Bf(t||".",{relative:e})},u=ko();if(t==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ys([n,a.pathname])),mf(a)}function rV(t,e={}){let n=x.useContext(w1);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=D1("useViewTransitionState"),s=Bf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=bs(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=bs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mm(s.pathname,u)!=null||mm(s.pathname,a)!=null}new TextEncoder;[...U2];var X0=m1();const iV=h1(X0);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=()=>{};var Cx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},oV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],f=t[n++],h=((s&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},M1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,f=u?t[s+1]:0,h=s+2<t.length,m=h?t[s+2]:0,g=a>>2,v=(a&3)<<4|f>>4;let _=(f&15)<<2|m>>6,E=m&63;h||(E=64,u||(_=64)),r.push(n[g],n[v],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],f=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||f==null||m==null||v==null)throw new aV;const _=a<<2|f>>4;if(r.push(_),m!==64){const E=f<<4&240|m>>2;if(r.push(E),v!==64){const A=m<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lV=function(t){const e=N1(t);return M1.encodeByteArray(e,!0)},pm=function(t){return lV(t).replace(/\./g,"")},P1=function(t){try{return M1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=()=>uV().__FIREBASE_DEFAULTS__,fV=()=>{if(typeof process>"u"||typeof Cx>"u")return;const t=Cx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&P1(t[1]);return e&&JSON.parse(e)},tp=()=>{try{return sV()||cV()||fV()||hV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k1=t=>{var e,n;return(n=(e=tp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dV=t=>{const e=k1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},O1=()=>{var t;return(t=tp())===null||t===void 0?void 0:t.config},V1=t=>{var e;return(e=tp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pm(JSON.stringify(n)),pm(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function yV(){var t;const e=(t=tp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _V(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wV(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EV(){return!yV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TV(){try{return typeof indexedDB=="object"}catch{return!1}}function xV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="FirebaseError";class Ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SV,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ff.prototype.create)}}class Ff{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?AV(a,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new Ds(s,f,r)}}function AV(t,e){return t.replace(RV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const RV=/\{\$([^}]+)}/g;function CV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(Ix(a)&&Ix(u)){if(!ws(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ix(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $c(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IV(t,e){const n=new DV(t,e);return n.subscribe.bind(n)}class DV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Wy),s.error===void 0&&(s.error=Wy),s.complete===void 0&&(s.complete=Wy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class Na{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kV(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PV(t){return t===Ea?void 0:t}function kV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const VV={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},LV=Je.INFO,jV={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},UV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=jV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Z0{constructor(e){this.name=e,this._logLevel=LV,this._logHandler=UV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const BV=(t,e)=>e.some(n=>t instanceof n);let Dx,Nx;function FV(){return Dx||(Dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zV(){return Nx||(Nx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L1=new WeakMap,Lv=new WeakMap,j1=new WeakMap,Qy=new WeakMap,J0=new WeakMap;function HV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(vo(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&L1.set(n,t)}).catch(()=>{}),J0.set(e,t),e}function qV(t){if(Lv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Lv.set(t,e)}let jv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GV(t){jv=t(jv)}function $V(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xy(this),e,...n);return j1.set(r,e.sort?e.sort():[e]),vo(r)}:zV().includes(t)?function(...e){return t.apply(Xy(this),e),vo(L1.get(this))}:function(...e){return vo(t.apply(Xy(this),e))}}function KV(t){return typeof t=="function"?$V(t):(t instanceof IDBTransaction&&qV(t),BV(t,FV())?new Proxy(t,jv):t)}function vo(t){if(t instanceof IDBRequest)return HV(t);if(Qy.has(t))return Qy.get(t);const e=KV(t);return e!==t&&(Qy.set(t,e),J0.set(e,t)),e}const Xy=t=>J0.get(t);function YV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),f=vo(u);return r&&u.addEventListener("upgradeneeded",h=>{r(vo(u.result),h.oldVersion,h.newVersion,vo(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const WV=["get","getKey","getAll","getAllKeys","count"],QV=["put","add","delete","clear"],Zy=new Map;function Mx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zy.get(e))return Zy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=QV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WV.includes(n)))return;const a=async function(u,...f){const h=this.transaction(u,s?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),s&&h.done]))[0]};return Zy.set(e,a),a}GV(t=>({...t,get:(e,n,r)=>Mx(e,n)||t.get(e,n,r),has:(e,n)=>!!Mx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uv="@firebase/app",Px="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new Z0("@firebase/app"),JV="@firebase/app-compat",eL="@firebase/analytics-compat",tL="@firebase/analytics",nL="@firebase/app-check-compat",rL="@firebase/app-check",iL="@firebase/auth",sL="@firebase/auth-compat",oL="@firebase/database",aL="@firebase/data-connect",lL="@firebase/database-compat",uL="@firebase/functions",cL="@firebase/functions-compat",fL="@firebase/installations",hL="@firebase/installations-compat",dL="@firebase/messaging",mL="@firebase/messaging-compat",pL="@firebase/performance",gL="@firebase/performance-compat",yL="@firebase/remote-config",vL="@firebase/remote-config-compat",_L="@firebase/storage",bL="@firebase/storage-compat",wL="@firebase/firestore",EL="@firebase/vertexai",TL="@firebase/firestore-compat",xL="firebase",SL="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="[DEFAULT]",AL={[Uv]:"fire-core",[JV]:"fire-core-compat",[tL]:"fire-analytics",[eL]:"fire-analytics-compat",[rL]:"fire-app-check",[nL]:"fire-app-check-compat",[iL]:"fire-auth",[sL]:"fire-auth-compat",[oL]:"fire-rtdb",[aL]:"fire-data-connect",[lL]:"fire-rtdb-compat",[uL]:"fire-fn",[cL]:"fire-fn-compat",[fL]:"fire-iid",[hL]:"fire-iid-compat",[dL]:"fire-fcm",[mL]:"fire-fcm-compat",[pL]:"fire-perf",[gL]:"fire-perf-compat",[yL]:"fire-rc",[vL]:"fire-rc-compat",[_L]:"fire-gcs",[bL]:"fire-gcs-compat",[wL]:"fire-fst",[TL]:"fire-fst-compat",[EL]:"fire-vertex","fire-js":"fire-js",[xL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map,RL=new Map,Fv=new Map;function kx(t,e){try{t.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ru(t){const e=t.name;if(Fv.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Fv.set(e,t);for(const n of gm.values())kx(n,t);for(const n of RL.values())kx(n,t);return!0}function e_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new Ff("app","Firebase",CL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=SL;function U1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bv,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw _o.create("bad-app-name",{appName:String(s)});if(n||(n=O1()),!n)throw _o.create("no-options");const a=gm.get(s);if(a){if(ws(n,a.options)&&ws(r,a.config))return a;throw _o.create("duplicate-app",{appName:s})}const u=new OV(s);for(const h of Fv.values())u.addComponent(h);const f=new IL(n,r,u);return gm.set(s,f),f}function B1(t=Bv){const e=gm.get(t);if(!e&&t===Bv&&O1())return U1();if(!e)throw _o.create("no-app",{appName:t});return e}function bo(t,e,n){var r;let s=(r=AL[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(f.join(" "));return}ru(new Na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="firebase-heartbeat-database",NL=1,pf="firebase-heartbeat-store";let Jy=null;function F1(){return Jy||(Jy=YV(DL,NL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pf)}catch(n){console.warn(n)}}}}).catch(t=>{throw _o.create("idb-open",{originalErrorMessage:t.message})})),Jy}async function ML(t){try{const n=(await F1()).transaction(pf),r=await n.objectStore(pf).get(z1(t));return await n.done,r}catch(e){if(e instanceof Ds)Es.warn(e.message);else{const n=_o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(n.message)}}}async function Ox(t,e){try{const r=(await F1()).transaction(pf,"readwrite");await r.objectStore(pf).put(e,z1(t)),await r.done}catch(n){if(n instanceof Ds)Es.warn(n.message);else{const r=_o.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Es.warn(r.message)}}}function z1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=1024,kL=30;class OL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Vx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>kL){const u=jL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vx(),{heartbeatsToSend:r,unsentEntries:s}=VL(this._heartbeatsCache.heartbeats),a=pm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Es.warn(n),""}}}function Vx(){return new Date().toISOString().substring(0,10)}function VL(t,e=PL){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Lx(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Lx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TV()?xV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ML(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ox(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ox(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Lx(t){return pm(JSON.stringify({version:2,heartbeats:t})).length}function jL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){ru(new Na("platform-logger",e=>new XV(e),"PRIVATE")),ru(new Na("heartbeat",e=>new OL(e),"PRIVATE")),bo(Uv,Px,t),bo(Uv,Px,"esm2017"),bo("fire-js","")}UL("");var gi=function(){return gi=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},gi.apply(this,arguments)};function Hf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function BL(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function H1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FL=H1,q1=new Ff("auth","Firebase",H1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new Z0("@firebase/auth");function zL(t,...e){ym.logLevel<=Je.WARN&&ym.warn(`Auth (${bu}): ${t}`,...e)}function Xd(t,...e){ym.logLevel<=Je.ERROR&&ym.error(`Auth (${bu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,...e){throw n_(t,...e)}function Hr(t,...e){return n_(t,...e)}function t_(t,e,n){const r=Object.assign(Object.assign({},FL()),{[e]:n});return new Ff("auth","Firebase",r).create(e,{appName:t.name})}function vs(t){return t_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ir(t,"argument-error"),t_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function n_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q1.create(t,...e)}function Ue(t,e,...n){if(!t)throw n_(e,...n)}function ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xd(e),new Error(e)}function Ts(t,e){t||ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qL(){return jx()==="http:"||jx()==="https:"}function jx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qL()||_V()||"connection"in navigator)?navigator.onLine:!0}function $L(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ts(n>e,"Short delay should be less than long delay!"),this.isMobile=gV()||bV()}get(){return GL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t,e){Ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WL=new qf(3e4,6e4);function Oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vo(t,e,n,r,s={}){return $1(t,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=zf(Object.assign({key:t.config.apiKey},u)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},a);return vV()||(m.referrerPolicy="no-referrer"),G1.fetch()(await K1(t,t.config.apiHost,n,f),m)})}async function $1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KL),e);try{const s=new XL(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Nd(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nd(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Nd(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw Nd(t,"user-disabled",u);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw t_(t,g,m);Ir(t,g)}}catch(s){if(s instanceof Ds)throw s;Ir(t,"network-request-failed",{message:String(s)})}}async function Gf(t,e,n,r,s={}){const a=await Vo(t,e,n,r,s);return"mfaPendingCredential"in a&&Ir(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function K1(t,e,n,r){const s=`${e}${n}?${r}`,a=t,u=a.config.emulator?r_(t.config,s):`${t.config.apiScheme}://${s}`;return YL.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function QL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),WL.get())})}}function Nd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Hr(t,e,r);return s.customData._tokenResponse=n,s}function Ux(t){return t!==void 0&&t.enterprise!==void 0}class ZL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JL(t,e){return Vo(t,"GET","/v2/recaptchaConfig",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(t,e){return Vo(t,"POST","/v1/accounts:delete",e)}async function vm(t,e){return Vo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tj(t,e=!1){const n=rn(t),r=await n.getIdToken(e),s=i_(r);Ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:nf(ev(s.auth_time)),issuedAtTime:nf(ev(s.iat)),expirationTime:nf(ev(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function ev(t){return Number(t)*1e3}function i_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xd("JWT malformed, contained fewer than 3 sections"),null;try{const s=P1(n);return s?JSON.parse(s):(Xd("Failed to decode base64 JWT payload"),null)}catch(s){return Xd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Bx(t){const e=i_(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ds&&nj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nf(this.lastLoginAt),this.creationTime=nf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(t){var e;const n=t.auth,r=await t.getIdToken(),s=await gf(t,vm(n,{idToken:r}));Ue(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Y1(a.providerUserInfo):[],f=sj(t.providerData,u),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(f!=null&&f.length),g=h?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Hv(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function ij(t){const e=rn(t);await _m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Y1(t){return t.map(e=>{var{providerId:n}=e,r=Hf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t,e){const n=await $1(t,{},async()=>{const r=zf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=await K1(t,s,"/v1/token",`key=${a}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",G1.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aj(t,e){return Vo(t,"POST","/v2/accounts:revokeToken",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=Bx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await oj(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,u=new Yl;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ue(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yl,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Hf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await gf(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tj(this,e)}reload(){return ij(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _m(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await gf(this,ej(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,u,f,h,m,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,E=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,A=(u=n.photoURL)!==null&&u!==void 0?u:void 0,R=(f=n.tenantId)!==null&&f!==void 0?f:void 0,I=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,N=(m=n.createdAt)!==null&&m!==void 0?m:void 0,L=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:V,emailVerified:$,isAnonymous:q,providerData:se,stsTokenManager:k}=n;Ue(V&&k,e,"internal-error");const C=Yl.fromJSON(this.name,k);Ue(typeof V=="string",e,"internal-error"),ao(v,e.name),ao(_,e.name),Ue(typeof $=="boolean",e,"internal-error"),Ue(typeof q=="boolean",e,"internal-error"),ao(E,e.name),ao(A,e.name),ao(R,e.name),ao(I,e.name),ao(N,e.name),ao(L,e.name);const P=new zr({uid:V,auth:e,email:_,emailVerified:$,displayName:v,isAnonymous:q,photoURL:A,phoneNumber:E,tenantId:R,stsTokenManager:C,createdAt:N,lastLoginAt:L});return se&&Array.isArray(se)&&(P.providerData=se.map(j=>Object.assign({},j))),I&&(P._redirectEventId=I),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Yl;s.updateFromServerResponse(n);const a=new zr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _m(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ue(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Y1(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),f=new Yl;f.updateFromIdToken(r);const h=new zr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Map;function gs(t){Ts(t instanceof Function,"Expected a class definition");let e=Fx.get(t);return e?(Ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}W1.type="NONE";const zx=W1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t,e,n){return`firebase:${t}:${e}:${n}`}class Wl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Zd(this.userKey,s.apiKey,a),this.fullPersistenceKey=Zd("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vm(this.auth,{idToken:e}).catch(()=>{});return n?zr._fromGetAccountInfoResponse(this.auth,n,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wl(gs(zx),e,r);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||gs(zx);const u=Zd(r,e.config.apiKey,e.name);let f=null;for(const m of n)try{const g=await m._get(u);if(g){let v;if(typeof g=="string"){const _=await vm(e,{idToken:g}).catch(()=>{});if(!_)break;v=await zr._fromGetAccountInfoResponse(e,_,g)}else v=zr._fromJSON(e,g);m!==a&&(f=v),a=m;break}}catch{}const h=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Wl(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Wl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tC(e))return"Blackberry";if(nC(e))return"Webos";if(X1(e))return"Safari";if((e.includes("chrome/")||Z1(e))&&!e.includes("edge/"))return"Chrome";if(eC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Q1(t=Nn()){return/firefox\//i.test(t)}function X1(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z1(t=Nn()){return/crios\//i.test(t)}function J1(t=Nn()){return/iemobile/i.test(t)}function eC(t=Nn()){return/android/i.test(t)}function tC(t=Nn()){return/blackberry/i.test(t)}function nC(t=Nn()){return/webos/i.test(t)}function s_(t=Nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lj(t=Nn()){var e;return s_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uj(){return wV()&&document.documentMode===10}function rC(t=Nn()){return s_(t)||eC(t)||nC(t)||tC(t)||/windows phone/i.test(t)||J1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e=[]){let n;switch(t){case"Browser":n=Hx(Nn());break;case"Worker":n=`${Hx(Nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t,e={}){return Vo(t,"GET","/v2/passwordPolicy",Oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=6;class dj{constructor(e){var n,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:hj,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qx(this),this.idTokenSubscription=new qx(this),this.beforeStateQueue=new cj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gs(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Wl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vm(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _m(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$L()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(vs(this));const n=e?rn(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fj(this),n=new dj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ff("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gs(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Wl.create(this,[gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{u=!0,h()}}else{const h=e.addObserver(n);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&zL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Lo(t){return rn(t)}class qx{constructor(e){this.auth=e,this.observer=null,this.addObserver=IV(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pj(t){np=t}function sC(t){return np.loadJS(t)}function gj(){return np.recaptchaEnterpriseScript}function yj(){return np.gapiScript}function vj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _j{constructor(){this.enterprise=new bj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const wj="recaptcha-enterprise",oC="NO_RECAPTCHA";class Ej{constructor(e){this.type=wj,this.auth=Lo(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{JL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new ZL(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(h=>{f(h)})})}function s(a,u,f){const h=window.grecaptcha;Ux(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(oC)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _j().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(f=>{if(!n&&Ux(window.grecaptcha))s(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=gj();h.length!==0&&(h+=f),sC(h).then(()=>{s(f,a,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function Gx(t,e,n,r=!1,s=!1){const a=new Ej(t);let u;if(s)u=oC;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function qv(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Gx(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Gx(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t,e){const n=e_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(ws(a,e??{}))return s;Ir(s,"already-initialized")}return n.initialize({options:e})}function xj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Sj(t,e,n){const r=Lo(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=aC(e),{host:u,port:f}=Aj(e),h=f===null?"":`:${f}`,m={url:`${a}//${u}${h}/`},g=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(ws(m,r.config.emulator)&&ws(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Rj()}function aC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Aj(t){const e=aC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:$x(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:$x(u)}}}function $x(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Rj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,n){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function Cj(t,e){return Vo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(t,e){return Gf(t,"POST","/v1/accounts:signInWithPassword",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e){return Gf(t,"POST","/v1/accounts:signInWithEmailLink",Oo(t,e))}async function Nj(t,e){return Gf(t,"POST","/v1/accounts:signInWithEmailLink",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends o_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new yf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,n,"signInWithPassword",Ij);case"emailLink":return Dj(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,r,"signUpPassword",Cj);case"emailLink":return Nj(e,{idToken:n,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e){return Gf(t,"POST","/v1/accounts:signInWithIdp",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="http://localhost";class Ma extends o_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Hf(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Ma(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ql(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ql(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ql(e,n)}buildRequest(){const e={requestUri:Mj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kj(t){const e=$c(Kc(t)).link,n=e?$c(Kc(e)).deep_link_id:null,r=$c(Kc(t)).deep_link_id;return(r?$c(Kc(r)).link:null)||r||n||e||t}class a_{constructor(e){var n,r,s,a,u,f;const h=$c(Kc(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,v=Pj((s=h.mode)!==null&&s!==void 0?s:null);Ue(m&&g&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=g,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=kj(e);try{return new a_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this.providerId=wu.PROVIDER_ID}static credential(e,n){return yf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=a_.parseLink(n);return Ue(r,"argument-error"),yf._fromEmailAndCode(e,r.code,r.tenantId)}}wu.PROVIDER_ID="password";wu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends l_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends $f{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";ho.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends $f{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ma._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends $f{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.GITHUB_SIGN_IN_METHOD="github.com";mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends $f{constructor(){super("twitter.com")}static credential(e,n){return Ma._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return po.credential(n,r)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(t,e){return Gf(t,"POST","/v1/accounts:signUp",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await zr._fromIdTokenResponse(e,r,s),u=Kx(r);return new Pa({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Kx(r);return new Pa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Kx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends Ds{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new bm(e,n,r,s)}}function lC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?bm._fromErrorAndOperation(t,a,e,r):a})}async function Vj(t,e,n=!1){const r=await gf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Pa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(vs(r));const s="reauthenticate";try{const a=await gf(t,lC(r,s,e,t),n);Ue(a.idToken,r,"internal-error");const u=i_(a.idToken);Ue(u,r,"internal-error");const{sub:f}=u;return Ue(t.uid===f,r,"user-mismatch"),Pa._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ir(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(t,e,n=!1){if(ur(t.app))return Promise.reject(vs(t));const r="signIn",s=await lC(t,r,e),a=await Pa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function jj(t,e){return uC(Lo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(t){const e=Lo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Uj(t,e,n){if(ur(t.app))return Promise.reject(vs(t));const r=Lo(t),u=await qv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Oj).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&cC(t),h}),f=await Pa._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function Bj(t,e,n){return ur(t.app)?Promise.reject(vs(t)):jj(rn(t),wu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cC(t),r})}function Fj(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function zj(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function Hj(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}function fC(t){return rn(t).signOut()}const wm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wm,"1"),this.storage.removeItem(wm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=1e3,Gj=10;class dC extends hC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);uj()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Gj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dC.type="LOCAL";const $j=dC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC extends hC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mC.type="SESSION";const pC=mC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new rp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async m=>m(n.origin,a)),h=await Kj(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const m=u_("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const _=v;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(_.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function Wj(t){_i().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function Qj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Zj(){return gC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebaseLocalStorageDb",Jj=1,Em="firebaseLocalStorage",vC="fbase_key";class Kf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ip(t,e){return t.transaction([Em],e?"readwrite":"readonly").objectStore(Em)}function eU(){const t=indexedDB.deleteDatabase(yC);return new Kf(t).toPromise()}function Gv(){const t=indexedDB.open(yC,Jj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Em,{keyPath:vC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Em)?e(r):(r.close(),await eU(),e(await Gv()))})})}async function Yx(t,e,n){const r=ip(t,!0).put({[vC]:e,value:n});return new Kf(r).toPromise()}async function tU(t,e){const n=ip(t,!1).get(e),r=await new Kf(n).toPromise();return r===void 0?null:r.value}function Wx(t,e){const n=ip(t,!0).delete(e);return new Kf(n).toPromise()}const nU=800,rU=3;class _C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rp._getInstance(Zj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Qj(),!this.activeServiceWorker)return;this.sender=new Yj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gv();return await Yx(e,wm,"1"),await Wx(e,wm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Yx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=ip(s,!1).getAll();return new Kf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_C.type="LOCAL";const iU=_C;new qf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e){return e?gs(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends o_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ql(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ql(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sU(t){return uC(t.auth,new c_(t),t.bypassAuthState)}function oU(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),Lj(n,new c_(t),t.bypassAuthState)}async function aU(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),Vj(n,new c_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sU;case"linkViaPopup":case"linkViaRedirect":return aU;case"reauthViaPopup":case"reauthViaRedirect":return oU;default:Ir(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=new qf(2e3,1e4);async function uU(t,e,n){if(ur(t.app))return Promise.reject(Hr(t,"operation-not-supported-in-this-environment"));const r=Lo(t);HL(t,e,l_);const s=bC(r,n);return new xa(r,"signInViaPopup",e,s).executeNotNull()}class xa extends wC{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=u_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lU.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU="pendingRedirect",Jd=new Map;class fU extends wC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jd.get(this.auth._key());if(!e){try{const r=await hU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jd.set(this.auth._key(),e)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hU(t,e){const n=pU(e),r=mU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function dU(t,e){Jd.set(t._key(),e)}function mU(t){return gs(t._redirectPersistence)}function pU(t){return Zd(cU,t.config.apiKey,t.name)}async function gU(t,e,n=!1){if(ur(t.app))return Promise.reject(vs(t));const r=Lo(t),s=bC(r,e),u=await new fU(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=10*60*1e3;class vU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_U(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qx(e))}saveEventToCache(e){this.cachedEventUids.add(Qx(e)),this.lastProcessedEventTime=Date.now()}}function Qx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _U(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e={}){return Vo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EU=/^https?/;async function TU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bU(t);for(const n of e)try{if(xU(n))return}catch{}Ir(t,"unauthorized-domain")}function xU(t){const e=zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!EU.test(n))return!1;if(wU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=new qf(3e4,6e4);function Xx(){const t=_i().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AU(t){return new Promise((e,n)=>{var r,s,a;function u(){Xx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xx(),n(Hr(t,"network-request-failed"))},timeout:SU.get()})}if(!((s=(r=_i().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=_i().gapi)===null||a===void 0)&&a.load)u();else{const f=vj("iframefcb");return _i()[f]=()=>{gapi.load?u():n(Hr(t,"network-request-failed"))},sC(`${yj()}?onload=${f}`).catch(h=>n(h))}}).catch(e=>{throw em=null,e})}let em=null;function RU(t){return em=em||AU(t),em}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=new qf(5e3,15e3),IU="__/auth/iframe",DU="emulator/auth/iframe",NU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PU(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?r_(e,DU):`https://${t.config.authDomain}/${IU}`,r={apiKey:e.apiKey,appName:t.name,v:bu},s=MU.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${zf(r).slice(1)}`}async function kU(t){const e=await RU(t),n=_i().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:PU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NU,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Hr(t,"network-request-failed"),f=_i().setTimeout(()=>{a(u)},CU.get());function h(){_i().clearTimeout(f),s(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VU=500,LU=600,jU="_blank",UU="http://localhost";class Zx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BU(t,e,n,r=VU,s=LU){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},OU),{width:r.toString(),height:s.toString(),top:a,left:u}),m=Nn().toLowerCase();n&&(f=Z1(m)?jU:n),Q1(m)&&(e=e||UU,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[E,A])=>`${_}${E}=${A},`,"");if(lj(m)&&f!=="_self")return FU(e||"",f),new Zx(null);const v=window.open(e||"",f,g);Ue(v,t,"popup-blocked");try{v.focus()}catch{}return new Zx(v)}function FU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="__/auth/handler",HU="emulator/auth/handler",qU=encodeURIComponent("fac");async function Jx(t,e,n,r,s,a){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bu,eventId:s};if(e instanceof l_){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",CV(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof $f){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const h=await t._getAppCheckToken(),m=h?`#${qU}=${encodeURIComponent(h)}`:"";return`${GU(t)}?${zf(f).slice(1)}${m}`}function GU({config:t}){return t.emulator?r_(t,HU):`https://${t.authDomain}/${zU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="webStorageSupport";class $U{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pC,this._completeRedirectFn=gU,this._overrideRedirectResult=dU}async _openPopup(e,n,r,s){var a;Ts((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Jx(e,n,r,zv(),s);return BU(e,u,u_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await Jx(e,n,r,zv(),s);return Wj(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Ts(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kU(e),r=new vU(e);return n.register("authEvent",s=>(Ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tv,{type:tv},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[tv];u!==void 0&&n(!!u),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rC()||X1()||s_()}}const KU=$U;var eS="@firebase/auth",tS="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QU(t){ru(new Na("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ue(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iC(t)},m=new mj(r,s,a,h);return xj(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ru(new Na("auth-internal",e=>{const n=Lo(e.getProvider("auth").getImmediate());return(r=>new YU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bo(eS,tS,WU(t)),bo(eS,tS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=5*60,ZU=V1("authIdTokenMaxAge")||XU;let nS=null;const JU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZU)return;const s=n==null?void 0:n.token;nS!==s&&(nS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function e4(t=B1()){const e=e_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Tj(t,{popupRedirectResolver:KU,persistence:[iU,$j,pC]}),r=V1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=JU(a.toString());zj(n,u,()=>u(n.currentUser)),Fj(n,f=>u(f))}}const s=k1("auth");return s&&Sj(n,`http://${s}`),n}function t4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Hr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",t4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QU("Browser");var n4="firebase",r4="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bo(n4,r4,"app");var rS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wo,TC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function P(){}P.prototype=C.prototype,k.D=C.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(j,z,B){for(var O=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)O[_e-2]=arguments[_e];return C.prototype[z].apply(j,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,C,P){P||(P=0);var j=Array(16);if(typeof C=="string")for(var z=0;16>z;++z)j[z]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(z=0;16>z;++z)j[z]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=k.g[0],P=k.g[1],z=k.g[2];var B=k.g[3],O=C+(B^P&(z^B))+j[0]+3614090360&4294967295;C=P+(O<<7&4294967295|O>>>25),O=B+(z^C&(P^z))+j[1]+3905402710&4294967295,B=C+(O<<12&4294967295|O>>>20),O=z+(P^B&(C^P))+j[2]+606105819&4294967295,z=B+(O<<17&4294967295|O>>>15),O=P+(C^z&(B^C))+j[3]+3250441966&4294967295,P=z+(O<<22&4294967295|O>>>10),O=C+(B^P&(z^B))+j[4]+4118548399&4294967295,C=P+(O<<7&4294967295|O>>>25),O=B+(z^C&(P^z))+j[5]+1200080426&4294967295,B=C+(O<<12&4294967295|O>>>20),O=z+(P^B&(C^P))+j[6]+2821735955&4294967295,z=B+(O<<17&4294967295|O>>>15),O=P+(C^z&(B^C))+j[7]+4249261313&4294967295,P=z+(O<<22&4294967295|O>>>10),O=C+(B^P&(z^B))+j[8]+1770035416&4294967295,C=P+(O<<7&4294967295|O>>>25),O=B+(z^C&(P^z))+j[9]+2336552879&4294967295,B=C+(O<<12&4294967295|O>>>20),O=z+(P^B&(C^P))+j[10]+4294925233&4294967295,z=B+(O<<17&4294967295|O>>>15),O=P+(C^z&(B^C))+j[11]+2304563134&4294967295,P=z+(O<<22&4294967295|O>>>10),O=C+(B^P&(z^B))+j[12]+1804603682&4294967295,C=P+(O<<7&4294967295|O>>>25),O=B+(z^C&(P^z))+j[13]+4254626195&4294967295,B=C+(O<<12&4294967295|O>>>20),O=z+(P^B&(C^P))+j[14]+2792965006&4294967295,z=B+(O<<17&4294967295|O>>>15),O=P+(C^z&(B^C))+j[15]+1236535329&4294967295,P=z+(O<<22&4294967295|O>>>10),O=C+(z^B&(P^z))+j[1]+4129170786&4294967295,C=P+(O<<5&4294967295|O>>>27),O=B+(P^z&(C^P))+j[6]+3225465664&4294967295,B=C+(O<<9&4294967295|O>>>23),O=z+(C^P&(B^C))+j[11]+643717713&4294967295,z=B+(O<<14&4294967295|O>>>18),O=P+(B^C&(z^B))+j[0]+3921069994&4294967295,P=z+(O<<20&4294967295|O>>>12),O=C+(z^B&(P^z))+j[5]+3593408605&4294967295,C=P+(O<<5&4294967295|O>>>27),O=B+(P^z&(C^P))+j[10]+38016083&4294967295,B=C+(O<<9&4294967295|O>>>23),O=z+(C^P&(B^C))+j[15]+3634488961&4294967295,z=B+(O<<14&4294967295|O>>>18),O=P+(B^C&(z^B))+j[4]+3889429448&4294967295,P=z+(O<<20&4294967295|O>>>12),O=C+(z^B&(P^z))+j[9]+568446438&4294967295,C=P+(O<<5&4294967295|O>>>27),O=B+(P^z&(C^P))+j[14]+3275163606&4294967295,B=C+(O<<9&4294967295|O>>>23),O=z+(C^P&(B^C))+j[3]+4107603335&4294967295,z=B+(O<<14&4294967295|O>>>18),O=P+(B^C&(z^B))+j[8]+1163531501&4294967295,P=z+(O<<20&4294967295|O>>>12),O=C+(z^B&(P^z))+j[13]+2850285829&4294967295,C=P+(O<<5&4294967295|O>>>27),O=B+(P^z&(C^P))+j[2]+4243563512&4294967295,B=C+(O<<9&4294967295|O>>>23),O=z+(C^P&(B^C))+j[7]+1735328473&4294967295,z=B+(O<<14&4294967295|O>>>18),O=P+(B^C&(z^B))+j[12]+2368359562&4294967295,P=z+(O<<20&4294967295|O>>>12),O=C+(P^z^B)+j[5]+4294588738&4294967295,C=P+(O<<4&4294967295|O>>>28),O=B+(C^P^z)+j[8]+2272392833&4294967295,B=C+(O<<11&4294967295|O>>>21),O=z+(B^C^P)+j[11]+1839030562&4294967295,z=B+(O<<16&4294967295|O>>>16),O=P+(z^B^C)+j[14]+4259657740&4294967295,P=z+(O<<23&4294967295|O>>>9),O=C+(P^z^B)+j[1]+2763975236&4294967295,C=P+(O<<4&4294967295|O>>>28),O=B+(C^P^z)+j[4]+1272893353&4294967295,B=C+(O<<11&4294967295|O>>>21),O=z+(B^C^P)+j[7]+4139469664&4294967295,z=B+(O<<16&4294967295|O>>>16),O=P+(z^B^C)+j[10]+3200236656&4294967295,P=z+(O<<23&4294967295|O>>>9),O=C+(P^z^B)+j[13]+681279174&4294967295,C=P+(O<<4&4294967295|O>>>28),O=B+(C^P^z)+j[0]+3936430074&4294967295,B=C+(O<<11&4294967295|O>>>21),O=z+(B^C^P)+j[3]+3572445317&4294967295,z=B+(O<<16&4294967295|O>>>16),O=P+(z^B^C)+j[6]+76029189&4294967295,P=z+(O<<23&4294967295|O>>>9),O=C+(P^z^B)+j[9]+3654602809&4294967295,C=P+(O<<4&4294967295|O>>>28),O=B+(C^P^z)+j[12]+3873151461&4294967295,B=C+(O<<11&4294967295|O>>>21),O=z+(B^C^P)+j[15]+530742520&4294967295,z=B+(O<<16&4294967295|O>>>16),O=P+(z^B^C)+j[2]+3299628645&4294967295,P=z+(O<<23&4294967295|O>>>9),O=C+(z^(P|~B))+j[0]+4096336452&4294967295,C=P+(O<<6&4294967295|O>>>26),O=B+(P^(C|~z))+j[7]+1126891415&4294967295,B=C+(O<<10&4294967295|O>>>22),O=z+(C^(B|~P))+j[14]+2878612391&4294967295,z=B+(O<<15&4294967295|O>>>17),O=P+(B^(z|~C))+j[5]+4237533241&4294967295,P=z+(O<<21&4294967295|O>>>11),O=C+(z^(P|~B))+j[12]+1700485571&4294967295,C=P+(O<<6&4294967295|O>>>26),O=B+(P^(C|~z))+j[3]+2399980690&4294967295,B=C+(O<<10&4294967295|O>>>22),O=z+(C^(B|~P))+j[10]+4293915773&4294967295,z=B+(O<<15&4294967295|O>>>17),O=P+(B^(z|~C))+j[1]+2240044497&4294967295,P=z+(O<<21&4294967295|O>>>11),O=C+(z^(P|~B))+j[8]+1873313359&4294967295,C=P+(O<<6&4294967295|O>>>26),O=B+(P^(C|~z))+j[15]+4264355552&4294967295,B=C+(O<<10&4294967295|O>>>22),O=z+(C^(B|~P))+j[6]+2734768916&4294967295,z=B+(O<<15&4294967295|O>>>17),O=P+(B^(z|~C))+j[13]+1309151649&4294967295,P=z+(O<<21&4294967295|O>>>11),O=C+(z^(P|~B))+j[4]+4149444226&4294967295,C=P+(O<<6&4294967295|O>>>26),O=B+(P^(C|~z))+j[11]+3174756917&4294967295,B=C+(O<<10&4294967295|O>>>22),O=z+(C^(B|~P))+j[2]+718787259&4294967295,z=B+(O<<15&4294967295|O>>>17),O=P+(B^(z|~C))+j[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(z+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+z&4294967295,k.g[3]=k.g[3]+B&4294967295}r.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var P=C-this.blockSize,j=this.B,z=this.h,B=0;B<C;){if(z==0)for(;B<=P;)s(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<C;)if(j[z++]=k.charCodeAt(B++),z==this.blockSize){s(this,j),z=0;break}}else for(;B<C;)if(j[z++]=k[B++],z==this.blockSize){s(this,j),z=0;break}}this.h=z,this.o+=C},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var P=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=P&255,P/=256;for(this.u(k),k=Array(16),C=P=0;4>C;++C)for(var j=0;32>j;j+=8)k[P++]=this.g[C]>>>j&255;return k};function a(k,C){var P=f;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=C(k)}function u(k,C){this.h=C;for(var P=[],j=!0,z=k.length-1;0<=z;z--){var B=k[z]|0;j&&B==C||(P[z]=B,j=!1)}this.g=P}var f={};function h(k){return-128<=k&&128>k?a(k,function(C){return new u([C|0],0>C?-1:0)}):new u([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return I(m(-k));for(var C=[],P=1,j=0;k>=P;j++)C[j]=k/P|0,P*=4294967296;return new u(C,0)}function g(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return I(g(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(C,8)),j=v,z=0;z<k.length;z+=8){var B=Math.min(8,k.length-z),O=parseInt(k.substring(z,z+B),C);8>B?(B=m(Math.pow(C,B)),j=j.j(B).add(m(O))):(j=j.j(P),j=j.add(m(O)))}return j}var v=h(0),_=h(1),E=h(16777216);t=u.prototype,t.m=function(){if(R(this))return-I(this).m();for(var k=0,C=1,P=0;P<this.g.length;P++){var j=this.i(P);k+=(0<=j?j:4294967296+j)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(R(this))return"-"+I(this).toString(k);for(var C=m(Math.pow(k,6)),P=this,j="";;){var z=$(P,C).g;P=N(P,z.j(C));var B=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=z,A(P))return B+j;for(;6>B.length;)B="0"+B;j=B+j}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function R(k){return k.h==-1}t.l=function(k){return k=N(this,k),R(k)?-1:A(k)?0:1};function I(k){for(var C=k.g.length,P=[],j=0;j<C;j++)P[j]=~k.g[j];return new u(P,~k.h).add(_)}t.abs=function(){return R(this)?I(this):this},t.add=function(k){for(var C=Math.max(this.g.length,k.g.length),P=[],j=0,z=0;z<=C;z++){var B=j+(this.i(z)&65535)+(k.i(z)&65535),O=(B>>>16)+(this.i(z)>>>16)+(k.i(z)>>>16);j=O>>>16,B&=65535,O&=65535,P[z]=O<<16|B}return new u(P,P[P.length-1]&-2147483648?-1:0)};function N(k,C){return k.add(I(C))}t.j=function(k){if(A(this)||A(k))return v;if(R(this))return R(k)?I(this).j(I(k)):I(I(this).j(k));if(R(k))return I(this.j(I(k)));if(0>this.l(E)&&0>k.l(E))return m(this.m()*k.m());for(var C=this.g.length+k.g.length,P=[],j=0;j<2*C;j++)P[j]=0;for(j=0;j<this.g.length;j++)for(var z=0;z<k.g.length;z++){var B=this.i(j)>>>16,O=this.i(j)&65535,_e=k.i(z)>>>16,Ce=k.i(z)&65535;P[2*j+2*z]+=O*Ce,L(P,2*j+2*z),P[2*j+2*z+1]+=B*Ce,L(P,2*j+2*z+1),P[2*j+2*z+1]+=O*_e,L(P,2*j+2*z+1),P[2*j+2*z+2]+=B*_e,L(P,2*j+2*z+2)}for(j=0;j<C;j++)P[j]=P[2*j+1]<<16|P[2*j];for(j=C;j<2*C;j++)P[j]=0;return new u(P,0)};function L(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function V(k,C){this.g=k,this.h=C}function $(k,C){if(A(C))throw Error("division by zero");if(A(k))return new V(v,v);if(R(k))return C=$(I(k),C),new V(I(C.g),I(C.h));if(R(C))return C=$(k,I(C)),new V(I(C.g),C.h);if(30<k.g.length){if(R(k)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var P=_,j=C;0>=j.l(k);)P=q(P),j=q(j);var z=se(P,1),B=se(j,1);for(j=se(j,2),P=se(P,2);!A(j);){var O=B.add(j);0>=O.l(k)&&(z=z.add(P),B=O),j=se(j,1),P=se(P,1)}return C=N(k,z.j(C)),new V(z,C)}for(z=v;0<=k.l(C);){for(P=Math.max(1,Math.floor(k.m()/C.m())),j=Math.ceil(Math.log(P)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),B=m(P),O=B.j(C);R(O)||0<O.l(k);)P-=j,B=m(P),O=B.j(C);A(B)&&(B=_),z=z.add(B),k=N(k,O)}return new V(z,k)}t.A=function(k){return $(this,k).h},t.and=function(k){for(var C=Math.max(this.g.length,k.g.length),P=[],j=0;j<C;j++)P[j]=this.i(j)&k.i(j);return new u(P,this.h&k.h)},t.or=function(k){for(var C=Math.max(this.g.length,k.g.length),P=[],j=0;j<C;j++)P[j]=this.i(j)|k.i(j);return new u(P,this.h|k.h)},t.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),P=[],j=0;j<C;j++)P[j]=this.i(j)^k.i(j);return new u(P,this.h^k.h)};function q(k){for(var C=k.g.length+1,P=[],j=0;j<C;j++)P[j]=k.i(j)<<1|k.i(j-1)>>>31;return new u(P,k.h)}function se(k,C){var P=C>>5;C%=32;for(var j=k.g.length-P,z=[],B=0;B<j;B++)z[B]=0<C?k.i(B+P)>>>C|k.i(B+P+1)<<32-C:k.i(B+P);return new u(z,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,wo=u}).apply(typeof rS<"u"?rS:typeof self<"u"?self:typeof window<"u"?window:{});var Md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xC,Yc,SC,tm,$v,AC,RC,CC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,T){return d==Array.prototype||d==Object.prototype||(d[b]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Md=="object"&&Md];for(var b=0;b<d.length;++b){var T=d[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(d,b){if(b)e:{var T=r;d=d.split(".");for(var M=0;M<d.length-1;M++){var W=d[M];if(!(W in T))break e;T=T[W]}d=d[d.length-1],M=T[d],b=b(M),b!=M&&b!=null&&e(T,d,{configurable:!0,writable:!0,value:b})}}function a(d,b){d instanceof String&&(d+="");var T=0,M=!1,W={next:function(){if(!M&&T<d.length){var re=T++;return{value:b(re,d[re]),done:!1}}return M=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(d){return d||function(){return a(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}function m(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function g(d,b,T){return d.call.apply(d.bind,arguments)}function v(d,b,T){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,M),d.apply(b,W)}}return function(){return d.apply(b,arguments)}}function _(d,b,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function E(d,b){var T=Array.prototype.slice.call(arguments,1);return function(){var M=T.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function A(d,b){function T(){}T.prototype=b.prototype,d.aa=b.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(M,W,re){for(var ve=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ve[nt-2]=arguments[nt];return b.prototype[W].apply(M,ve)}}function R(d){const b=d.length;if(0<b){const T=Array(b);for(let M=0;M<b;M++)T[M]=d[M];return T}return[]}function I(d,b){for(let T=1;T<arguments.length;T++){const M=arguments[T];if(h(M)){const W=d.length||0,re=M.length||0;d.length=W+re;for(let ve=0;ve<re;ve++)d[W+ve]=M[ve]}else d.push(M)}}class N{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function L(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function $(d){return $[" "](d),d}$[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function se(d,b,T){for(const M in d)b.call(T,d[M],M,d)}function k(d,b){for(const T in d)b.call(void 0,d[T],T,d)}function C(d){const b={};for(const T in d)b[T]=d[T];return b}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(d,b){let T,M;for(let W=1;W<arguments.length;W++){M=arguments[W];for(T in M)d[T]=M[T];for(let re=0;re<P.length;re++)T=P[re],Object.prototype.hasOwnProperty.call(M,T)&&(d[T]=M[T])}}function z(d){var b=1;d=d.split(":");const T=[];for(;0<b&&d.length;)T.push(d.shift()),b--;return d.length&&T.push(d.join(":")),T}function B(d){f.setTimeout(()=>{throw d},0)}function O(){var d=me;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class _e{constructor(){this.h=this.g=null}add(b,T){const M=Ce.get();M.set(b,T),this.h?this.h.next=M:this.g=M,this.h=M}}var Ce=new N(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Q=!1,me=new _e,U=()=>{const d=f.Promise.resolve(void 0);ie=()=>{d.then(oe)}};var oe=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(T){B(T)}var b=Ce;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}Q=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};f.addEventListener("test",T,b),f.removeEventListener("test",T,b)}catch{}return d}();function Te(d,b){if(te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(q){e:{try{$(b.nodeName);var W=!0;break e}catch{}W=!1}W||(b=null)}}else T=="mouseover"?b=d.fromElement:T=="mouseout"&&(b=d.toElement);this.relatedTarget=b,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:xe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Te.aa.h.call(this)}}A(Te,te);var xe={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Se=0;function qe(d,b,T,M,W){this.listener=d,this.proxy=null,this.src=b,this.type=T,this.capture=!!M,this.ha=W,this.key=++Se,this.da=this.fa=!1}function lt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function tt(d){this.src=d,this.g={},this.h=0}tt.prototype.add=function(d,b,T,M,W){var re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);var ve=Pn(d,b,M,W);return-1<ve?(b=d[ve],T||(b.fa=!1)):(b=new qe(b,this.src,re,!!M,W),b.fa=T,d.push(b)),b};function on(d,b){var T=b.type;if(T in d.g){var M=d.g[T],W=Array.prototype.indexOf.call(M,b,void 0),re;(re=0<=W)&&Array.prototype.splice.call(M,W,1),re&&(lt(b),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Pn(d,b,T,M){for(var W=0;W<d.length;++W){var re=d[W];if(!re.da&&re.listener==b&&re.capture==!!T&&re.ha==M)return W}return-1}var Zn="closure_lm_"+(1e6*Math.random()|0),Oi={};function Vi(d,b,T,M,W){if(Array.isArray(b)){for(var re=0;re<b.length;re++)Vi(d,b[re],T,M,W);return null}return T=Ee(T),d&&d[Re]?d.K(b,T,m(M)?!!M.capture:!1,W):dn(d,b,T,!1,M,W)}function dn(d,b,T,M,W,re){if(!b)throw Error("Invalid event type");var ve=m(W)?!!W.capture:!!W,nt=J(d);if(nt||(d[Zn]=nt=new tt(d)),T=nt.add(b,T,M,ve,re),T.proxy)return T;if(M=zo(),T.proxy=M,M.src=d,M.listener=T,d.addEventListener)pe||(W=ve),W===void 0&&(W=!1),d.addEventListener(b.toString(),M,W);else if(d.attachEvent)d.attachEvent(Xr(b.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return T}function zo(){function d(T){return b.call(d.src,d.listener,T)}const b=H;return d}function hr(d,b,T,M,W){if(Array.isArray(b))for(var re=0;re<b.length;re++)hr(d,b[re],T,M,W);else M=m(M)?!!M.capture:!!M,T=Ee(T),d&&d[Re]?(d=d.i,b=String(b).toString(),b in d.g&&(re=d.g[b],T=Pn(re,T,M,W),-1<T&&(lt(re[T]),Array.prototype.splice.call(re,T,1),re.length==0&&(delete d.g[b],d.h--)))):d&&(d=J(d))&&(b=d.g[b.toString()],d=-1,b&&(d=Pn(b,T,M,W)),(T=-1<d?b[d]:null)&&Ho(T))}function Ho(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[Re])on(b.i,d);else{var T=d.type,M=d.proxy;b.removeEventListener?b.removeEventListener(T,M,d.capture):b.detachEvent?b.detachEvent(Xr(T),M):b.addListener&&b.removeListener&&b.removeListener(M),(T=J(b))?(on(T,d),T.h==0&&(T.src=null,b[Zn]=null)):lt(d)}}}function Xr(d){return d in Oi?Oi[d]:Oi[d]="on"+d}function H(d,b){if(d.da)d=!0;else{b=new Te(b,this);var T=d.listener,M=d.ha||d.src;d.fa&&Ho(d),d=T.call(M,b)}return d}function J(d){return d=d[Zn],d instanceof tt?d:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(d){return typeof d=="function"?d:(d[ae]||(d[ae]=function(b){return d.handleEvent(b)}),d[ae])}function ge(){ye.call(this),this.i=new tt(this),this.M=this,this.F=null}A(ge,ye),ge.prototype[Re]=!0,ge.prototype.removeEventListener=function(d,b,T,M){hr(this,d,b,T,M)};function fe(d,b){var T,M=d.F;if(M)for(T=[];M;M=M.F)T.push(M);if(d=d.M,M=b.type||b,typeof b=="string")b=new te(b,d);else if(b instanceof te)b.target=b.target||d;else{var W=b;b=new te(M,d),j(b,W)}if(W=!0,T)for(var re=T.length-1;0<=re;re--){var ve=b.g=T[re];W=be(ve,M,!0,b)&&W}if(ve=b.g=d,W=be(ve,M,!0,b)&&W,W=be(ve,M,!1,b)&&W,T)for(re=0;re<T.length;re++)ve=b.g=T[re],W=be(ve,M,!1,b)&&W}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var T=d.g[b],M=0;M<T.length;M++)lt(T[M]);delete d.g[b],d.h--}}this.F=null},ge.prototype.K=function(d,b,T,M){return this.i.add(String(d),b,!1,T,M)},ge.prototype.L=function(d,b,T,M){return this.i.add(String(d),b,!0,T,M)};function be(d,b,T,M){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var W=!0,re=0;re<b.length;++re){var ve=b[re];if(ve&&!ve.da&&ve.capture==T){var nt=ve.listener,Wt=ve.ha||ve.src;ve.fa&&on(d.i,ve),W=nt.call(Wt,M)!==!1&&W}}return W&&!M.defaultPrevented}function Le(d,b,T){if(typeof d=="function")T&&(d=_(d,T));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:f.setTimeout(d,b||0)}function wt(d){d.g=Le(()=>{d.g=null,d.i&&(d.i=!1,wt(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class Bt extends ye{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(d){ye.call(this),this.h=d,this.g={}}A(Li,ye);var Dr=[];function Nr(d){se(d.g,function(b,T){this.g.hasOwnProperty(T)&&Ho(b)},d),d.g={}}Li.prototype.N=function(){Li.aa.N.call(this),Nr(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=f.JSON.stringify,ji=f.JSON.parse,Ui=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Ms(){}Ms.prototype.h=null;function ku(d){return d.h||(d.h=d.i())}function Ou(){}var Bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){te.call(this,"d")}A(Fi,te);function Vu(){te.call(this,"c")}A(Vu,te);var Zr={},Lu=null;function Ps(){return Lu=Lu||new ge}Zr.La="serverreachability";function qa(d){te.call(this,Zr.La,d)}A(qa,te);function ks(d){const b=Ps();fe(b,new qa(b))}Zr.STAT_EVENT="statevent";function uh(d,b){te.call(this,Zr.STAT_EVENT,d),this.stat=b}A(uh,te);function Tt(d){const b=Ps();fe(b,new uh(b,d))}Zr.Ma="timingevent";function Yt(d,b){te.call(this,Zr.Ma,d),this.size=b}A(Yt,te);function Ft(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},b)}function dr(){this.g=!0}dr.prototype.xa=function(){this.g=!1};function ju(d,b,T,M,W,re){d.info(function(){if(d.g)if(re)for(var ve="",nt=re.split("&"),Wt=0;Wt<nt.length;Wt++){var rt=nt[Wt].split("=");if(1<rt.length){var ln=rt[0];rt=rt[1];var Qt=ln.split("_");ve=2<=Qt.length&&Qt[1]=="type"?ve+(ln+"="+rt+"&"):ve+(ln+"=redacted&")}}else ve=null;else ve=re;return"XMLHTTP REQ ("+M+") [attempt "+W+"]: "+b+`
`+T+`
`+ve})}function qp(d,b,T,M,W,re,ve){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+W+"]: "+b+`
`+T+`
`+re+" "+ve})}function Os(d,b,T,M){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+qo(d,T)+(M?" "+M:"")})}function ch(d,b){d.info(function(){return"TIMEOUT: "+b})}dr.prototype.info=function(){};function qo(d,b){if(!d.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var M=T[d];if(!(2>M.length)){var W=M[1];if(Array.isArray(W)&&!(1>W.length)){var re=W[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ve=1;ve<W.length;ve++)W[ve]=""}}}}return Jn(T)}catch{return b}}var Vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jr;function ei(){}A(ei,Ms),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},Jr=new ei;function kn(d,b,T,M){this.j=d,this.i=b,this.l=T,this.R=M||1,this.U=new Li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pt}function Pt(){this.i=null,this.g="",this.h=!1}var Uu={},Ga={};function Mr(d,b,T){d.L=1,d.v=Wo(er(b)),d.m=T,d.P=!0,Hi(d,null)}function Hi(d,b){d.F=Date.now(),Go(d),d.A=er(d.v);var T=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),Gu(T.i,"t",M),d.C=0,T=d.j.J,d.h=new Pt,d.g=Ah(d.j,T?b:null,!d.m),0<d.O&&(d.M=new Bt(_(d.Y,d,d.g),d.O)),b=d.U,T=d.g,M=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Dr[0]=W.toString()),W=Dr);for(var re=0;re<W.length;re++){var ve=Vi(T,W[re],M||b.handleEvent,!1,b.h||b);if(!ve)break;b.g[ve.key]=ve}b=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),ks(),ju(d.i,d.u,d.A,d.l,d.R,d.m)}kn.prototype.ca=function(d){d=d.target;const b=this.M;b&&yr(d)==3?b.j():this.Y(d)},kn.prototype.Y=function(d){try{if(d==this.g)e:{const Qt=yr(this.g);var b=this.g.Ba();const Xi=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||vh(this.g)))){this.J||Qt!=4||b==7||(b==8||0>=Xi?ks(3):ks(2)),Ls(this);var T=this.g.Z();this.X=T;t:if(fh(this)){var M=vh(this.g);d="";var W=M.length,re=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),ti(this);var ve="";break t}this.h.i=new f.TextDecoder}for(b=0;b<W;b++)this.h.h=!0,d+=this.h.i.decode(M[b],{stream:!(re&&b==W-1)});M.length=0,this.h.g+=d,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=T==200,qp(this.i,this.u,this.A,this.l,this.R,Qt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Wt=this.g;if((nt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(nt)){var rt=nt;break t}}rt=null}if(T=rt)Os(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$o(this,T);else{this.o=!1,this.s=3,Tt(12),mn(this),ti(this);break e}}if(this.P){T=!0;let pn;for(;!this.J&&this.C<ve.length;)if(pn=hh(this,ve),pn==Ga){Qt==4&&(this.s=4,Tt(14),T=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Uu){this.s=4,Tt(15),Os(this.i,this.l,ve,"[Invalid Chunk]"),T=!1;break}else Os(this.i,this.l,pn,null),$o(this,pn);if(fh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||ve.length!=0||this.h.h||(this.s=1,Tt(16),T=!1),this.o=this.o&&T,!T)Os(this.i,this.l,ve,"[Invalid Chunked Response]"),mn(this),ti(this);else if(0<ve.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),ra(ln),ln.M=!0,Tt(11))}}else Os(this.i,this.l,ve,null),$o(this,ve);Qt==4&&mn(this),this.o&&!this.J&&(Qt==4?Th(this.j,this):(this.o=!1,Go(this)))}else Wp(this.g),T==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),mn(this),ti(this)}}}catch{}finally{}};function fh(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function hh(d,b){var T=d.C,M=b.indexOf(`
`,T);return M==-1?Ga:(T=Number(b.substring(T,M)),isNaN(T)?Uu:(M+=1,M+T>b.length?Ga:(b=b.slice(M,M+T),d.C=M+T,b)))}kn.prototype.cancel=function(){this.J=!0,mn(this)};function Go(d){d.S=Date.now()+d.I,dh(d,d.I)}function dh(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ft(_(d.ba,d),b)}function Ls(d){d.B&&(f.clearTimeout(d.B),d.B=null)}kn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ch(this.i,this.A),this.L!=2&&(ks(),Tt(17)),mn(this),this.s=2,ti(this)):dh(this,this.S-d)};function ti(d){d.j.G==0||d.J||Th(d.j,d)}function mn(d){Ls(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,Nr(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}function $o(d,b){try{var T=d.j;if(T.G!=0&&(T.g==d||Bu(T.h,d))){if(!d.K&&Bu(T.h,d)&&T.G==3){try{var M=T.Da.g.parse(b)}catch{M=null}if(Array.isArray(M)&&M.length==3){var W=M;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)rl(T),tl(T);else break e;Qu(T),Tt(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ft(_(T.Za,T),6e3));if(1>=Ka(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Qi(T,11)}else if((d.K||T.g==d)&&rl(T),!L(b))for(W=T.Da.g.parse(b),b=0;b<W.length;b++){let rt=W[b];if(T.T=rt[0],rt=rt[1],T.G==2)if(rt[0]=="c"){T.K=rt[1],T.ia=rt[2];const ln=rt[3];ln!=null&&(T.la=ln,T.j.info("VER="+T.la));const Qt=rt[4];Qt!=null&&(T.Aa=Qt,T.j.info("SVER="+T.Aa));const Xi=rt[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(M=1.5*Xi,T.L=M,T.j.info("backChannelRequestTimeoutMs_="+M)),M=T;const pn=d.g;if(pn){const li=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var re=M.h;re.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Ya(re,re.h),re.h=null))}if(M.D){const Zu=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zu&&(M.ya=Zu,dt(M.I,M.D,Zu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),M=T;var ve=d;if(M.qa=Sh(M,M.J?M.ia:null,M.W),ve.K){On(M.h,ve);var nt=ve,Wt=M.L;Wt&&(nt.I=Wt),nt.B&&(Ls(nt),Go(nt)),M.g=ve}else wh(M);0<T.i.length&&nl(T)}else rt[0]!="stop"&&rt[0]!="close"||Qi(T,7);else T.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Qi(T,7):Yu(T):rt[0]!="noop"&&T.l&&T.l.ta(rt),T.v=0)}}ks(4)}catch{}}var mh=class{constructor(d,b){this.g=d,this.map=b}};function qi(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $a(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ka(d){return d.h?1:d.g?d.g.size:0}function Bu(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function Ya(d,b){d.g?d.g.add(b):d.h=b}function On(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}qi.prototype.cancel=function(){if(this.i=Fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Fu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const T of d.g.values())b=b.concat(T.D);return b}return R(d.i)}function Gp(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var b=[],T=d.length,M=0;M<T;M++)b.push(d[M]);return b}b=[],T=0;for(M in d)b[T++]=d[M];return b}function Wa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var b=[];d=d.length;for(var T=0;T<d;T++)b.push(T);return b}b=[],T=0;for(const M in d)b[T++]=M;return b}}}function zu(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var T=Wa(d),M=Gp(d),W=M.length,re=0;re<W;re++)b.call(void 0,M[re],T&&T[re],d)}var Ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $p(d,b){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var M=d[T].indexOf("="),W=null;if(0<=M){var re=d[T].substring(0,M);W=d[T].substring(M+1)}else re=d[T];b(re,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function zt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof zt){this.h=d.h,Yo(this,d.j),this.o=d.o,this.g=d.g,js(this,d.s),this.l=d.l;var b=d.i,T=new $i;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),Gi(this,T),this.m=d.m}else d&&(b=String(d).match(Ko))?(this.h=!1,Yo(this,b[1]||"",!0),this.o=mr(b[2]||""),this.g=mr(b[3]||"",!0),js(this,b[4]),this.l=mr(b[5]||"",!0),Gi(this,b[6]||"",!0),this.m=mr(b[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}zt.prototype.toString=function(){var d=[],b=this.j;b&&d.push(Qo(b,Hu,!0),":");var T=this.g;return(T||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Qo(b,Hu,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Qo(T,T.charAt(0)=="/"?Kp:qu,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Qo(T,Qa)),d.join("")};function er(d){return new zt(d)}function Yo(d,b,T){d.j=T?mr(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function js(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}function Gi(d,b,T){b instanceof $i?(d.i=b,gh(d.i,d.h)):(T||(b=Qo(b,Yp)),d.i=new $i(b,d.h))}function dt(d,b,T){d.i.set(b,T)}function Wo(d){return dt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function mr(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Qo(d,b,T){return typeof d=="string"?(d=encodeURI(d).replace(b,ph),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ph(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Hu=/[#\/\?@]/g,qu=/[#\?:]/g,Kp=/[#\?]/g,Yp=/[#\?@]/g,Qa=/#/g;function $i(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function pr(d){d.g||(d.g=new Map,d.h=0,d.i&&$p(d.i,function(b,T){d.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=$i.prototype,t.add=function(d,b){pr(this),this.i=null,d=ni(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(b),this.h+=1,this};function Ki(d,b){pr(d),b=ni(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Yi(d,b){return pr(d),b=ni(d,b),d.g.has(b)}t.forEach=function(d,b){pr(this),this.g.forEach(function(T,M){T.forEach(function(W){d.call(b,W,M,this)},this)},this)},t.na=function(){pr(this);const d=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let M=0;M<b.length;M++){const W=d[M];for(let re=0;re<W.length;re++)T.push(b[M])}return T},t.V=function(d){pr(this);let b=[];if(typeof d=="string")Yi(this,d)&&(b=b.concat(this.g.get(ni(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)b=b.concat(d[T])}return b},t.set=function(d,b){return pr(this),this.i=null,d=ni(this,d),Yi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function Gu(d,b,T){Ki(d,b),0<T.length&&(d.i=null,d.g.set(ni(d,b),R(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var M=b[T];const re=encodeURIComponent(String(M)),ve=this.V(M);for(M=0;M<ve.length;M++){var W=re;ve[M]!==""&&(W+="="+encodeURIComponent(String(ve[M]))),d.push(W)}}return this.i=d.join("&")};function ni(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function gh(d,b){b&&!d.j&&(pr(d),d.i=null,d.g.forEach(function(T,M){var W=M.toLowerCase();M!=W&&(Ki(this,M),Gu(this,W,T))},d)),d.j=b}function Xo(d,b){const T=new dr;if(f.Image){const M=new Image;M.onload=E(gr,T,"TestLoadImage: loaded",!0,b,M),M.onerror=E(gr,T,"TestLoadImage: error",!1,b,M),M.onabort=E(gr,T,"TestLoadImage: abort",!1,b,M),M.ontimeout=E(gr,T,"TestLoadImage: timeout",!1,b,M),f.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else b(!1)}function Pr(d,b){const T=new dr,M=new AbortController,W=setTimeout(()=>{M.abort(),gr(T,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:M.signal}).then(re=>{clearTimeout(W),re.ok?gr(T,"TestPingServer: ok",!0,b):gr(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(W),gr(T,"TestPingServer: error",!1,b)})}function gr(d,b,T,M,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),M(T)}catch{}}function Zo(){this.g=new Ui}function ri(d,b,T){const M=T||"";try{zu(d,function(W,re){let ve=W;m(W)&&(ve=Jn(W)),b.push(M+re+"="+encodeURIComponent(ve))})}catch(W){throw b.push(M+"type="+encodeURIComponent("_badmap")),W}}function Us(d){this.l=d.Ub||null,this.j=d.eb||!1}A(Us,Ms),Us.prototype.g=function(){return new Wi(this.l,this.j)},Us.prototype.i=function(d){return function(){return d}}({});function Wi(d,b){ge.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Wi,ge),t=Wi.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,si(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||f).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$u(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function $u(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?ii(this):si(this),this.readyState==3&&$u(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ii(this))},t.Qa=function(d){this.g&&(this.response=d,ii(this))},t.ga=function(){this.g&&ii(this)};function ii(d){d.readyState=4,d.l=null,d.j=null,d.v=null,si(d)}t.setRequestHeader=function(d,b){this.u.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=b.next();return d.join(`\r
`)};function si(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ku(d){let b="";return se(d,function(T,M){b+=M,b+=":",b+=T,b+=`\r
`}),b}function an(d,b,T){e:{for(M in T){var M=!1;break e}M=!0}M||(T=Ku(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):dt(d,b,T))}function ut(d){ge.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ut,ge);var Xa=/^https?$/i,Jo=["POST","PUT"];t=ut.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,b,T,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jr.g(),this.v=this.o?ku(this.o):ku(Jr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(re){yh(this,re);return}if(d=T||"",T=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var W in M)T.set(W,M[W]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const re of M.keys())T.set(re,M.get(re));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(T.keys()).find(re=>re.toLowerCase()=="content-type"),W=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Jo,b,void 0))||M||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of T)this.g.setRequestHeader(re,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(d),this.u=!1}catch(re){yh(this,re)}};function yh(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,Za(d),oi(d)}function Za(d){d.A||(d.A=!0,fe(d,"complete"),fe(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,fe(this,"complete"),fe(this,"abort"),oi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},t.bb=function(){Ja(this)};function Ja(d){if(d.h&&typeof u<"u"&&(!d.v[1]||yr(d)!=4||d.Z()!=2)){if(d.u&&yr(d)==4)Le(d.Ea,0,d);else if(fe(d,"readystatechange"),yr(d)==4){d.h=!1;try{const ve=d.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var M;if(M=ve===0){var W=String(d.D).match(Ko)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),M=!Xa.test(W?W.toLowerCase():"")}T=M}if(T)fe(d,"complete"),fe(d,"success");else{d.m=6;try{var re=2<yr(d)?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.Z()+"]",Za(d)}}finally{oi(d)}}}}function oi(d,b){if(d.g){ea(d);const T=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||fe(d,"ready");try{T.onreadystatechange=M}catch{}}}function ea(d){d.I&&(f.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function yr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),ji(b)}};function vh(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Wp(d){const b={};d=(d.g&&2<=yr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(L(d[M]))continue;var T=z(d[M]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const re=b[W]||[];b[W]=re,re.push(T)}k(b,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(d,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||b}function el(d){this.Aa=0,this.i=[],this.j=new dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,d),this.cb=ta("retryDelaySeedMs",1e4,d),this.Wa=ta("forwardChannelMaxRetries",2,d),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new qi(d&&d.concurrentRequestLimit),this.Da=new Zo,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=el.prototype,t.la=8,t.G=1,t.connect=function(d,b,T,M){Tt(0),this.W=d,this.H=b||{},T&&M!==void 0&&(this.H.OSID=T,this.H.OAID=M),this.F=this.X,this.I=Sh(this,null,this.W),nl(this)};function Yu(d){if(_h(d),d.G==3){var b=d.U++,T=er(d.I);if(dt(T,"SID",d.K),dt(T,"RID",b),dt(T,"TYPE","terminate"),na(d,T),b=new kn(d,d.j,b),b.L=2,b.v=Wo(er(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=b.v,T=!0),T||(b.g=Ah(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Go(b)}xh(d)}function tl(d){d.g&&(ra(d),d.g.cancel(),d.g=null)}function _h(d){tl(d),d.u&&(f.clearTimeout(d.u),d.u=null),rl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function nl(d){if(!$a(d.h)&&!d.s){d.s=!0;var b=d.Ga;ie||U(),Q||(ie(),Q=!0),me.add(b,d),d.B=0}}function Qp(d,b){return Ka(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ft(_(d.Ga,d,b),Xu(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new kn(this,this.j,d);let re=this.o;if(this.S&&(re?(re=C(re),j(re,this.S)):re=this.S),this.m!==null||this.O||(W.H=re,re=null),this.P)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var M=this.i[T];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(b+=M,4096<b){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=bh(this,W,b),T=er(this.I),dt(T,"RID",d),dt(T,"CVER",22),this.D&&dt(T,"X-HTTP-Session-Id",this.D),na(this,T),re&&(this.O?b="headers="+encodeURIComponent(String(Ku(re)))+"&"+b:this.m&&an(T,this.m,re)),Ya(this.h,W),this.Ua&&dt(T,"TYPE","init"),this.P?(dt(T,"$req",b),dt(T,"SID","null"),W.T=!0,Mr(W,T,null)):Mr(W,T,b),this.G=2}}else this.G==3&&(d?Wu(this,d):this.i.length==0||$a(this.h)||Wu(this))};function Wu(d,b){var T;b?T=b.l:T=d.U++;const M=er(d.I);dt(M,"SID",d.K),dt(M,"RID",T),dt(M,"AID",d.T),na(d,M),d.m&&d.o&&an(M,d.m,d.o),T=new kn(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),b&&(d.i=b.D.concat(d.i)),b=bh(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ya(d.h,T),Mr(T,M,b)}function na(d,b){d.H&&se(d.H,function(T,M){dt(b,M,T)}),d.l&&zu({},function(T,M){dt(b,M,T)})}function bh(d,b,T){T=Math.min(d.i.length,T);var M=d.l?_(d.l.Na,d.l,d):null;e:{var W=d.i;let re=-1;for(;;){const ve=["count="+T];re==-1?0<T?(re=W[0].g,ve.push("ofs="+re)):re=0:ve.push("ofs="+re);let nt=!0;for(let Wt=0;Wt<T;Wt++){let rt=W[Wt].g;const ln=W[Wt].map;if(rt-=re,0>rt)re=Math.max(0,W[Wt].g-100),nt=!1;else try{ri(ln,ve,"req"+rt+"_")}catch{M&&M(ln)}}if(nt){M=ve.join("&");break e}}}return d=d.i.splice(0,T),b.D=d,M}function wh(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;ie||U(),Q||(ie(),Q=!0),me.add(b,d),d.v=0}}function Qu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ft(_(d.Fa,d),Xu(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ft(_(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),tl(this),Eh(this))};function ra(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Eh(d){d.g=new kn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=er(d.qa);dt(b,"RID","rpc"),dt(b,"SID",d.K),dt(b,"AID",d.T),dt(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&dt(b,"TO",d.ja),dt(b,"TYPE","xmlhttp"),na(d,b),d.m&&d.o&&an(b,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Wo(er(b)),T.m=null,T.P=!0,Hi(T,d)}t.Za=function(){this.C!=null&&(this.C=null,tl(this),Qu(this),Tt(19))};function rl(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Th(d,b){var T=null;if(d.g==b){rl(d),ra(d),d.g=null;var M=2}else if(Bu(d.h,b))T=b.D,On(d.h,b),M=1;else return;if(d.G!=0){if(b.o)if(M==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var W=d.B;M=Ps(),fe(M,new Yt(M,T)),nl(d)}else wh(d);else if(W=b.s,W==3||W==0&&0<b.X||!(M==1&&Qp(d,b)||M==2&&Qu(d)))switch(T&&0<T.length&&(b=d.h,b.i=b.i.concat(T)),W){case 1:Qi(d,5);break;case 4:Qi(d,10);break;case 3:Qi(d,6);break;default:Qi(d,2)}}}function Xu(d,b){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*b}function Qi(d,b){if(d.j.info("Error code "+b),b==2){var T=_(d.fb,d),M=d.Xa;const W=!M;M=new zt(M||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Yo(M,"https"),Wo(M),W?Xo(M.toString(),T):Pr(M.toString(),T)}else Tt(2);d.G=0,d.l&&d.l.sa(b),xh(d),_h(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function xh(d){if(d.G=0,d.ka=[],d.l){const b=Fu(d.h);(b.length!=0||d.i.length!=0)&&(I(d.ka,b),I(d.ka,d.i),d.h.i.length=0,R(d.i),d.i.length=0),d.l.ra()}}function Sh(d,b,T){var M=T instanceof zt?er(T):new zt(T);if(M.g!="")b&&(M.g=b+"."+M.g),js(M,M.s);else{var W=f.location;M=W.protocol,b=b?b+"."+W.hostname:W.hostname,W=+W.port;var re=new zt(null);M&&Yo(re,M),b&&(re.g=b),W&&js(re,W),T&&(re.l=T),M=re}return T=d.D,b=d.ya,T&&b&&dt(M,T,b),dt(M,"VER",d.la),na(d,M),M}function Ah(d,b,T){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new ut(new Us({eb:T})):new ut(d.pa),b.Ha(d.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rh(){}t=Rh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function il(){}il.prototype.g=function(d,b){return new Vn(d,b)};function Vn(d,b){ge.call(this),this.g=new el(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!L(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new ai(this)}A(Vn,ge),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){Yu(this.g)},Vn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Jn(d),d=T);b.i.push(new mh(b.Ya++,d)),b.G==3&&nl(b)},Vn.prototype.N=function(){this.g.l=null,delete this.j,Yu(this.g),delete this.g,Vn.aa.N.call(this)};function Ch(d){Fi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const T in b){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}A(Ch,Fi);function Ih(){Vu.call(this),this.status=1}A(Ih,Vu);function ai(d){this.g=d}A(ai,Rh),ai.prototype.ua=function(){fe(this.g,"a")},ai.prototype.ta=function(d){fe(this.g,new Ch(d))},ai.prototype.sa=function(d){fe(this.g,new Ih)},ai.prototype.ra=function(){fe(this.g,"b")},il.prototype.createWebChannel=il.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,CC=function(){return new il},RC=function(){return Ps()},AC=Zr,$v={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,tm=Vs,zi.COMPLETE="complete",SC=zi,Ou.EventType=Bi,Bi.OPEN="a",Bi.CLOSE="b",Bi.ERROR="c",Bi.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Yc=Ou,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,xC=ut}).apply(typeof Md<"u"?Md:typeof self<"u"?self:typeof window<"u"?window:{});const iS="@firebase/firestore",sS="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Z0("@firebase/firestore");function jl(){return ka.logLevel}function Ae(t,...e){if(ka.logLevel<=Je.DEBUG){const n=e.map(f_);ka.debug(`Firestore (${Eu}): ${t}`,...n)}}function xs(t,...e){if(ka.logLevel<=Je.ERROR){const n=e.map(f_);ka.error(`Firestore (${Eu}): ${t}`,...n)}}function iu(t,...e){if(ka.logLevel<=Je.WARN){const n=e.map(f_);ka.warn(`Firestore (${Eu}): ${t}`,...n)}}function f_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${Eu}) INTERNAL ASSERTION FAILED: `+t;throw xs(e),new Error(e)}function ct(t,e){t||Fe()}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cn.UNAUTHENTICATED))}shutdown(){}}class s4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class o4{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _s,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},f=h=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _s)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string"),new IC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new Cn(e)}}class a4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class l4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new a4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u4{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ur(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0);const r=a=>{a.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new oS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string"),this.R=n.token,new oS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=c4(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function Kv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return We(r,s);{const a=DC(),u=f4(a.encode(aS(t,n)),a.encode(aS(e,n)));return u!==0?u:We(r,s)}}n+=r>65535?2:1}return We(t.length,e.length)}function aS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function f4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return We(t[n],e[n]);return We(t.length,e.length)}function su(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=-62135596800,uS=1e6;class tn{static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*uS);return new tn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lS)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uS}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new tn(0,0))}static max(){return new ze(new tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="__name__";class mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(),r===void 0?r=e.length-n:r>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=mi.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return We(e.length,n.length)}static compareSegments(e,n){const r=mi.isNumericId(e),s=mi.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?mi.extractNumericId(e).compare(mi.extractNumericId(n)):Kv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wo.fromString(e.substring(4,e.length-2))}}class _t extends mi{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new _t(n)}static emptyPath(){return new _t([])}}const h4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends mi{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return h4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cS}static keyField(){return new wn([cS])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new we(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new we(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(a(),s++)}if(a(),u)throw new we(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(_t.fromString(e))}static fromName(e){return new ke(_t.fromString(e).popFirst(5))}static empty(){return new ke(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new _t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=-1;function d4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ze.fromTimestamp(r===1e9?new tn(n+1,0):new tn(n,r));return new To(s,ke.empty(),e)}function m4(t){return new To(t.readTime,t.key,vf)}class To{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new To(ze.min(),ke.empty(),vf)}static max(){return new To(ze.max(),ke.empty(),vf)}}function p4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==g4)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let s=0,a=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++a,u&&a===s&&n()},h=>r(h))}),u=!0,a===s&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(s=>s?de.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new de((r,s)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const m=h;n(e[m]).next(g=>{u[m]=g,++f,f===a&&r(u)},g=>s(g))}})}static doWhile(e,n){return new de((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function v4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=-1;function op(t){return t==null}function Tm(t){return t===0&&1/t==-1/0}function _4(t){return typeof t=="number"&&Number.isInteger(t)&&!Tm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="";function b4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fS(e)),e=w4(t.get(n),e);return fS(e)}function w4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case MC:n+="";break;default:n+=a}}return n}function fS(t){return t+MC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}}class Pd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??bn.RED,this.left=s??bn.EMPTY,this.right=a??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new bn(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return bn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,n,r,s,a){return this}insert(e,n,r){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dS(this.data.getIterator())}getIteratorFrom(e){return new dS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class dS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new cr([])}unionWith(e){let n=new nn(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return su(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new kC("Invalid base64 string: "+a):a}}(e);return new En(n)}static fromUint8Array(e){const n=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const E4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(t){if(ct(!!t),typeof t=="string"){let e=0;const n=E4.exec(t);if(ct(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function So(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="server_timestamp",VC="__type__",LC="__previous_value__",jC="__local_write_time__";function ap(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[VC])===null||n===void 0?void 0:n.stringValue)===OC}function lp(t){const e=t.mapValue.fields[LC];return ap(e)?lp(e):e}function _f(t){const e=xo(t.mapValue.fields[jC].timestampValue);return new tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n,r,s,a,u,f,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m}}const xm="(default)";class bf{constructor(e,n){this.projectId=e,this.database=n||xm}static empty(){return new bf("","")}get isDefaultDatabase(){return this.database===xm}isEqual(e){return e instanceof bf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="__type__",x4="__max__",kd={mapValue:{}},BC="__vector__",Sm="value";function Ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ap(t)?4:A4(t)?9007199254740991:S4(t)?10:11:Fe()}function Ai(t,e){if(t===e)return!0;const n=Ao(t);if(n!==Ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _f(t).isEqual(_f(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=xo(s.timestampValue),f=xo(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return So(s.bytesValue).isEqual(So(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Lt(s.geoPointValue.latitude)===Lt(a.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Lt(s.integerValue)===Lt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Lt(s.doubleValue),f=Lt(a.doubleValue);return u===f?Tm(u)===Tm(f):isNaN(u)&&isNaN(f)}return!1}(t,e);case 9:return su(t.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},f=a.mapValue.fields||{};if(hS(u)!==hS(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Ai(u[h],f[h])))return!1;return!0}(t,e);default:return Fe()}}function wf(t,e){return(t.values||[]).find(n=>Ai(n,e))!==void 0}function ou(t,e){if(t===e)return 0;const n=Ao(t),r=Ao(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Lt(a.integerValue||a.doubleValue),h=Lt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(t,e);case 3:return mS(t.timestampValue,e.timestampValue);case 4:return mS(_f(t),_f(e));case 5:return Kv(t.stringValue,e.stringValue);case 6:return function(a,u){const f=So(a),h=So(u);return f.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const g=We(f[m],h[m]);if(g!==0)return g}return We(f.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const f=We(Lt(a.latitude),Lt(u.latitude));return f!==0?f:We(Lt(a.longitude),Lt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pS(t.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,m,g;const v=a.fields||{},_=u.fields||{},E=(f=v[Sm])===null||f===void 0?void 0:f.arrayValue,A=(h=_[Sm])===null||h===void 0?void 0:h.arrayValue,R=We(((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return R!==0?R:pS(E,A)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===kd.mapValue&&u===kd.mapValue)return 0;if(a===kd.mapValue)return 1;if(u===kd.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),m=u.fields||{},g=Object.keys(m);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const _=Kv(h[v],g[v]);if(_!==0)return _;const E=ou(f[h[v]],m[g[v]]);if(E!==0)return E}return We(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function mS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=xo(t),r=xo(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function pS(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=ou(n[s],r[s]);if(a)return a}return We(n.length,r.length)}function au(t){return Yv(t)}function Yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return So(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Yv(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Yv(n.fields[u])}`;return s+"}"}(t.mapValue):Fe()}function nm(t){switch(Ao(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lp(t);return e?16+nm(e):16;case 5:return 2*t.stringValue.length;case 6:return So(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+nm(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return jo(r.fields,(a,u)=>{s+=a.length+nm(u)}),s}(t.mapValue);default:throw Fe()}}function Am(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wv(t){return!!t&&"integerValue"in t}function d_(t){return!!t&&"arrayValue"in t}function gS(t){return!!t&&"nullValue"in t}function yS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rm(t){return!!t&&"mapValue"in t}function S4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UC])===null||n===void 0?void 0:n.stringValue)===BC}function rf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function A4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===x4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rf(n)}setAll(e){let n=wn.emptyPath(),r={},s=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=f.popLast()}u?r[f.lastSegment()]=rf(u):s.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());rm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];rm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){jo(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Qn(rf(this.value))}}function FC(t){const e=[];return jo(t.fields,(n,r)=>{const s=new wn([n]);if(rm(r)){const a=FC(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r,s,a,u,f){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new In(e,0,ze.min(),ze.min(),ze.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,s){return new In(e,1,n,ze.min(),r,s,0)}static newNoDocument(e,n){return new In(e,2,n,ze.min(),ze.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,ze.min(),ze.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.position=e,this.inclusive=n}}function vS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(u.referenceValue),n.key):r=ou(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function _S(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function R4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{}class Kt extends zC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new I4(e,n,r):n==="array-contains"?new M4(e,r):n==="in"?new P4(e,r):n==="not-in"?new k4(e,r):n==="array-contains-any"?new O4(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D4(e,r):new N4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ou(n,this.value)):n!==null&&Ao(this.value)===Ao(n)&&this.matchesComparison(ou(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends zC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new $r(e,n)}matches(e){return HC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function HC(t){return t.op==="and"}function qC(t){return C4(t)&&HC(t)}function C4(t){for(const e of t.filters)if(e instanceof $r)return!1;return!0}function Qv(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+au(t.value);if(qC(t))return t.filters.map(e=>Qv(e)).join(",");{const e=t.filters.map(n=>Qv(n)).join(",");return`${t.op}(${e})`}}function GC(t,e){return t instanceof Kt?function(r,s){return s instanceof Kt&&r.op===s.op&&r.field.isEqual(s.field)&&Ai(r.value,s.value)}(t,e):t instanceof $r?function(r,s){return s instanceof $r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,f)=>a&&GC(u,s.filters[f]),!0):!1}(t,e):void Fe()}function $C(t){return t instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${au(n.value)}`}(t):t instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map($C).join(" ,")+"}"}(t):"Filter"}class I4 extends Kt{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class D4 extends Kt{constructor(e,n){super(e,"in",n),this.keys=KC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N4 extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=KC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ke.fromName(r.referenceValue))}class M4 extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return d_(n)&&wf(n.arrayValue,this.value)}}class P4 extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wf(this.value.arrayValue,n)}}class k4 extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wf(this.value.arrayValue,n)}}class O4 extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!d_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n=null,r=[],s=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.le=null}}function bS(t,e=null,n=[],r=[],s=null,a=null,u=null){return new V4(t,e,n,r,s,a,u)}function m_(t){const e=He(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),op(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>au(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>au(r)).join(",")),e.le=n}return e.le}function p_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_S(t.startAt,e.startAt)&&_S(t.endAt,e.endAt)}function Xv(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n=null,r=[],s=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function L4(t,e,n,r,s,a,u,f){return new Uo(t,e,n,r,s,a,u,f)}function g_(t){return new Uo(t)}function wS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y_(t){return t.collectionGroup!==null}function Xl(t){const e=He(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new nn(wn.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new Ef(a,r))}),n.has(wn.keyField().canonicalString())||e.he.push(new Ef(wn.keyField(),r))}return e.he}function bi(t){const e=He(t);return e.Pe||(e.Pe=j4(e,Xl(t))),e.Pe}function j4(t,e){if(t.limitType==="F")return bS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Ef(s.field,a)});const n=t.endAt?new lu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lu(t.startAt.position,t.startAt.inclusive):null;return bS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zv(t,e){const n=t.filters.concat([e]);return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rm(t,e,n){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function up(t,e){return p_(bi(t),bi(e))&&t.limitType===e.limitType}function YC(t){return`${m_(bi(t))}|lt:${t.limitType}`}function Ul(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>$C(s)).join(", ")}]`),op(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>au(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>au(s)).join(",")),`Target(${r})`}(bi(t))}; limitType=${t.limitType})`}function cp(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Xl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,f,h){const m=vS(u,f,h);return u.inclusive?m<=0:m<0}(r.startAt,Xl(r),s)||r.endAt&&!function(u,f,h){const m=vS(u,f,h);return u.inclusive?m>=0:m>0}(r.endAt,Xl(r),s))}(t,e)}function U4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WC(t){return(e,n)=>{let r=!1;for(const s of Xl(t)){const a=B4(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function B4(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):function(a,u,f){const h=u.data.field(a),m=f.data.field(a);return h!==null&&m!==null?ou(h,m):Fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return PC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new Ct(ke.comparator);function Ss(){return F4}const QC=new Ct(ke.comparator);function Wc(...t){let e=QC;for(const n of t)e=e.insert(n.key,n);return e}function XC(t){let e=QC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Sa(){return sf()}function ZC(){return sf()}function sf(){return new La(t=>t.toString(),(t,e)=>t.isEqual(e))}const z4=new Ct(ke.comparator),H4=new nn(ke.comparator);function et(...t){let e=H4;for(const n of t)e=e.add(n);return e}const q4=new nn(We);function G4(){return q4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tm(e)?"-0":e}}function JC(t){return{integerValue:""+t}}function $4(t,e){return _4(e)?JC(e):v_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this._=void 0}}function K4(t,e,n){return t instanceof Cm?function(s,a){const u={fields:{[VC]:{stringValue:OC},[jC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ap(a)&&(a=lp(a)),a&&(u.fields[LC]=a),{mapValue:u}}(n,e):t instanceof uu?tI(t,e):t instanceof cu?nI(t,e):function(s,a){const u=eI(s,a),f=ES(u)+ES(s.Ie);return Wv(u)&&Wv(s.Ie)?JC(f):v_(s.serializer,f)}(t,e)}function Y4(t,e,n){return t instanceof uu?tI(t,e):t instanceof cu?nI(t,e):n}function eI(t,e){return t instanceof Im?function(r){return Wv(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Cm extends fp{}class uu extends fp{constructor(e){super(),this.elements=e}}function tI(t,e){const n=rI(e);for(const r of t.elements)n.some(s=>Ai(s,r))||n.push(r);return{arrayValue:{values:n}}}class cu extends fp{constructor(e){super(),this.elements=e}}function nI(t,e){let n=rI(e);for(const r of t.elements)n=n.filter(s=>!Ai(s,r));return{arrayValue:{values:n}}}class Im extends fp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ES(t){return Lt(t.integerValue||t.doubleValue)}function rI(t){return d_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.field=e,this.transform=n}}function W4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof uu&&s instanceof uu||r instanceof cu&&s instanceof cu?su(r.elements,s.elements,Ai):r instanceof Im&&s instanceof Im?Ai(r.Ie,s.Ie):r instanceof Cm&&s instanceof Cm}(t.transform,e.transform)}class Q4{constructor(e,n){this.version=e,this.transformResults=n}}class qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function im(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hp{}function sI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new __(t.key,qr.none()):new Yf(t.key,t.data,qr.none());{const n=t.data,r=Qn.empty();let s=new nn(wn.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Bo(t.key,r,new cr(s.toArray()),qr.none())}}function X4(t,e,n){t instanceof Yf?function(s,a,u){const f=s.value.clone(),h=xS(s.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Bo?function(s,a,u){if(!im(s.precondition,a))return void a.convertToUnknownDocument(u.version);const f=xS(s.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(oI(s)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function of(t,e,n,r){return t instanceof Yf?function(a,u,f,h){if(!im(a.precondition,u))return f;const m=a.value.clone(),g=SS(a.fieldTransforms,h,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bo?function(a,u,f,h){if(!im(a.precondition,u))return f;const m=SS(a.fieldTransforms,h,u),g=u.data;return g.setAll(oI(a)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(a,u,f){return im(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(t,e,n)}function Z4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=eI(r.transform,s||null);a!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,a))}return n||null}function TS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&su(r,s,(a,u)=>W4(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yf extends hp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Bo extends hp{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function oI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xS(t,e,n){const r=new Map;ct(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,f=e.data.field(a.field);r.set(a.field,Y4(u,f,n[s]))}return r}function SS(t,e,n){const r=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);r.set(s.field,K4(a,u,e))}return r}class __ extends hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J4 extends hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&X4(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=of(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=of(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZC();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=n.has(s.key)?null:f;const h=sI(u,f);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,(n,r)=>TS(n,r))&&su(this.baseMutations,e.baseMutations,(n,r)=>TS(n,r))}}class b_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ct(e.mutations.length===r.length);let s=function(){return z4}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new b_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,st;function r3(t){switch(t){case ue.OK:return Fe();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Fe()}}function aI(t){if(t===void 0)return xs("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Gt.OK:return ue.OK;case Gt.CANCELLED:return ue.CANCELLED;case Gt.UNKNOWN:return ue.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return ue.INTERNAL;case Gt.UNAVAILABLE:return ue.UNAVAILABLE;case Gt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Gt.NOT_FOUND:return ue.NOT_FOUND;case Gt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Gt.ABORTED:return ue.ABORTED;case Gt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Gt.DATA_LOSS:return ue.DATA_LOSS;default:return Fe()}}(st=Gt||(Gt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new wo([4294967295,4294967295],0);function AS(t){const e=DC().encode(t),n=new TC;return n.update(e),new Uint8Array(n.digest())}function RS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new wo([n,r],0),new wo([s,a],0)]}class w_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qc(`Invalid padding: ${n}`);if(r<0)throw new Qc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=wo.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(wo.fromNumber(r)));return s.compare(i3)===1&&(s=new wo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=AS(e),[r,s]=RS(n);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,s,a);if(!this.Re(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new w_(a,s,n);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const n=AS(e),[r,s]=RS(n);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,s,a);this.Ve(u)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dp(ze.min(),s,new Ct(We),Ss(),et())}}class Wf{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wf(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class lI{constructor(e,n){this.targetId=e,this.ge=n}}class uI{constructor(e,n,r=En.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class CS{constructor(){this.pe=0,this.ye=IS(),this.we=En.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=et(),n=et(),r=et();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Fe()}}),new Wf(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=IS()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ct(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class s3{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ss(),this.$e=Od(),this.Ue=Od(),this.Ke=new Ct(We)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const a=s.target;if(Xv(a))if(r===0){const u=new ke(a.path);this.ze(n,u,In.newNoDocument(u,ze.min()))}else ct(r===1);else{const u=this.et(n);if(u!==r){const f=this.tt(e),h=f?this.nt(f,e,u):1;if(h!==0){this.Ye(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,m)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let u,f;try{u=So(r).toUint8Array()}catch(h){if(h instanceof kC)return iu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new w_(u,s,a)}catch(h){return iu(h instanceof Qc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.ze(n,a,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((a,u)=>{const f=this.Xe(u);if(f){if(a.current&&Xv(f.target)){const h=new ke(f.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,In.newNoDocument(h,e))}a.ve&&(n.set(u,a.Fe()),a.Me())}});let r=et();this.Ue.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const m=this.Xe(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const s=new dp(e,n,this.Ke,this.Qe,r);return this.Qe=Ss(),this.$e=Od(),this.Ue=Od(),this.Ke=new Ct(We),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new CS,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new nn(We),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new nn(We),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new CS),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Od(){return new Ct(ke.comparator)}function IS(){return new Ct(ke.comparator)}const o3={asc:"ASCENDING",desc:"DESCENDING"},a3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l3={and:"AND",or:"OR"};class u3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jv(t,e){return t.useProto3Json||op(e)?e:{value:e}}function Dm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function c3(t,e){return Dm(t,e.toTimestamp())}function wi(t){return ct(!!t),ze.fromTimestamp(function(n){const r=xo(n);return new tn(r.seconds,r.nanos)}(t))}function E_(t,e){return e0(t,e).canonicalString()}function e0(t,e){const n=function(s){return new _t(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fI(t){const e=_t.fromString(t);return ct(gI(e)),e}function t0(t,e){return E_(t.databaseId,e.path)}function nv(t,e){const n=fI(e);if(n.get(1)!==t.databaseId.projectId)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(dI(n))}function hI(t,e){return E_(t.databaseId,e)}function f3(t){const e=fI(t);return e.length===4?_t.emptyPath():dI(e)}function n0(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dI(t){return ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function DS(t,e,n){return{name:t0(t,e),fields:n.value.mapValue.fields}}function h3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(m,g){return m.useProto3Json?(ct(g===void 0||typeof g=="string"),En.fromBase64String(g||"")):(ct(g===void 0||g instanceof Buffer||g instanceof Uint8Array),En.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const g=m.code===void 0?ue.UNKNOWN:aI(m.code);return new we(g,m.message||"")}(u);n=new uI(r,s,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=nv(t,r.document.name),a=wi(r.document.updateTime),u=r.document.createTime?wi(r.document.createTime):ze.min(),f=new Qn({mapValue:{fields:r.document.fields}}),h=In.newFoundDocument(s,a,u,f),m=r.targetIds||[],g=r.removedTargetIds||[];n=new sm(m,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=nv(t,r.document),a=r.readTime?wi(r.readTime):ze.min(),u=In.newNoDocument(s,a),f=r.removedTargetIds||[];n=new sm([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=nv(t,r.document),a=r.removedTargetIds||[];n=new sm([],a,s,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new n3(s,a),f=r.targetId;n=new lI(f,u)}}return n}function d3(t,e){let n;if(e instanceof Yf)n={update:DS(t,e.key,e.value)};else if(e instanceof __)n={delete:t0(t,e.key)};else if(e instanceof Bo)n={update:DS(t,e.key,e.data),updateMask:E3(e.fieldMask)};else{if(!(e instanceof J4))return Fe();n={verify:t0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof Cm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof uu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Im)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw Fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:c3(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe()}(t,e.precondition)),n}function m3(t,e){return t&&t.length>0?(ct(e!==void 0),t.map(n=>function(s,a){let u=s.updateTime?wi(s.updateTime):wi(a);return u.isEqual(ze.min())&&(u=wi(a)),new Q4(u,s.transformResults||[])}(n,e))):[]}function p3(t,e){return{documents:[hI(t,e.path)]}}function g3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hI(t,s);const a=function(m){if(m.length!==0)return pI($r.create(m,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(g=>function(_){return{field:Bl(_.field),direction:_3(_.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Jv(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:s}}function y3(t){let e=f3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ct(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(v){const _=mI(v);return _ instanceof $r&&qC(_)?_.getFilters():[_]}(n.where));let u=[];n.orderBy&&(u=function(v){return v.map(_=>function(A){return new Ef(Fl(A.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let f=null;n.limit&&(f=function(v){let _;return _=typeof v=="object"?v.value:v,op(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(v){const _=!!v.before,E=v.values||[];return new lu(E,_)}(n.startAt));let m=null;return n.endAt&&(m=function(v){const _=!v.before,E=v.values||[];return new lu(E,_)}(n.endAt)),L4(e,s,u,a,f,"F",h,m)}function v3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fl(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fl(n.unaryFilter.field);return Kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fl(n.unaryFilter.field);return Kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fl(n.unaryFilter.field);return Kt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(t):t.fieldFilter!==void 0?function(n){return Kt.create(Fl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(r=>mI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Fe()}}(n.compositeFilter.op))}(t):Fe()}function _3(t){return o3[t]}function b3(t){return a3[t]}function w3(t){return l3[t]}function Bl(t){return{fieldPath:t.canonicalString()}}function Fl(t){return wn.fromServerFormat(t.fieldPath)}function pI(t){return t instanceof Kt?function(n){if(n.op==="=="){if(yS(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NAN"}};if(gS(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yS(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NAN"}};if(gS(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(n.field),op:b3(n.op),value:n.value}}}(t):t instanceof $r?function(n){const r=n.getFilters().map(s=>pI(s));return r.length===1?r[0]:{compositeFilter:{op:w3(n.op),filters:r}}}(t):Fe()}function E3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r,s,a=ze.min(),u=ze.min(),f=En.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.Tt=e}}function x3(t){const e=y3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.Tn=new A3}addToCollectionParentIndex(e,n){return this.Tn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(To.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(To.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class A3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nn(_t.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nn(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yI=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(yI,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new fu(0)}static Kn(){return new fu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="LruGarbageCollector",R3=1048576;function PS([t,e],[n,r]){const s=We(t,n);return s===0?We(e,r):s}class C3{constructor(e){this.Hn=e,this.buffer=new nn(PS),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();PS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class I3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ae(MS,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xu(n)?Ae(MS,"Ignoring IndexedDB error during garbage collection: ",n):await Tu(n)}await this.er(3e5)})}}class D3{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return de.resolve(sp.ae);const r=new C3(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(NS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NS):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,a,u,f,h,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,f=Date.now(),this.removeTargets(e,r,n))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(m=Date.now(),jl()<=Je.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${v} documents in `+(m-h)+`ms
Total Duration: ${m-g}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function N3(t,e){return new D3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.changes=new La(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&of(r.mutation,s,cr.empty(),tn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const s=Sa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let u=Wc();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Sa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,r,s){let a=Ss();const u=sf(),f=function(){return sf()}();return n.forEach((h,m)=>{const g=r.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof Bo)?a=a.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),of(g.mutation,m,g.mutation.getFieldMask(),tn.now())):u.set(m.key,cr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,g)=>u.set(m,g)),n.forEach((m,g)=>{var v;return f.set(m,new P3(g,(v=u.get(m))!==null&&v!==void 0?v:null))}),f))}recalculateAndSaveOverlays(e,n){const r=sf();let s=new Ct((u,f)=>u-f),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(h=>{const m=n.get(h);if(m===null)return;let g=r.get(h)||cr.empty();g=f.applyToLocalView(m,g),r.set(h,g);const v=(s.get(f.batchId)||et()).add(h);s=s.insert(f.batchId,v)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,g=h.value,v=ZC();g.forEach(_=>{if(!a.has(_)){const E=sI(n.get(_),r.get(_));E!==null&&v.set(_,E),a=a.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return de.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return ke.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):de.resolve(Sa());let f=vf,h=a;return u.next(m=>de.forEach(m,(g,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),a.get(g)?de.resolve():this.remoteDocumentCache.getEntry(e,g).next(_=>{h=h.insert(g,_)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,et())).next(g=>({batchId:f,changes:XC(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next(r=>{let s=Wc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let u=Wc();return this.indexManager.getCollectionParents(e,a).next(f=>de.forEach(f,h=>{const m=function(v,_){return new Uo(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next(g=>{g.forEach((v,_)=>{u=u.insert(v,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(u=>{a.forEach((h,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,In.newInvalidDocument(g)))});let f=Wc();return u.forEach((h,m)=>{const g=a.get(h);g!==void 0&&of(g.mutation,m,cr.empty(),tn.now()),cp(n,m)&&(f=f.insert(h,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return de.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:wi(s.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:x3(s.bundledQuery),readTime:wi(s.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.overlays=new Ct(ke.comparator),this.Rr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sa();return de.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.Et(e,n,a)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const s=Sa(),a=n.length+1,u=new ke(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return de.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Ct((m,g)=>m-g);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=Sa(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const f=Sa(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,g)=>f.set(m,g)),!(f.size()>=s)););return de.resolve(f)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new t3(n,r));let a=this.Rr.get(n);a===void 0&&(a=et(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.Vr=new nn(hn.mr),this.gr=new nn(hn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new hn(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new ke(new _t([])),r=new hn(n,e),s=new hn(n,e+1),a=[];return this.gr.forEachInRange([r,s],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ke(new _t([])),r=new hn(n,e),s=new hn(n,e+1);let a=et();return this.gr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new hn(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ke.comparator(e.key,n.key)||We(e.Cr,n.Cr)}static pr(e,n){return We(e.Cr,n.Cr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new nn(hn.mr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new e3(a,n,r,s);this.mutationQueue.push(u);for(const f of s)this.Mr=this.Mr.add(new hn(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),a=s<0?0:s;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?h_:this.Fr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),s=new hn(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],u=>{const f=this.Or(u.Cr);a.push(f)}),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(We);return n.forEach(s=>{const a=new hn(s,0),u=new hn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],f=>{r=r.add(f.Cr)})}),de.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const u=new hn(new ke(a),0);let f=new nn(We);return this.Mr.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(f=f.add(h.Cr)),!0)},u),de.resolve(this.Br(f))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ct(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return de.forEach(n.mutations,s=>{const a=new hn(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new hn(n,0),s=this.Mr.firstAfterOrEqual(r);return de.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.kr=e,this.docs=function(){return new Ct(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,u=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=Ss();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():In.newInvalidDocument(s))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Ss();const u=n.path,f=new ke(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:g}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||p4(m4(g),r)<=0||(s.has(g.key)||cp(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return de.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Fe()}qr(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new B3(this)}getSize(e){return de.resolve(this.size)}}class B3 extends M3{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.persistence=e,this.Qr=new La(n=>m_(n),p_),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.$r=0,this.Ur=new T_,this.targetCount=0,this.Kr=fu.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),de.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new fu(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.zn(n),de.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),de.waitFor(a).next(()=>s)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),de.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new sp(0),this.zr=!1,this.zr=!0,this.jr=new L3,this.referenceDelegate=e(this),this.Hr=new F3(this),this.indexManager=new S3,this.remoteDocumentCache=function(s){return new U3(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new T3(n),this.Yr=new O3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new V3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new j3(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Ae("MemoryPersistence","Starting transaction:",e);const s=new z3(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,n){return de.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class z3 extends y4{constructor(e){super(),this.currentSequenceNumber=e}}class x_{constructor(e){this.persistence=e,this.ti=new T_,this.ni=null}static ri(e){return new x_(e)}get ii(){if(this.ni)return this.ni;throw Fe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),de.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.ii,r=>{const s=ke.fromPath(r);return this.si(e,s).next(a=>{a||n.removeEntry(s,ze.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return de.or([()=>de.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Nm{constructor(e,n){this.persistence=e,this.oi=new La(r=>b4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=N3(this,n)}static ri(e,n){return new Nm(e,n)}Zr(){}Xr(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return de.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?de.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,u=>this.ar(e,u,n).next(f=>{f||(r++,a.removeEntry(u,ze.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),de.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nm(e.data.value)),n}ar(e,n,r){return de.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return de.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=et(),s=et();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new S_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return EV()?8:v4(Nn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.rs(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,n,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new H3;return this._s(e,n,u).next(f=>{if(a.result=f,this.Xi)return this.us(e,n,u,f.size)})}).next(()=>a.result)}us(e,n,r,s){return r.documentReadCount<this.es?(jl()<=Je.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Ul(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),de.resolve()):(jl()<=Je.DEBUG&&Ae("QueryEngine","Query:",Ul(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(jl()<=Je.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Ul(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(n))):de.resolve())}rs(e,n){if(wS(n))return de.resolve(null);let r=bi(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Rm(n,null,"F"),r=bi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=et(...a);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.cs(n,f);return this.ls(n,m,u,h.readTime)?this.rs(e,Rm(n,null,"F")):this.hs(e,m,n,h)}))})))}ss(e,n,r,s){return wS(n)||s.isEqual(ze.min())?de.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(n,a);return this.ls(n,u,r,s)?de.resolve(null):(jl()<=Je.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ul(n)),this.hs(e,u,n,d4(s,vf)).next(f=>f))})}cs(e,n){let r=new nn(WC(e));return n.forEach((s,a)=>{cp(e,a)&&(r=r.add(a))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,n,r){return jl()<=Je.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Ul(n)),this.ns.getDocumentsMatchingQuery(e,n,To.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="LocalStore",G3=3e8;class $3{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new Ct(We),this.Is=new La(a=>m_(a),p_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k3(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function K3(t,e,n,r){return new $3(t,e,n,r)}async function _I(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let h=et();for(const m of s){u.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}for(const m of a){f.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function Y3(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,m,g){const v=m.batch,_=v.keys();let E=de.resolve();return _.forEach(A=>{E=E.next(()=>g.getEntry(h,A)).next(R=>{const I=m.docVersions.get(A);ct(I!==null),R.version.compareTo(I)<0&&(v.applyToRemoteDocument(R,m),R.isValidDocument()&&(R.setReadTime(m.commitVersion),g.addEntry(R)))})}),E.next(()=>f.mutationQueue.removeMutationBatch(h,v))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=et();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function bI(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function W3(t,e){const n=He(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const f=[];e.targetChanges.forEach((g,v)=>{const _=s.get(v);if(!_)return;f.push(n.Hr.removeMatchingKeys(a,g.removedDocuments,v).next(()=>n.Hr.addMatchingKeys(a,g.addedDocuments,v)));let E=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(En.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),s=s.insert(v,E),function(R,I,N){return R.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=G3?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(_,E,g)&&f.push(n.Hr.updateTargetData(a,E))});let h=Ss(),m=et();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),f.push(Q3(a,u,e.documentUpdates).next(g=>{h=g.Vs,m=g.fs})),!r.isEqual(ze.min())){const g=n.Hr.getLastRemoteSnapshotVersion(a).next(v=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(g)}return de.waitFor(f).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(n.Ts=s,a))}function Q3(t,e,n){let r=et(),s=et();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=Ss();return n.forEach((f,h)=>{const m=a.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(ze.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):Ae(A_,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)}),{Vs:u,fs:s}})}function X3(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=h_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Z3(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(a=>a?(s=a,de.resolve(s)):n.Hr.allocateTargetId(r).next(u=>(s=new yo(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function r0(t,e,n){const r=He(t),s=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!xu(u))throw u;Ae(A_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function kS(t,e,n){const r=He(t);let s=ze.min(),a=et();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,g){const v=He(h),_=v.Is.get(g);return _!==void 0?de.resolve(v.Ts.get(_)):v.Hr.getTargetData(m,g)}(r,u,bi(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,n?s:ze.min(),n?a:et())).next(f=>(J3(r,U4(e),f),{documents:f,gs:a})))}function J3(t,e,n){let r=t.Es.get(e)||ze.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class OS{constructor(){this.activeTargetIds=G4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e6{constructor(){this.ho=new OS,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new OS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="ConnectivityMonitor";class LS{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ae(VS,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ae(VS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd=null;function i0(){return Vd===null?Vd=function(){return 268435456+Math.round(2147483648*Math.random())}():Vd++,"0x"+Vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="RestConnection",n6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r6{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===xm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,a){const u=i0(),f=this.bo(e,n.toUriEncodedString());Ae(rv,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,a),this.vo(e,f,h,r).then(m=>(Ae(rv,`Received RPC '${e}' ${u}: `,m),m),m=>{throw iu(rv,`RPC '${e}' ${u} failed with error: `,m,"url: ",f,"request:",r),m})}Co(e,n,r,s,a,u){return this.So(e,n,r,s,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,n){const r=n6[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class s6 extends r6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const a=i0();return new Promise((u,f)=>{const h=new xC;h.setWithCredentials(!0),h.listenOnce(SC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case tm.NO_ERROR:const g=h.getResponseJson();Ae(Sn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case tm.TIMEOUT:Ae(Sn,`RPC '${e}' ${a} timed out`),f(new we(ue.DEADLINE_EXCEEDED,"Request time out"));break;case tm.HTTP_ERROR:const v=h.getStatus();if(Ae(Sn,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const A=function(I){const N=I.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(N)>=0?N:ue.UNKNOWN}(E.status);f(new we(A,E.message))}else f(new we(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new we(ue.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{Ae(Sn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);Ae(Sn,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",m,r,15)})}Wo(e,n,r){const s=i0(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=CC(),f=RC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");Ae(Sn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const v=u.createWebChannel(g,h);let _=!1,E=!1;const A=new i6({Fo:I=>{E?Ae(Sn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(_||(Ae(Sn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),Ae(Sn,`RPC '${e}' stream ${s} sending:`,I),v.send(I))},Mo:()=>v.close()}),R=(I,N,L)=>{I.listen(N,V=>{try{L(V)}catch($){setTimeout(()=>{throw $},0)}})};return R(v,Yc.EventType.OPEN,()=>{E||(Ae(Sn,`RPC '${e}' stream ${s} transport opened.`),A.Qo())}),R(v,Yc.EventType.CLOSE,()=>{E||(E=!0,Ae(Sn,`RPC '${e}' stream ${s} transport closed`),A.Uo())}),R(v,Yc.EventType.ERROR,I=>{E||(E=!0,iu(Sn,`RPC '${e}' stream ${s} transport errored:`,I),A.Uo(new we(ue.UNAVAILABLE,"The operation could not be completed")))}),R(v,Yc.EventType.MESSAGE,I=>{var N;if(!E){const L=I.data[0];ct(!!L);const V=L,$=(V==null?void 0:V.error)||((N=V[0])===null||N===void 0?void 0:N.error);if($){Ae(Sn,`RPC '${e}' stream ${s} received error:`,$);const q=$.status;let se=function(P){const j=Gt[P];if(j!==void 0)return aI(j)}(q),k=$.message;se===void 0&&(se=ue.INTERNAL,k="Unknown error status: "+q+" with message "+$.message),E=!0,A.Uo(new we(se,k)),v.close()}else Ae(Sn,`RPC '${e}' stream ${s} received:`,L),A.Ko(L)}}),R(f,AC.STAT_EVENT,I=>{I.stat===$v.PROXY?Ae(Sn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===$v.NOPROXY&&Ae(Sn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function iv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){return new u3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&Ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="PersistentStream";class EI{constructor(e,n,r,s,a,u,f,h){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new wI(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(xs(n.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new we(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ae(jS,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Ae(jS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o6 extends EI{constructor(e,n,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=h3(this.serializer,e),r=function(a){if(!("targetChange"in a))return ze.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ze.min():u.readTime?wi(u.readTime):ze.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=n0(this.serializer),n.addTarget=function(a,u){let f;const h=u.target;if(f=Xv(h)?{documents:p3(a,h)}:{query:g3(a,h).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=cI(a,u.resumeToken);const m=Jv(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(ze.min())>0){f.readTime=Dm(a,u.snapshotVersion.toTimestamp());const m=Jv(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const r=v3(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=n0(this.serializer),n.removeTarget=e,this.I_(n)}}class a6 extends EI{constructor(e,n,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ct(!!e.streamToken),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=m3(e.writeResults,e.commitTime),r=wi(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=n0(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>d3(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{}class u6 extends l6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,e0(n,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(ue.UNKNOWN,a.toString())})}Co(e,n,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,e0(n,r),s,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ue.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class c6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(xs(n),this.N_=!1):Ae("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class f6{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{ja(this)&&(Ae(Oa,"Restarting streams for network reachability change."),await async function(h){const m=He(h);m.W_.add(4),await Qf(m),m.j_.set("Unknown"),m.W_.delete(4),await pp(m)}(this))})}),this.j_=new c6(r,s)}}async function pp(t){if(ja(t))for(const e of t.G_)await e(!0)}async function Qf(t){for(const e of t.G_)await e(!1)}function TI(t,e){const n=He(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),D_(n)?I_(n):Su(n).c_()&&C_(n,e))}function R_(t,e){const n=He(t),r=Su(n);n.K_.delete(e),r.c_()&&xI(n,e),n.K_.size===0&&(r.c_()?r.P_():ja(n)&&n.j_.set("Unknown"))}function C_(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Su(t).y_(e)}function xI(t,e){t.H_.Ne(e),Su(t).w_(e)}function I_(t){t.H_=new s3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Su(t).start(),t.j_.B_()}function D_(t){return ja(t)&&!Su(t).u_()&&t.K_.size>0}function ja(t){return He(t).W_.size===0}function SI(t){t.H_=void 0}async function h6(t){t.j_.set("Online")}async function d6(t){t.K_.forEach((e,n)=>{C_(t,e)})}async function m6(t,e){SI(t),D_(t)?(t.j_.q_(e),I_(t)):t.j_.set("Unknown")}async function p6(t,e,n){if(t.j_.set("Online"),e instanceof uI&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const f of a.targetIds)s.K_.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.K_.delete(f),s.H_.removeTarget(f))}(t,e)}catch(r){Ae(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mm(t,r)}else if(e instanceof sm?t.H_.We(e):e instanceof lI?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ze.min()))try{const r=await bI(t.localStore);n.compareTo(r)>=0&&await function(a,u){const f=a.H_.ot(u);return f.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.K_.get(m);g&&a.K_.set(m,g.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,m)=>{const g=a.K_.get(h);if(!g)return;a.K_.set(h,g.withResumeToken(En.EMPTY_BYTE_STRING,g.snapshotVersion)),xI(a,h);const v=new yo(g.target,h,m,g.sequenceNumber);C_(a,v)}),a.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){Ae(Oa,"Failed to raise snapshot:",r),await Mm(t,r)}}async function Mm(t,e,n){if(!xu(e))throw e;t.W_.add(1),await Qf(t),t.j_.set("Offline"),n||(n=()=>bI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ae(Oa,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await pp(t)})}function AI(t,e){return e().catch(n=>Mm(t,n,e))}async function gp(t){const e=He(t),n=Ro(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:h_;for(;g6(e);)try{const s=await X3(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,y6(e,s)}catch(s){await Mm(e,s)}RI(e)&&CI(e)}function g6(t){return ja(t)&&t.U_.length<10}function y6(t,e){t.U_.push(e);const n=Ro(t);n.c_()&&n.S_&&n.b_(e.mutations)}function RI(t){return ja(t)&&!Ro(t).u_()&&t.U_.length>0}function CI(t){Ro(t).start()}async function v6(t){Ro(t).C_()}async function _6(t){const e=Ro(t);for(const n of t.U_)e.b_(n.mutations)}async function b6(t,e,n){const r=t.U_.shift(),s=b_.from(r,e,n);await AI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await gp(t)}async function w6(t,e){e&&Ro(t).S_&&await async function(r,s){if(function(u){return r3(u)&&u!==ue.ABORTED}(s.code)){const a=r.U_.shift();Ro(r).h_(),await AI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await gp(r)}}(t,e),RI(t)&&CI(t)}async function US(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Ae(Oa,"RemoteStore received new credentials");const r=ja(n);n.W_.add(3),await Qf(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await pp(n)}async function E6(t,e){const n=He(t);e?(n.W_.delete(2),await pp(n)):e||(n.W_.add(2),await Qf(n),n.j_.set("Unknown"))}function Su(t){return t.J_||(t.J_=function(n,r,s){const a=He(n);return a.M_(),new o6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:h6.bind(null,t),No:d6.bind(null,t),Lo:m6.bind(null,t),p_:p6.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),D_(t)?I_(t):t.j_.set("Unknown")):(await t.J_.stop(),SI(t))})),t.J_}function Ro(t){return t.Y_||(t.Y_=function(n,r,s){const a=He(n);return a.M_(),new a6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:v6.bind(null,t),Lo:w6.bind(null,t),D_:_6.bind(null,t),v_:b6.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await gp(t)):(await t.Y_.stop(),t.U_.length>0&&(Ae(Oa,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,f=new N_(e,n,u,s,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M_(t,e){if(xs("AsyncQueue",`${e}: ${t}`),xu(t))return new we(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{static emptySet(e){return new Zl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=Wc(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.Z_=new Ct(ke.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Fe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hu{constructor(e,n,r,s,a,u,f,h,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,s,a){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new hu(e,n,Zl.emptySet(n),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class x6{constructor(){this.queries=FS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=He(n),a=s.queries;s.queries=FS(),a.forEach((u,f)=>{for(const h of f.ta)h.onError(r)})})(this,new we(ue.ABORTED,"Firestore shutting down"))}}function FS(){return new La(t=>YC(t),up)}async function II(t,e){const n=He(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new T6,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const f=M_(u,`Initialization of query '${Ul(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&P_(n)}async function DI(t,e){const n=He(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S6(t,e){const n=He(t);let r=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const f of u.ta)f.oa(s)&&(r=!0);u.ea=s}}r&&P_(n)}function A6(t,e,n){const r=He(t),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(n);r.queries.delete(e)}function P_(t){t.ia.forEach(e=>{e.next()})}var s0,zS;(zS=s0||(s0={}))._a="default",zS.Cache="cache";class NI{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==s0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.key=e}}class PI{constructor(e){this.key=e}}class R6{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=et(),this.mutatedKeys=et(),this.ya=WC(e),this.wa=new Zl(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new BS,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const _=s.get(g),E=cp(this.query,v)?v:null,A=!!_&&this.mutatedKeys.has(_.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;_&&E?_.data.isEqual(E.data)?A!==R&&(r.track({type:3,doc:E}),I=!0):this.va(_,E)||(r.track({type:2,doc:E}),I=!0,(h&&this.ya(E,h)>0||m&&this.ya(E,m)<0)&&(f=!0)):!_&&E?(r.track({type:0,doc:E}),I=!0):_&&!E&&(r.track({type:1,doc:_}),I=!0,(h||m)&&(f=!0)),I&&(E?(u=u.add(E),a=R?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:f,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,v)=>function(E,A){const R=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return R(E)-R(A)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(r),s=s!=null&&s;const f=n&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,m=h!==this.ga;return this.ga=h,u.length!==0||m?{snapshot:new hu(this.query,e.wa,a,u,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new BS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=et(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new PI(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new MI(r))}),n}Oa(e){this.fa=e.gs,this.pa=et();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return hu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const k_="SyncEngine";class C6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class I6{constructor(e){this.key=e,this.Ba=!1}}class D6{constructor(e,n,r,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new La(f=>YC(f),up),this.qa=new Map,this.Qa=new Set,this.$a=new Ct(ke.comparator),this.Ua=new Map,this.Ka=new T_,this.Wa={},this.Ga=new Map,this.za=fu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function N6(t,e,n=!0){const r=UI(t);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await kI(r,e,n,!0),s}async function M6(t,e){const n=UI(t);await kI(n,e,!0,!1)}async function kI(t,e,n,r){const s=await Z3(t.localStore,bi(e)),a=s.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let f;return r&&(f=await P6(t,e,a,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&TI(t.remoteStore,s),f}async function P6(t,e,n,r,s){t.Ha=(v,_,E)=>async function(R,I,N,L){let V=I.view.ba(N);V.ls&&(V=await kS(R.localStore,I.query,!1).then(({documents:k})=>I.view.ba(k,V)));const $=L&&L.targetChanges.get(I.targetId),q=L&&L.targetMismatches.get(I.targetId)!=null,se=I.view.applyChanges(V,R.isPrimaryClient,$,q);return qS(R,I.targetId,se.Ma),se.snapshot}(t,v,_,E);const a=await kS(t.localStore,e,!0),u=new R6(e,a.gs),f=u.ba(a.documents),h=Wf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),m=u.applyChanges(f,t.isPrimaryClient,h);qS(t,n,m.Ma);const g=new C6(e,n,u);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),m.snapshot}async function k6(t,e,n){const r=He(t),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(u=>!up(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await r0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&R_(r.remoteStore,s.targetId),o0(r,s.targetId)}).catch(Tu)):(o0(r,s.targetId),await r0(r.localStore,s.targetId,!0))}async function O6(t,e){const n=He(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),R_(n.remoteStore,r.targetId))}async function V6(t,e,n){const r=H6(t);try{const s=await function(u,f){const h=He(u),m=tn.now(),g=f.reduce((E,A)=>E.add(A.key),et());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let A=Ss(),R=et();return h.ds.getEntries(E,g).next(I=>{A=I,A.forEach((N,L)=>{L.isValidDocument()||(R=R.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,A)).next(I=>{v=I;const N=[];for(const L of f){const V=Z4(L,v.get(L.key).overlayedDocument);V!=null&&N.push(new Bo(L.key,V,FC(V.value.mapValue),qr.exists(!0)))}return h.mutationQueue.addMutationBatch(E,m,N,f)}).next(I=>{_=I;const N=I.applyToLocalDocumentSet(v,R);return h.documentOverlayCache.saveOverlays(E,I.batchId,N)})}).then(()=>({batchId:_.batchId,changes:XC(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,f,h){let m=u.Wa[u.currentUser.toKey()];m||(m=new Ct(We)),m=m.insert(f,h),u.Wa[u.currentUser.toKey()]=m}(r,s.batchId,n),await Xf(r,s.changes),await gp(r.remoteStore)}catch(s){const a=M_(s,"Failed to persist write");n.reject(a)}}async function OI(t,e){const n=He(t);try{const r=await W3(n.localStore,e);e.targetChanges.forEach((s,a)=>{const u=n.Ua.get(a);u&&(ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ba=!0:s.modifiedDocuments.size>0?ct(u.Ba):s.removedDocuments.size>0&&(ct(u.Ba),u.Ba=!1))}),await Xf(n,r,e)}catch(r){await Tu(r)}}function HS(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((a,u)=>{const f=u.view.sa(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const h=He(u);h.onlineState=f;let m=!1;h.queries.forEach((g,v)=>{for(const _ of v.ta)_.sa(f)&&(m=!0)}),m&&P_(h)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L6(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),a=s&&s.key;if(a){let u=new Ct(ke.comparator);u=u.insert(a,In.newNoDocument(a,ze.min()));const f=et().add(a),h=new dp(ze.min(),new Map,new Ct(We),u,f);await OI(r,h),r.$a=r.$a.remove(a),r.Ua.delete(e),O_(r)}else await r0(r.localStore,e,!1).then(()=>o0(r,e,n)).catch(Tu)}async function j6(t,e){const n=He(t),r=e.batch.batchId;try{const s=await Y3(n.localStore,e);LI(n,r,null),VI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xf(n,s)}catch(s){await Tu(s)}}async function U6(t,e,n){const r=He(t);try{const s=await function(u,f){const h=He(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return h.mutationQueue.lookupMutationBatch(m,f).next(v=>(ct(v!==null),g=v.keys(),h.mutationQueue.removeMutationBatch(m,v))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,g,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>h.localDocuments.getDocuments(m,g))})}(r.localStore,e);LI(r,e,n),VI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xf(r,s)}catch(s){await Tu(s)}}function VI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function LI(t,e,n){const r=He(t);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function o0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||jI(t,r)})}function jI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(R_(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),O_(t))}function qS(t,e,n){for(const r of n)r instanceof MI?(t.Ka.addReference(r.key,e),B6(t,r)):r instanceof PI?(Ae(k_,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||jI(t,r.key)):Fe()}function B6(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Ae(k_,"New document in limbo: "+n),t.Qa.add(r),O_(t))}function O_(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new ke(_t.fromString(e)),r=t.za.next();t.Ua.set(r,new I6(n)),t.$a=t.$a.insert(n,r),TI(t.remoteStore,new yo(bi(g_(n.path)),r,"TargetPurposeLimboResolution",sp.ae))}}async function Xf(t,e,n){const r=He(t),s=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((f,h)=>{u.push(r.Ha(h,e,n).then(m=>{var g;if((m||n)&&r.isPrimaryClient){const v=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(m){s.push(m);const v=S_.Yi(h.targetId,m);a.push(v)}}))}),await Promise.all(u),r.La.p_(s),await async function(h,m){const g=He(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>de.forEach(m,_=>de.forEach(_.Hi,E=>g.persistence.referenceDelegate.addReference(v,_.targetId,E)).next(()=>de.forEach(_.Ji,E=>g.persistence.referenceDelegate.removeReference(v,_.targetId,E)))))}catch(v){if(!xu(v))throw v;Ae(A_,"Failed to update sequence numbers: "+v)}for(const v of m){const _=v.targetId;if(!v.fromCache){const E=g.Ts.get(_),A=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(A);g.Ts=g.Ts.insert(_,R)}}}(r.localStore,a))}async function F6(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Ae(k_,"User change. New user:",e.toKey());const r=await _I(n.localStore,e);n.currentUser=e,function(a,u){a.Ga.forEach(f=>{f.forEach(h=>{h.reject(new we(ue.CANCELLED,u))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xf(n,r.Rs)}}function z6(t,e){const n=He(t),r=n.Ua.get(e);if(r&&r.Ba)return et().add(r.key);{let s=et();const a=n.qa.get(e);if(!a)return s;for(const u of a){const f=n.ka.get(u);s=s.unionWith(f.view.Sa)}return s}}function UI(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L6.bind(null,e),e.La.p_=S6.bind(null,e.eventManager),e.La.Ja=A6.bind(null,e.eventManager),e}function H6(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U6.bind(null,e),e}class Pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return K3(this.persistence,new q3,e.initialUser,this.serializer)}Xa(e){return new vI(x_.ri,this.serializer)}Za(e){return new e6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pm.provider={build:()=>new Pm};class q6 extends Pm{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ct(this.persistence.referenceDelegate instanceof Nm);const r=this.persistence.referenceDelegate.garbageCollector;return new I3(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new vI(r=>Nm.ri(r,n),this.serializer)}}class a0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F6.bind(null,this.syncEngine),await E6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x6}()}createDatastore(e){const n=mp(e.databaseInfo.databaseId),r=function(a){return new s6(a)}(e.databaseInfo);return function(a,u,f,h){return new u6(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,u,f){return new f6(r,s,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>HS(this.syncEngine,n,0),function(){return LS.D()?new LS:new t6}())}createSyncEngine(e,n){return function(s,a,u,f,h,m,g){const v=new D6(s,a,u,f,h,m);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=He(s);Ae(Oa,"RemoteStore shutting down."),a.W_.add(5),await Qf(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}a0.provider={build:()=>new a0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="FirestoreClient";class G6{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=NC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Ae(Co,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ae(Co,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=M_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sv(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(Co,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await _I(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $6(t);Ae(Co,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>US(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>US(e.remoteStore,s)),t._onlineComponents=e}async function $6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(Co,"Using user provided OfflineComponentProvider");try{await sv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ue.FAILED_PRECONDITION||s.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;iu("Error using user provided cache. Falling back to memory cache: "+n),await sv(t,new Pm)}}else Ae(Co,"Using default OfflineComponentProvider"),await sv(t,new q6(void 0));return t._offlineComponents}async function FI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(Co,"Using user provided OnlineComponentProvider"),await GS(t,t._uninitializedComponentsProvider._online)):(Ae(Co,"Using default OnlineComponentProvider"),await GS(t,new a0))),t._onlineComponents}function K6(t){return FI(t).then(e=>e.syncEngine)}async function zI(t){const e=await FI(t),n=e.eventManager;return n.onListen=N6.bind(null,e.syncEngine),n.onUnlisten=k6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O6.bind(null,e.syncEngine),n}function Y6(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const g=new BI({next:_=>{g.su(),u.enqueueAndForget(()=>DI(a,v));const E=_.docs.has(f);!E&&_.fromCache?m.reject(new we(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&h&&h.source==="server"?m.reject(new we(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new NI(g_(f.path),g,{includeMetadataChanges:!0,Ta:!0});return II(a,v)}(await zI(t),t.asyncQueue,e,n,r)),r.promise}function W6(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const g=new BI({next:_=>{g.su(),u.enqueueAndForget(()=>DI(a,v)),_.fromCache&&h.source==="server"?m.reject(new we(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new NI(f,g,{includeMetadataChanges:!0,Ta:!0});return II(a,v)}(await zI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e,n){if(!n)throw new we(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q6(t,e,n,r){if(e===!0&&r===!0)throw new we(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KS(t){if(!ke.isDocumentKey(t))throw new we(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YS(t){if(ke.isDocumentKey(t))throw new we(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function Ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yp(t);throw new we(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="firestore.googleapis.com",WS=!0;class QS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GI,this.ssl=WS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:WS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R3)throw new we(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new i4;switch(r.type){case"firstParty":return new l4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$S.get(n);r&&(Ae("ComponentProvider","Removing Datastore"),$S.delete(n),r.terminate())}(this),Promise.resolve()}}function X6(t,e,n,r={}){var s;const a=(t=Ri(t,vp))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;a.host!==GI&&a.host!==f&&iu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:f,ssl:!1,emulatorOptions:r});if(!ws(h,u)&&(t._setSettings(h),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Cn.MOCK_USER;else{m=pV(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new we(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Cn(v)}t._authCredentials=new s4(new IC(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class Eo extends Mi{constructor(e,n,r){super(e,n,g_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new ke(e))}withConverter(e){return new Eo(this.firestore,e,this._path)}}function Jl(t,e,...n){if(t=rn(t),qI("collection","path",e),t instanceof vp){const r=_t.fromString(e,...n);return YS(r),new Eo(t,null,r)}{if(!(t instanceof zn||t instanceof Eo))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return YS(r),new Eo(t.firestore,null,r)}}function yi(t,e,...n){if(t=rn(t),arguments.length===1&&(e=NC.newId()),qI("doc","path",e),t instanceof vp){const r=_t.fromString(e,...n);return KS(r),new zn(t,null,new ke(r))}{if(!(t instanceof zn||t instanceof Eo))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return KS(r),new zn(t.firestore,t instanceof Eo?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="AsyncQueue";class ZS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new wI(this,"async_queue_retry"),this.Su=()=>{const r=iv();r&&Ae(XS,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=iv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=iv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new _s;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!xu(e))throw e;Ae(XS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw xs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=N_.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Fe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Au extends vp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ZS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZS(e),this._firestoreClient=void 0,await e}}}function Z6(t,e){const n=typeof t=="object"?t:B1(),r=typeof t=="string"?t:xm,s=e_(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=dV("firestore");a&&X6(s,...a)}return s}function V_(t){if(t._terminated)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J6(t),t._firestoreClient}function J6(t){var e,n,r;const s=t._freezeSettings(),a=function(f,h,m,g){return new T4(f,h,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,HI(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new G6(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new du(En.fromBase64String(e))}catch(n){throw new we(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new du(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=/^__.*__$/;class t5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yf(e,this.data,n,this.fieldTransforms)}}class $I{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class bp{constructor(e,n,r,s,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return km(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(KI(this.Lu)&&e5.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class n5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mp(e)}ju(e,n,r,s=!1){return new bp({Lu:e,methodName:n,zu:r,path:wn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wp(t){const e=t._freezeSettings(),n=mp(t._databaseId);return new n5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r5(t,e,n,r,s,a={}){const u=t.ju(a.merge||a.mergeFields?2:0,e,n,s);F_("Data must be an object, but it was:",u,r);const f=QI(r,u);let h,m;if(a.merge)h=new cr(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const _=l0(e,v,n);if(!u.contains(_))throw new we(ue.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);ZI(g,_)||g.push(_)}h=new cr(g),m=u.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,m=u.fieldTransforms;return new t5(new Qn(f),h,m)}class Ep extends Zf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ep}}function YI(t,e,n){return new bp({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class U_ extends Zf{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=YI(this,e,!0),r=this.Hu.map(a=>Ua(a,n)),s=new uu(r);return new iI(e.path,s)}isEqual(e){return e instanceof U_&&ws(this.Hu,e.Hu)}}class B_ extends Zf{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=YI(this,e,!0),r=this.Hu.map(a=>Ua(a,n)),s=new cu(r);return new iI(e.path,s)}isEqual(e){return e instanceof B_&&ws(this.Hu,e.Hu)}}function i5(t,e,n,r){const s=t.ju(1,e,n);F_("Data must be an object, but it was:",s,r);const a=[],u=Qn.empty();jo(r,(h,m)=>{const g=z_(e,h,n);m=rn(m);const v=s.Uu(g);if(m instanceof Ep)a.push(g);else{const _=Ua(m,v);_!=null&&(a.push(g),u.set(g,_))}});const f=new cr(a);return new $I(u,f,s.fieldTransforms)}function s5(t,e,n,r,s,a){const u=t.ju(1,e,n),f=[l0(e,r,n)],h=[s];if(a.length%2!=0)throw new we(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)f.push(l0(e,a[_])),h.push(a[_+1]);const m=[],g=Qn.empty();for(let _=f.length-1;_>=0;--_)if(!ZI(m,f[_])){const E=f[_];let A=h[_];A=rn(A);const R=u.Uu(E);if(A instanceof Ep)m.push(E);else{const I=Ua(A,R);I!=null&&(m.push(E),g.set(E,I))}}const v=new cr(m);return new $I(g,v,u.fieldTransforms)}function WI(t,e,n,r=!1){return Ua(n,t.ju(r?4:3,e))}function Ua(t,e){if(XI(t=rn(t)))return F_("Unsupported field value:",e,t),QI(t,e);if(t instanceof Zf)return function(r,s){if(!KI(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const f of r){let h=Ua(f,s.Ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=tn.fromDate(r);return{timestampValue:Dm(s.serializer,a)}}if(r instanceof tn){const a=new tn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dm(s.serializer,a)}}if(r instanceof L_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof du)return{bytesValue:cI(s.serializer,r._byteString)};if(r instanceof zn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:E_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof j_)return function(u,f){return{mapValue:{fields:{[UC]:{stringValue:BC},[Sm]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return v_(f.serializer,m)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${yp(r)}`)}(t,e)}function QI(t,e){const n={};return PC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(r,s)=>{const a=Ua(s,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function XI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tn||t instanceof L_||t instanceof du||t instanceof zn||t instanceof Zf||t instanceof j_)}function F_(t,e,n){if(!XI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=yp(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function l0(t,e,n){if((e=rn(e))instanceof _p)return e._internalPath;if(typeof e=="string")return z_(t,e);throw km("Field path arguments must be of type string or ",t,!1,void 0,n)}const o5=new RegExp("[~\\*/\\[\\]]");function z_(t,e,n){if(e.search(o5)>=0)throw km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _p(...e.split("."))._internalPath}catch{throw km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function km(t,e,n,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new we(ue.INVALID_ARGUMENT,f+t+h)}function ZI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a5 extends H_{data(){return super.data()}}function Tp(t,e){return typeof e=="string"?z_(t,e):e instanceof _p?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q_{}class Jf extends q_{}function Tf(t,e,...n){let r=[];e instanceof q_&&r.push(e),r=r.concat(n),function(a){const u=a.filter(h=>h instanceof G_).length,f=a.filter(h=>h instanceof xp).length;if(u>1||u>0&&f>0)throw new we(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class xp extends Jf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xp(e,n,r)}_apply(e){const n=this._parse(e);return eD(e._query,n),new Mi(e.firestore,e.converter,Zv(e._query,n))}_parse(e){const n=wp(e.firestore);return function(a,u,f,h,m,g,v){let _;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new we(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){tA(v,g);const A=[];for(const R of v)A.push(eA(h,a,R));_={arrayValue:{values:A}}}else _=eA(h,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||tA(v,g),_=WI(f,u,v,g==="in"||g==="not-in");return Kt.create(m,g,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Om(t,e,n){const r=e,s=Tp("where",t);return xp._create(s,r,n)}class G_ extends q_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new G_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let u=s;const f=a.getFlattenedFilters();for(const h of f)eD(u,h),u=Zv(u,h)}(e._query,n),new Mi(e.firestore,e.converter,Zv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $_ extends Jf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $_(e,n)}_apply(e){const n=function(s,a,u){if(s.startAt!==null)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ef(a,u)}(e._query,this._field,this._direction);return new Mi(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new Uo(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function u0(t,e="asc"){const n=e,r=Tp("orderBy",t);return $_._create(r,n)}class K_ extends Jf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new K_(e,n,r)}_apply(e){return new Mi(e.firestore,e.converter,Rm(e._query,this._limit,this._limitType))}}function JS(t){return K_._create("limit",t,"F")}class Sp extends Jf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Sp(e,n,r)}_apply(e){const n=JI(e,this.type,this._docOrFields,this._inclusive);return new Mi(e.firestore,e.converter,function(s,a){return new Uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)}(e._query,n))}}function u5(...t){return Sp._create("startAt",t,!0)}function c5(...t){return Sp._create("startAfter",t,!1)}class Y_ extends Jf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Y_(e,n,r)}_apply(e){const n=JI(e,this.type,this._docOrFields,this._inclusive);return new Mi(e.firestore,e.converter,function(s,a){return new Uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)}(e._query,n))}}function f5(...t){return Y_._create("endAt",t,!0)}function JI(t,e,n,r){if(n[0]=rn(n[0]),n[0]instanceof H_)return function(a,u,f,h,m){if(!h)throw new we(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const g=[];for(const v of Xl(a))if(v.field.isKeyField())g.push(Am(u,h.key));else{const _=h.data.field(v.field);if(ap(_))throw new we(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const E=v.field.canonicalString();throw new we(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}g.push(_)}return new lu(g,m)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=wp(t.firestore);return function(u,f,h,m,g,v){const _=u.explicitOrderBy;if(g.length>_.length)throw new we(ue.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let A=0;A<g.length;A++){const R=g[A];if(_[A].field.isKeyField()){if(typeof R!="string")throw new we(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof R}`);if(!y_(u)&&R.indexOf("/")!==-1)throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${R}' contains a slash.`);const I=u.path.child(_t.fromString(R));if(!ke.isDocumentKey(I))throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const N=new ke(I);E.push(Am(f,N))}else{const I=WI(h,m,R);E.push(I)}}return new lu(E,v)}(t._query,t.firestore._databaseId,s,e,n,r)}}function eA(t,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new we(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y_(e)&&n.indexOf("/")!==-1)throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!ke.isDocumentKey(r))throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Am(t,new ke(r))}if(n instanceof zn)return Am(t,n._key);throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yp(n)}.`)}function tA(t,e){if(!Array.isArray(t)||t.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eD(t,e){const n=function(s,a){for(const u of s)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new we(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class h5{convertValue(e,n="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jo(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Sm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Lt(u.doubleValue));return new j_(a)}convertGeoPoint(e){return new L_(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_f(e));default:return null}}convertTimestamp(e){const n=xo(e);return new tn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);ct(gI(r));const s=new bf(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return s.isEqual(n)||xs(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tD extends H_{constructor(e,n,r,s,a,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Tp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class om extends tD{data(e={}){return super.data(e)}}class m5{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Xc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new om(this._firestore,this._userDataWriter,r.key,r,new Xc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const h=new om(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Xc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new om(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Xc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),g=u.indexOf(f.doc.key)),{type:p5(f.type),doc:h,oldIndex:m,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){t=Ri(t,zn);const e=Ri(t.firestore,Au);return Y6(V_(e),t._key).then(n=>y5(e,t,n))}class nD extends h5{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function xf(t){t=Ri(t,Mi);const e=Ri(t.firestore,Au),n=V_(e),r=new nD(e);return l5(t._query),W6(n,t._query).then(s=>new m5(e,r,t,s))}function Vm(t,e,n){t=Ri(t,zn);const r=Ri(t.firestore,Au),s=d5(t.converter,e);return W_(r,[r5(wp(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,qr.none())])}function ms(t,e,n,...r){t=Ri(t,zn);const s=Ri(t.firestore,Au),a=wp(s);let u;return u=typeof(e=rn(e))=="string"||e instanceof _p?s5(a,"updateDoc",t._key,e,n,r):i5(a,"updateDoc",t._key,e),W_(s,[u.toMutation(t._key,qr.exists(!0))])}function g5(t){return W_(Ri(t.firestore,Au),[new __(t._key,qr.none())])}function W_(t,e){return function(r,s){const a=new _s;return r.asyncQueue.enqueueAndForget(async()=>V6(await K6(r),s,a)),a.promise}(V_(t),e)}function y5(t,e,n){const r=n.docs.get(e._key),s=new nD(t);return new tD(t,s,e._key,r,new Xc(n.hasPendingWrites,n.fromCache),e.converter)}function Lm(...t){return new U_("arrayUnion",t)}function zl(...t){return new B_("arrayRemove",t)}(function(e,n=!0){(function(s){Eu=s})(bu),ru(new Na("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new Au(new o4(r.getProvider("auth-internal")),new u4(u,r.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new we(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bf(m.options.projectId,g)}(u,s),u);return a=Object.assign({useFetchStreams:n},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),bo(iS,sS,e),bo(iS,sS,"esm2017")})();const v5={apiKey:"AIzaSyBtnhMy10t1v8NTuB48Bfcuf8y8WHlLAYg",authDomain:"inkreads-a9b7e.firebaseapp.com",projectId:"inkreads-a9b7e",storageBucket:"inkreads-a9b7e.firebasestorage.app",messagingSenderId:"74535854826",appId:"1:74535854826:web:0c397ba589b0a849b3ed93",measurementId:"G-VMCSFVQ6MX"},rD=U1(v5),Ur=e4(rD),Bn=Z6(rD),nA=t=>{let e;const n=new Set,r=(m,g)=>{const v=typeof m=="function"?m(e):m;if(!Object.is(v,e)){const _=e;e=g??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(E=>E(e,_))}},s=()=>e,f={setState:r,getState:s,getInitialState:()=>h,subscribe:m=>(n.add(m),()=>n.delete(m))},h=e=t(r,s,f);return f},_5=t=>t?nA(t):nA,b5=t=>t;function w5(t,e=b5){const n=Mt.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return Mt.useDebugValue(n),n}const E5=t=>{const e=_5(t),n=r=>w5(e,r);return Object.assign(n,e),n},T5=t=>E5,Pi=T5()((t,e)=>({user:null,userData:null,loading:!1,token:null,error:null,setUser:n=>t({user:n}),setUserData:n=>t({userData:n}),setLoading:n=>t({loading:n}),setToken:n=>t({token:n}),setError:n=>t({error:n}),fetchUserData:async()=>{const{user:n}=e();if(!n){t({userData:null});return}try{const r=await Zc(yi(Bn,"users",n.uid));r.exists()&&t({userData:r.data()})}catch(r){console.error("Error fetching user data:",r),t({error:"Failed to fetch user data"})}}}));function _a({children:t,requireAuth:e=!0}){const{user:n,loading:r}=Pi(),s=Qr();return x.useEffect(()=>{r||(e&&!n?s("/landing"):!e&&n&&s("/"))},[n,r,e,s]),r?w.jsx("div",{className:"flex items-center justify-center min-h-screen",children:w.jsx("div",{className:"text-lg",children:"Loading..."})}):e&&n||!e&&!n?w.jsx(w.Fragment,{children:t}):null}const x5="/assets/notebook-D-YwbLBy.png",S5="/assets/book-BJZxEWYa.png";function iD({children:t}){return w.jsx("main",{className:"font-abeezee flex justify-center h-screen",children:w.jsxs("div",{className:"flex items-center gap-8",children:[w.jsx("img",{src:x5,alt:"book",width:198,height:198,className:"mt-108"}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("p",{className:"text-xl",children:"Get started with"}),w.jsx("p",{className:"text-[40px]",children:"InkReads"}),t]}),w.jsx("img",{src:S5,alt:"book",width:209,height:171,className:"mb-102"})]})})}var eh=t=>t.type==="checkbox",Aa=t=>t instanceof Date,Un=t=>t==null;const sD=t=>typeof t=="object";var jt=t=>!Un(t)&&!Array.isArray(t)&&sD(t)&&!Aa(t),A5=t=>jt(t)&&t.target?eh(t.target)?t.target.checked:t.target.value:t,R5=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,C5=(t,e)=>t.has(R5(e)),I5=t=>{const e=t.constructor&&t.constructor.prototype;return jt(e)&&e.hasOwnProperty("isPrototypeOf")},Q_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function An(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Q_&&(t instanceof Blob||r))&&(n||jt(t)))if(e=n?[]:{},!n&&!I5(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=An(t[s]));else return t;return e}var Ap=t=>Array.isArray(t)?t.filter(Boolean):[],$t=t=>t===void 0,Me=(t,e,n)=>{if(!e||!jt(t))return n;const r=Ap(e.split(/[,[\].]+?/)).reduce((s,a)=>Un(s)?s:s[a],t);return $t(r)||r===t?$t(t[e])?n:t[e]:r},pi=t=>typeof t=="boolean",X_=t=>/^\w*$/.test(t),oD=t=>Ap(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Et=(t,e,n)=>{let r=-1;const s=X_(e)?[e]:oD(e),a=s.length,u=a-1;for(;++r<a;){const f=s[r];let h=n;if(r!==u){const m=t[f];h=jt(m)||Array.isArray(m)?m:isNaN(+s[r+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=h,t=t[f]}};const rA={BLUR:"blur",FOCUS_OUT:"focusout"},Br={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Mt.createContext(null);var D5=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const u=a;return e._proxyFormState[u]!==Br.all&&(e._proxyFormState[u]=!r||Br.all),t[u]}});return s},c0=t=>Un(t)||!sD(t);function go(t,e){if(c0(t)||c0(e))return t===e;if(Aa(t)&&Aa(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const a=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const u=e[s];if(Aa(a)&&Aa(u)||jt(a)&&jt(u)||Array.isArray(a)&&Array.isArray(u)?!go(a,u):a!==u)return!1}}return!0}var vi=t=>typeof t=="string",N5=(t,e,n,r,s)=>vi(t)?(r&&e.watch.add(t),Me(n,t,s)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),Me(n,a))):(r&&(e.watchAll=!0),n),M5=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},af=t=>Array.isArray(t)?t:[t],iA=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}},jn=t=>jt(t)&&!Object.keys(t).length,Z_=t=>t.type==="file",Fr=t=>typeof t=="function",jm=t=>{if(!Q_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},aD=t=>t.type==="select-multiple",J_=t=>t.type==="radio",P5=t=>J_(t)||eh(t),ov=t=>jm(t)&&t.isConnected;function k5(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=$t(t)?r++:t[e[r++]];return t}function O5(t){for(const e in t)if(t.hasOwnProperty(e)&&!$t(t[e]))return!1;return!0}function en(t,e){const n=Array.isArray(e)?e:X_(e)?[e]:oD(e),r=n.length===1?t:k5(t,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(jt(r)&&jn(r)||Array.isArray(r)&&O5(r))&&en(t,n.slice(0,-1)),t}var lD=t=>{for(const e in t)if(Fr(t[e]))return!0;return!1};function Um(t,e={}){const n=Array.isArray(t);if(jt(t)||n)for(const r in t)Array.isArray(t[r])||jt(t[r])&&!lD(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Um(t[r],e[r])):Un(t[r])||(e[r]=!0);return e}function uD(t,e,n){const r=Array.isArray(t);if(jt(t)||r)for(const s in t)Array.isArray(t[s])||jt(t[s])&&!lD(t[s])?$t(e)||c0(n[s])?n[s]=Array.isArray(t[s])?Um(t[s],[]):{...Um(t[s])}:uD(t[s],Un(e)?{}:e[s],n[s]):n[s]=!go(t[s],e[s]);return n}var zc=(t,e)=>uD(t,e,Um(e));const sA={value:!1,isValid:!1},oA={value:!0,isValid:!0};var cD=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$t(t[0].attributes.value)?$t(t[0].value)||t[0].value===""?oA:{value:t[0].value,isValid:!0}:oA:sA}return sA},fD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>$t(t)?t:e?t===""?NaN:t&&+t:n&&vi(t)?new Date(t):r?r(t):t;const aA={isValid:!1,value:null};var hD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,aA):aA;function lA(t){const e=t.ref;return Z_(e)?e.files:J_(e)?hD(t.refs).value:aD(e)?[...e.selectedOptions].map(({value:n})=>n):eh(e)?cD(t.refs).value:fD($t(e.value)?t.ref.value:e.value,t)}var V5=(t,e,n,r)=>{const s={};for(const a of t){const u=Me(e,a);u&&Et(s,a,u._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Bm=t=>t instanceof RegExp,Hc=t=>$t(t)?t:Bm(t)?t.source:jt(t)?Bm(t.value)?t.value.source:t.value:t,uA=t=>({isOnSubmit:!t||t===Br.onSubmit,isOnBlur:t===Br.onBlur,isOnChange:t===Br.onChange,isOnAll:t===Br.all,isOnTouch:t===Br.onTouched});const cA="AsyncFunction";var L5=t=>!!t&&!!t.validate&&!!(Fr(t.validate)&&t.validate.constructor.name===cA||jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===cA)),j5=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),fA=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const lf=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const a=Me(t,s);if(a){const{_f:u,...f}=a;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],s)&&!r)return!0;if(u.ref&&e(u.ref,u.name)&&!r)return!0;if(lf(f,e))break}else if(jt(f)&&lf(f,e))break}}};function hA(t,e,n){const r=Me(t,n);if(r||X_(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),u=Me(e,a),f=Me(t,a);if(u&&!Array.isArray(u)&&n!==a)return{name:n};if(f&&f.type)return{name:a,error:f};s.pop()}return{name:n}}var U5=(t,e,n,r)=>{n(t);const{name:s,...a}=t;return jn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(u=>e[u]===(!r||Br.all))},B5=(t,e,n)=>!t||!e||t===e||af(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),F5=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,z5=(t,e)=>!Ap(Me(t,e)).length&&en(t,e),H5=(t,e,n)=>{const r=af(Me(t,n));return Et(r,"root",e[n]),Et(t,n,r),t},am=t=>vi(t);function dA(t,e,n="validate"){if(am(t)||Array.isArray(t)&&t.every(am)||pi(t)&&!t)return{type:n,message:am(t)?t:"",ref:e}}var Pl=t=>jt(t)&&!Bm(t)?t:{value:t,message:""},mA=async(t,e,n,r,s,a)=>{const{ref:u,refs:f,required:h,maxLength:m,minLength:g,min:v,max:_,pattern:E,validate:A,name:R,valueAsNumber:I,mount:N}=t._f,L=Me(n,R);if(!N||e.has(R))return{};const V=f?f[0]:u,$=B=>{s&&V.reportValidity&&(V.setCustomValidity(pi(B)?"":B||""),V.reportValidity())},q={},se=J_(u),k=eh(u),C=se||k,P=(I||Z_(u))&&$t(u.value)&&$t(L)||jm(u)&&u.value===""||L===""||Array.isArray(L)&&!L.length,j=M5.bind(null,R,r,q),z=(B,O,_e,Ce=fs.maxLength,K=fs.minLength)=>{const ie=B?O:_e;q[R]={type:B?Ce:K,message:ie,ref:u,...j(B?Ce:K,ie)}};if(a?!Array.isArray(L)||!L.length:h&&(!C&&(P||Un(L))||pi(L)&&!L||k&&!cD(f).isValid||se&&!hD(f).isValid)){const{value:B,message:O}=am(h)?{value:!!h,message:h}:Pl(h);if(B&&(q[R]={type:fs.required,message:O,ref:V,...j(fs.required,O)},!r))return $(O),q}if(!P&&(!Un(v)||!Un(_))){let B,O;const _e=Pl(_),Ce=Pl(v);if(!Un(L)&&!isNaN(L)){const K=u.valueAsNumber||L&&+L;Un(_e.value)||(B=K>_e.value),Un(Ce.value)||(O=K<Ce.value)}else{const K=u.valueAsDate||new Date(L),ie=U=>new Date(new Date().toDateString()+" "+U),Q=u.type=="time",me=u.type=="week";vi(_e.value)&&L&&(B=Q?ie(L)>ie(_e.value):me?L>_e.value:K>new Date(_e.value)),vi(Ce.value)&&L&&(O=Q?ie(L)<ie(Ce.value):me?L<Ce.value:K<new Date(Ce.value))}if((B||O)&&(z(!!B,_e.message,Ce.message,fs.max,fs.min),!r))return $(q[R].message),q}if((m||g)&&!P&&(vi(L)||a&&Array.isArray(L))){const B=Pl(m),O=Pl(g),_e=!Un(B.value)&&L.length>+B.value,Ce=!Un(O.value)&&L.length<+O.value;if((_e||Ce)&&(z(_e,B.message,O.message),!r))return $(q[R].message),q}if(E&&!P&&vi(L)){const{value:B,message:O}=Pl(E);if(Bm(B)&&!L.match(B)&&(q[R]={type:fs.pattern,message:O,ref:u,...j(fs.pattern,O)},!r))return $(O),q}if(A){if(Fr(A)){const B=await A(L,n),O=dA(B,V);if(O&&(q[R]={...O,...j(fs.validate,O.message)},!r))return $(O.message),q}else if(jt(A)){let B={};for(const O in A){if(!jn(B)&&!r)break;const _e=dA(await A[O](L,n),V,O);_e&&(B={..._e,...j(O,_e.message)},$(_e.message),r&&(q[R]=B))}if(!jn(B)&&(q[R]={ref:V,...B},!r))return q}}return $(!0),q};const q5={mode:Br.onSubmit,reValidateMode:Br.onChange,shouldFocusError:!0};function G5(t={}){let e={...q5,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=jt(e.defaultValues)||jt(e.values)?An(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:An(s),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...g};const _={array:iA(),state:iA()},E=uA(e.mode),A=uA(e.reValidateMode),R=e.criteriaMode===Br.all,I=H=>J=>{clearTimeout(m),m=setTimeout(H,J)},N=async H=>{if(!e.disabled&&(g.isValid||v.isValid||H)){const J=e.resolver?jn((await P()).errors):await z(r,!0);J!==n.isValid&&_.state.next({isValid:J})}},L=(H,J)=>{!e.disabled&&(g.isValidating||g.validatingFields||v.isValidating||v.validatingFields)&&((H||Array.from(f.mount)).forEach(ae=>{ae&&(J?Et(n.validatingFields,ae,J):en(n.validatingFields,ae))}),_.state.next({validatingFields:n.validatingFields,isValidating:!jn(n.validatingFields)}))},V=(H,J=[],ae,Ee,ge=!0,fe=!0)=>{if(Ee&&ae&&!e.disabled){if(u.action=!0,fe&&Array.isArray(Me(r,H))){const be=ae(Me(r,H),Ee.argA,Ee.argB);ge&&Et(r,H,be)}if(fe&&Array.isArray(Me(n.errors,H))){const be=ae(Me(n.errors,H),Ee.argA,Ee.argB);ge&&Et(n.errors,H,be),z5(n.errors,H)}if((g.touchedFields||v.touchedFields)&&fe&&Array.isArray(Me(n.touchedFields,H))){const be=ae(Me(n.touchedFields,H),Ee.argA,Ee.argB);ge&&Et(n.touchedFields,H,be)}(g.dirtyFields||v.dirtyFields)&&(n.dirtyFields=zc(s,a)),_.state.next({name:H,isDirty:O(H,J),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Et(a,H,J)},$=(H,J)=>{Et(n.errors,H,J),_.state.next({errors:n.errors})},q=H=>{n.errors=H,_.state.next({errors:n.errors,isValid:!1})},se=(H,J,ae,Ee)=>{const ge=Me(r,H);if(ge){const fe=Me(a,H,$t(ae)?Me(s,H):ae);$t(fe)||Ee&&Ee.defaultChecked||J?Et(a,H,J?fe:lA(ge._f)):K(H,fe),u.mount&&N()}},k=(H,J,ae,Ee,ge)=>{let fe=!1,be=!1;const Le={name:H};if(!e.disabled){if(!ae||Ee){(g.isDirty||v.isDirty)&&(be=n.isDirty,n.isDirty=Le.isDirty=O(),fe=be!==Le.isDirty);const wt=go(Me(s,H),J);be=!!Me(n.dirtyFields,H),wt?en(n.dirtyFields,H):Et(n.dirtyFields,H,!0),Le.dirtyFields=n.dirtyFields,fe=fe||(g.dirtyFields||v.dirtyFields)&&be!==!wt}if(ae){const wt=Me(n.touchedFields,H);wt||(Et(n.touchedFields,H,ae),Le.touchedFields=n.touchedFields,fe=fe||(g.touchedFields||v.touchedFields)&&wt!==ae)}fe&&ge&&_.state.next(Le)}return fe?Le:{}},C=(H,J,ae,Ee)=>{const ge=Me(n.errors,H),fe=(g.isValid||v.isValid)&&pi(J)&&n.isValid!==J;if(e.delayError&&ae?(h=I(()=>$(H,ae)),h(e.delayError)):(clearTimeout(m),h=null,ae?Et(n.errors,H,ae):en(n.errors,H)),(ae?!go(ge,ae):ge)||!jn(Ee)||fe){const be={...Ee,...fe&&pi(J)?{isValid:J}:{},errors:n.errors,name:H};n={...n,...be},_.state.next(be)}},P=async H=>{L(H,!0);const J=await e.resolver(a,e.context,V5(H||f.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return L(H),J},j=async H=>{const{errors:J}=await P(H);if(H)for(const ae of H){const Ee=Me(J,ae);Ee?Et(n.errors,ae,Ee):en(n.errors,ae)}else n.errors=J;return J},z=async(H,J,ae={valid:!0})=>{for(const Ee in H){const ge=H[Ee];if(ge){const{_f:fe,...be}=ge;if(fe){const Le=f.array.has(fe.name),wt=ge._f&&L5(ge._f);wt&&g.validatingFields&&L([Ee],!0);const Bt=await mA(ge,f.disabled,a,R,e.shouldUseNativeValidation&&!J,Le);if(wt&&g.validatingFields&&L([Ee]),Bt[fe.name]&&(ae.valid=!1,J))break;!J&&(Me(Bt,fe.name)?Le?H5(n.errors,Bt,fe.name):Et(n.errors,fe.name,Bt[fe.name]):en(n.errors,fe.name))}!jn(be)&&await z(be,J,ae)}}return ae.valid},B=()=>{for(const H of f.unMount){const J=Me(r,H);J&&(J._f.refs?J._f.refs.every(ae=>!ov(ae)):!ov(J._f.ref))&&qe(H)}f.unMount=new Set},O=(H,J)=>!e.disabled&&(H&&J&&Et(a,H,J),!go(ye(),s)),_e=(H,J,ae)=>N5(H,f,{...u.mount?a:$t(J)?s:vi(H)?{[H]:J}:J},ae,J),Ce=H=>Ap(Me(u.mount?a:s,H,e.shouldUnregister?Me(s,H,[]):[])),K=(H,J,ae={})=>{const Ee=Me(r,H);let ge=J;if(Ee){const fe=Ee._f;fe&&(!fe.disabled&&Et(a,H,fD(J,fe)),ge=jm(fe.ref)&&Un(J)?"":J,aD(fe.ref)?[...fe.ref.options].forEach(be=>be.selected=ge.includes(be.value)):fe.refs?eh(fe.ref)?fe.refs.length>1?fe.refs.forEach(be=>(!be.defaultChecked||!be.disabled)&&(be.checked=Array.isArray(ge)?!!ge.find(Le=>Le===be.value):ge===be.value)):fe.refs[0]&&(fe.refs[0].checked=!!ge):fe.refs.forEach(be=>be.checked=be.value===ge):Z_(fe.ref)?fe.ref.value="":(fe.ref.value=ge,fe.ref.type||_.state.next({name:H,values:An(a)})))}(ae.shouldDirty||ae.shouldTouch)&&k(H,ge,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&oe(H)},ie=(H,J,ae)=>{for(const Ee in J){const ge=J[Ee],fe=`${H}.${Ee}`,be=Me(r,fe);(f.array.has(H)||jt(ge)||be&&!be._f)&&!Aa(ge)?ie(fe,ge,ae):K(fe,ge,ae)}},Q=(H,J,ae={})=>{const Ee=Me(r,H),ge=f.array.has(H),fe=An(J);Et(a,H,fe),ge?(_.array.next({name:H,values:An(a)}),(g.isDirty||g.dirtyFields||v.isDirty||v.dirtyFields)&&ae.shouldDirty&&_.state.next({name:H,dirtyFields:zc(s,a),isDirty:O(H,fe)})):Ee&&!Ee._f&&!Un(fe)?ie(H,fe,ae):K(H,fe,ae),fA(H,f)&&_.state.next({...n}),_.state.next({name:u.mount?H:void 0,values:An(a)})},me=async H=>{u.mount=!0;const J=H.target;let ae=J.name,Ee=!0;const ge=Me(r,ae),fe=be=>{Ee=Number.isNaN(be)||Aa(be)&&isNaN(be.getTime())||go(be,Me(a,ae,be))};if(ge){let be,Le;const wt=J.type?lA(ge._f):A5(H),Bt=H.type===rA.BLUR||H.type===rA.FOCUS_OUT,Li=!j5(ge._f)&&!e.resolver&&!Me(n.errors,ae)&&!ge._f.deps||F5(Bt,Me(n.touchedFields,ae),n.isSubmitted,A,E),Dr=fA(ae,f,Bt);Et(a,ae,wt),Bt?(ge._f.onBlur&&ge._f.onBlur(H),h&&h(0)):ge._f.onChange&&ge._f.onChange(H);const Nr=k(ae,wt,Bt),Jn=!jn(Nr)||Dr;if(!Bt&&_.state.next({name:ae,type:H.type,values:An(a)}),Li)return(g.isValid||v.isValid)&&(e.mode==="onBlur"?Bt&&N():Bt||N()),Jn&&_.state.next({name:ae,...Dr?{}:Nr});if(!Bt&&Dr&&_.state.next({...n}),e.resolver){const{errors:ji}=await P([ae]);if(fe(wt),Ee){const Ui=hA(n.errors,r,ae),Ms=hA(ji,r,Ui.name||ae);be=Ms.error,ae=Ms.name,Le=jn(ji)}}else L([ae],!0),be=(await mA(ge,f.disabled,a,R,e.shouldUseNativeValidation))[ae],L([ae]),fe(wt),Ee&&(be?Le=!1:(g.isValid||v.isValid)&&(Le=await z(r,!0)));Ee&&(ge._f.deps&&oe(ge._f.deps),C(ae,Le,be,Nr))}},U=(H,J)=>{if(Me(n.errors,J)&&H.focus)return H.focus(),1},oe=async(H,J={})=>{let ae,Ee;const ge=af(H);if(e.resolver){const fe=await j($t(H)?H:ge);ae=jn(fe),Ee=H?!ge.some(be=>Me(fe,be)):ae}else H?(Ee=(await Promise.all(ge.map(async fe=>{const be=Me(r,fe);return await z(be&&be._f?{[fe]:be}:be)}))).every(Boolean),!(!Ee&&!n.isValid)&&N()):Ee=ae=await z(r);return _.state.next({...!vi(H)||(g.isValid||v.isValid)&&ae!==n.isValid?{}:{name:H},...e.resolver||!H?{isValid:ae}:{},errors:n.errors}),J.shouldFocus&&!Ee&&lf(r,U,H?ge:f.mount),Ee},ye=H=>{const J={...u.mount?a:s};return $t(H)?J:vi(H)?Me(J,H):H.map(ae=>Me(J,ae))},te=(H,J)=>({invalid:!!Me((J||n).errors,H),isDirty:!!Me((J||n).dirtyFields,H),error:Me((J||n).errors,H),isValidating:!!Me(n.validatingFields,H),isTouched:!!Me((J||n).touchedFields,H)}),pe=H=>{H&&af(H).forEach(J=>en(n.errors,J)),_.state.next({errors:H?n.errors:{}})},Te=(H,J,ae)=>{const Ee=(Me(r,H,{_f:{}})._f||{}).ref,ge=Me(n.errors,H)||{},{ref:fe,message:be,type:Le,...wt}=ge;Et(n.errors,H,{...wt,...J,ref:Ee}),_.state.next({name:H,errors:n.errors,isValid:!1}),ae&&ae.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},xe=(H,J)=>Fr(H)?_.state.subscribe({next:ae=>H(_e(void 0,J),ae)}):_e(H,J,!0),Re=H=>_.state.subscribe({next:J=>{B5(H.name,J.name,H.exact)&&U5(J,H.formState||g,hr,H.reRenderRoot)&&H.callback({values:{...a},...n,...J})}}).unsubscribe,Se=H=>(u.mount=!0,v={...v,...H.formState},Re({...H,formState:v})),qe=(H,J={})=>{for(const ae of H?af(H):f.mount)f.mount.delete(ae),f.array.delete(ae),J.keepValue||(en(r,ae),en(a,ae)),!J.keepError&&en(n.errors,ae),!J.keepDirty&&en(n.dirtyFields,ae),!J.keepTouched&&en(n.touchedFields,ae),!J.keepIsValidating&&en(n.validatingFields,ae),!e.shouldUnregister&&!J.keepDefaultValue&&en(s,ae);_.state.next({values:An(a)}),_.state.next({...n,...J.keepDirty?{isDirty:O()}:{}}),!J.keepIsValid&&N()},lt=({disabled:H,name:J})=>{(pi(H)&&u.mount||H||f.disabled.has(J))&&(H?f.disabled.add(J):f.disabled.delete(J))},tt=(H,J={})=>{let ae=Me(r,H);const Ee=pi(J.disabled)||pi(e.disabled);return Et(r,H,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:H}},name:H,mount:!0,...J}}),f.mount.add(H),ae?lt({disabled:pi(J.disabled)?J.disabled:e.disabled,name:H}):se(H,!0,J.value),{...Ee?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:Hc(J.min),max:Hc(J.max),minLength:Hc(J.minLength),maxLength:Hc(J.maxLength),pattern:Hc(J.pattern)}:{},name:H,onChange:me,onBlur:me,ref:ge=>{if(ge){tt(H,J),ae=Me(r,H);const fe=$t(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,be=P5(fe),Le=ae._f.refs||[];if(be?Le.find(wt=>wt===fe):fe===ae._f.ref)return;Et(r,H,{_f:{...ae._f,...be?{refs:[...Le.filter(ov),fe,...Array.isArray(Me(s,H))?[{}]:[]],ref:{type:fe.type,name:H}}:{ref:fe}}}),se(H,!1,void 0,fe)}else ae=Me(r,H,{}),ae._f&&(ae._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(C5(f.array,H)&&u.action)&&f.unMount.add(H)}}},on=()=>e.shouldFocusError&&lf(r,U,f.mount),Pn=H=>{pi(H)&&(_.state.next({disabled:H}),lf(r,(J,ae)=>{const Ee=Me(r,ae);Ee&&(J.disabled=Ee._f.disabled||H,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(ge=>{ge.disabled=Ee._f.disabled||H}))},0,!1))},Zn=(H,J)=>async ae=>{let Ee;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let ge=An(a);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:fe,values:be}=await P();n.errors=fe,ge=be}else await z(r);if(f.disabled.size)for(const fe of f.disabled)Et(ge,fe,void 0);if(en(n.errors,"root"),jn(n.errors)){_.state.next({errors:{}});try{await H(ge,ae)}catch(fe){Ee=fe}}else J&&await J({...n.errors},ae),on(),setTimeout(on);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jn(n.errors)&&!Ee,submitCount:n.submitCount+1,errors:n.errors}),Ee)throw Ee},Oi=(H,J={})=>{Me(r,H)&&($t(J.defaultValue)?Q(H,An(Me(s,H))):(Q(H,J.defaultValue),Et(s,H,An(J.defaultValue))),J.keepTouched||en(n.touchedFields,H),J.keepDirty||(en(n.dirtyFields,H),n.isDirty=J.defaultValue?O(H,An(Me(s,H))):O()),J.keepError||(en(n.errors,H),g.isValid&&N()),_.state.next({...n}))},Vi=(H,J={})=>{const ae=H?An(H):s,Ee=An(ae),ge=jn(H),fe=ge?s:Ee;if(J.keepDefaultValues||(s=ae),!J.keepValues){if(J.keepDirtyValues){const be=new Set([...f.mount,...Object.keys(zc(s,a))]);for(const Le of Array.from(be))Me(n.dirtyFields,Le)?Et(fe,Le,Me(a,Le)):Q(Le,Me(fe,Le))}else{if(Q_&&$t(H))for(const be of f.mount){const Le=Me(r,be);if(Le&&Le._f){const wt=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(jm(wt)){const Bt=wt.closest("form");if(Bt){Bt.reset();break}}}}for(const be of f.mount)Q(be,Me(fe,be))}a=An(fe),_.array.next({values:{...fe}}),_.state.next({values:{...fe}})}f={mount:J.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!g.isValid||!!J.keepIsValid||!!J.keepDirtyValues,u.watch=!!e.shouldUnregister,_.state.next({submitCount:J.keepSubmitCount?n.submitCount:0,isDirty:ge?!1:J.keepDirty?n.isDirty:!!(J.keepDefaultValues&&!go(H,s)),isSubmitted:J.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ge?{}:J.keepDirtyValues?J.keepDefaultValues&&a?zc(s,a):n.dirtyFields:J.keepDefaultValues&&H?zc(s,H):J.keepDirty?n.dirtyFields:{},touchedFields:J.keepTouched?n.touchedFields:{},errors:J.keepErrors?n.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},dn=(H,J)=>Vi(Fr(H)?H(a):H,J),zo=(H,J={})=>{const ae=Me(r,H),Ee=ae&&ae._f;if(Ee){const ge=Ee.refs?Ee.refs[0]:Ee.ref;ge.focus&&(ge.focus(),J.shouldSelect&&Fr(ge.select)&&ge.select())}},hr=H=>{n={...n,...H}},Xr={control:{register:tt,unregister:qe,getFieldState:te,handleSubmit:Zn,setError:Te,_subscribe:Re,_runSchema:P,_getWatch:_e,_getDirty:O,_setValid:N,_setFieldArray:V,_setDisabledField:lt,_setErrors:q,_getFieldArray:Ce,_reset:Vi,_resetDefaultValues:()=>Fr(e.defaultValues)&&e.defaultValues().then(H=>{dn(H,e.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:Pn,_subjects:_,_proxyFormState:g,get _fields(){return r},get _formValues(){return a},get _state(){return u},set _state(H){u=H},get _defaultValues(){return s},get _names(){return f},set _names(H){f=H},get _formState(){return n},get _options(){return e},set _options(H){e={...e,...H}}},subscribe:Se,trigger:oe,register:tt,handleSubmit:Zn,watch:xe,setValue:Q,getValues:ye,reset:dn,resetField:Oi,clearErrors:pe,unregister:qe,setError:Te,setFocus:zo,getFieldState:te};return{...Xr,formControl:Xr}}const $5=typeof window<"u"?Mt.useLayoutEffect:Mt.useEffect;function dD(t={}){const e=Mt.useRef(void 0),n=Mt.useRef(void 0),[r,s]=Mt.useState({isDirty:!1,isValidating:!1,isLoading:Fr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Fr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:G5(t),formState:r},t.formControl&&t.defaultValues&&!Fr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,$5(()=>{const u=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(f=>({...f,isReady:!0})),a._formState.isReady=!0,u},[a]),Mt.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Mt.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode),t.errors&&!jn(t.errors)&&a._setErrors(t.errors)},[a,t.errors,t.mode,t.reValidateMode]),Mt.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),Mt.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==r.isDirty&&a._subjects.state.next({isDirty:u})}},[a,r.isDirty]),Mt.useEffect(()=>{t.values&&!go(t.values,n.current)?(a._reset(t.values,a._options.resetOptions),n.current=t.values,s(u=>({...u}))):a._resetDefaultValues()},[a,t.values]),Mt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=D5(r,a),e.current}function pA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Rp(...t){return e=>{let n=!1;const r=t.map(s=>{const a=pA(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():pA(t[s],null)}}}}function Mn(...t){return x.useCallback(Rp(...t),t)}function Sf(t){const e=Y5(t),n=x.forwardRef((r,s)=>{const{children:a,...u}=r,f=x.Children.toArray(a),h=f.find(Q5);if(h){const m=h.props.children,g=f.map(v=>v===h?x.Children.count(m)>1?x.Children.only(null):x.isValidElement(m)?m.props.children:null:v);return w.jsx(e,{...u,ref:s,children:x.isValidElement(m)?x.cloneElement(m,void 0,g):null})}return w.jsx(e,{...u,ref:s,children:a})});return n.displayName=`${t}.Slot`,n}var K5=Sf("Slot");function Y5(t){const e=x.forwardRef((n,r)=>{const{children:s,...a}=n;if(x.isValidElement(s)){const u=Z5(s),f=X5(a,s.props);return s.type!==x.Fragment&&(f.ref=r?Rp(r,u):u),x.cloneElement(s,f)}return x.Children.count(s)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mD=Symbol("radix.slottable");function W5(t){const e=({children:n})=>w.jsx(w.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=mD,e}function Q5(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mD}function X5(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...f)=>{a(...f),s(...f)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function Z5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=pD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gD(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=pD(t))&&(r&&(r+=" "),r+=e);return r}const gA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,yA=gD,J5=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return yA(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=e,u=Object.keys(s).map(m=>{const g=n==null?void 0:n[m],v=a==null?void 0:a[m];if(g===null)return null;const _=gA(g)||gA(v);return s[m][_]}),f=n&&Object.entries(n).reduce((m,g)=>{let[v,_]=g;return _===void 0||(m[v]=_),m},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:v,className:_,...E}=g;return Object.entries(E).every(A=>{let[R,I]=A;return Array.isArray(I)?I.includes({...a,...f}[R]):{...a,...f}[R]===I})?[...m,v,_]:m},[]);return yA(t,u,h,n==null?void 0:n.class,n==null?void 0:n.className)},eb="-",eB=t=>{const e=nB(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{const f=u.split(eb);return f[0]===""&&f.length!==1&&f.shift(),yD(f,e)||tB(u)},getConflictingClassGroupIds:(u,f)=>{const h=n[u]||[];return f&&r[u]?[...h,...r[u]]:h}}},yD=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?yD(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(eb);return(u=e.validators.find(({validator:f})=>f(a)))==null?void 0:u.classGroupId},vA=/^\[(.+)\]$/,tB=t=>{if(vA.test(t)){const e=vA.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},nB=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)f0(n[s],r,s,e);return r},f0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:_A(e,s);a.classGroupId=n;return}if(typeof s=="function"){if(rB(s)){f0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,u])=>{f0(u,_A(e,a),n,r)})})},_A=(t,e)=>{let n=t;return e.split(eb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},rB=t=>t.isThemeGetter,iB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(a,u)=>{n.set(a,u),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let u=n.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return s(a,u),u},set(a,u){n.has(a)?n.set(a,u):s(a,u)}}},h0="!",d0=":",sB=d0.length,oB=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const a=[];let u=0,f=0,h=0,m;for(let A=0;A<s.length;A++){let R=s[A];if(u===0&&f===0){if(R===d0){a.push(s.slice(h,A)),h=A+sB;continue}if(R==="/"){m=A;continue}}R==="["?u++:R==="]"?u--:R==="("?f++:R===")"&&f--}const g=a.length===0?s:s.substring(h),v=aB(g),_=v!==g,E=m&&m>h?m-h:void 0;return{modifiers:a,hasImportantModifier:_,baseClassName:v,maybePostfixModifierPosition:E}};if(e){const s=e+d0,a=r;r=u=>u.startsWith(s)?a(u.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},aB=t=>t.endsWith(h0)?t.substring(0,t.length-1):t.startsWith(h0)?t.substring(1):t,lB=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(u=>{u[0]==="["||e[u]?(s.push(...a.sort(),u),a=[]):a.push(u)}),s.push(...a.sort()),s}},uB=t=>({cache:iB(t.cacheSize),parseClassName:oB(t),sortModifiers:lB(t),...eB(t)}),cB=/\s+/,fB=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,u=[],f=t.trim().split(cB);let h="";for(let m=f.length-1;m>=0;m-=1){const g=f[m],{isExternal:v,modifiers:_,hasImportantModifier:E,baseClassName:A,maybePostfixModifierPosition:R}=n(g);if(v){h=g+(h.length>0?" "+h:h);continue}let I=!!R,N=r(I?A.substring(0,R):A);if(!N){if(!I){h=g+(h.length>0?" "+h:h);continue}if(N=r(A),!N){h=g+(h.length>0?" "+h:h);continue}I=!1}const L=a(_).join(":"),V=E?L+h0:L,$=V+N;if(u.includes($))continue;u.push($);const q=s(N,I);for(let se=0;se<q.length;++se){const k=q[se];u.push(V+k)}h=g+(h.length>0?" "+h:h)}return h};function hB(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=vD(e))&&(r&&(r+=" "),r+=n);return r}const vD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=vD(t[r]))&&(n&&(n+=" "),n+=e);return n};function dB(t,...e){let n,r,s,a=u;function u(h){const m=e.reduce((g,v)=>v(g),t());return n=uB(m),r=n.cache.get,s=n.cache.set,a=f,f(h)}function f(h){const m=r(h);if(m)return m;const g=fB(h,n);return s(h,g),g}return function(){return a(hB.apply(null,arguments))}}const Jt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_D=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,bD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mB=/^\d+\/\d+$/,pB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_B=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kl=t=>mB.test(t),Ye=t=>!!t&&!Number.isNaN(Number(t)),lo=t=>!!t&&Number.isInteger(Number(t)),av=t=>t.endsWith("%")&&Ye(t.slice(0,-1)),hs=t=>pB.test(t),bB=()=>!0,wB=t=>gB.test(t)&&!yB.test(t),wD=()=>!1,EB=t=>vB.test(t),TB=t=>_B.test(t),xB=t=>!De(t)&&!Ne(t),SB=t=>Ru(t,xD,wD),De=t=>_D.test(t),ba=t=>Ru(t,SD,wB),lv=t=>Ru(t,DB,Ye),bA=t=>Ru(t,ED,wD),AB=t=>Ru(t,TD,TB),Ld=t=>Ru(t,AD,EB),Ne=t=>bD.test(t),qc=t=>Cu(t,SD),RB=t=>Cu(t,NB),wA=t=>Cu(t,ED),CB=t=>Cu(t,xD),IB=t=>Cu(t,TD),jd=t=>Cu(t,AD,!0),Ru=(t,e,n)=>{const r=_D.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Cu=(t,e,n=!1)=>{const r=bD.exec(t);return r?r[1]?e(r[1]):n:!1},ED=t=>t==="position"||t==="percentage",TD=t=>t==="image"||t==="url",xD=t=>t==="length"||t==="size"||t==="bg-size",SD=t=>t==="length",DB=t=>t==="number",NB=t=>t==="family-name",AD=t=>t==="shadow",MB=()=>{const t=Jt("color"),e=Jt("font"),n=Jt("text"),r=Jt("font-weight"),s=Jt("tracking"),a=Jt("leading"),u=Jt("breakpoint"),f=Jt("container"),h=Jt("spacing"),m=Jt("radius"),g=Jt("shadow"),v=Jt("inset-shadow"),_=Jt("text-shadow"),E=Jt("drop-shadow"),A=Jt("blur"),R=Jt("perspective"),I=Jt("aspect"),N=Jt("ease"),L=Jt("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...$(),Ne,De],se=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],C=()=>[Ne,De,h],P=()=>[kl,"full","auto",...C()],j=()=>[lo,"none","subgrid",Ne,De],z=()=>["auto",{span:["full",lo,Ne,De]},lo,Ne,De],B=()=>[lo,"auto",Ne,De],O=()=>["auto","min","max","fr",Ne,De],_e=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ce=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...C()],ie=()=>[kl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],Q=()=>[t,Ne,De],me=()=>[...$(),wA,bA,{position:[Ne,De]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],oe=()=>["auto","cover","contain",CB,SB,{size:[Ne,De]}],ye=()=>[av,qc,ba],te=()=>["","none","full",m,Ne,De],pe=()=>["",Ye,qc,ba],Te=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Re=()=>[Ye,av,wA,bA],Se=()=>["","none",A,Ne,De],qe=()=>["none",Ye,Ne,De],lt=()=>["none",Ye,Ne,De],tt=()=>[Ye,Ne,De],on=()=>[kl,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hs],breakpoint:[hs],color:[bB],container:[hs],"drop-shadow":[hs],ease:["in","out","in-out"],font:[xB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hs],shadow:[hs],spacing:["px",Ye],text:[hs],"text-shadow":[hs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",kl,De,Ne,I]}],container:["container"],columns:[{columns:[Ye,De,Ne,f]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:se()}],"overflow-x":[{"overflow-x":se()}],"overflow-y":[{"overflow-y":se()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[lo,"auto",Ne,De]}],basis:[{basis:[kl,"full","auto",f,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,kl,"auto","initial","none",De]}],grow:[{grow:["",Ye,Ne,De]}],shrink:[{shrink:["",Ye,Ne,De]}],order:[{order:[lo,"first","last","none",Ne,De]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[..._e(),"normal"]}],"justify-items":[{"justify-items":[...Ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ce()]}],"align-content":[{content:["normal",..._e()]}],"align-items":[{items:[...Ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":_e()}],"place-items":[{"place-items":[...Ce(),"baseline"]}],"place-self":[{"place-self":["auto",...Ce()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[f,"screen",...ie()]}],"min-w":[{"min-w":[f,"screen","none",...ie()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ie()]}],h:[{h:["screen",...ie()]}],"min-h":[{"min-h":["screen","none",...ie()]}],"max-h":[{"max-h":["screen",...ie()]}],"font-size":[{text:["base",n,qc,ba]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,lv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",av,De]}],"font-family":[{font:[RB,De,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ne,De]}],"line-clamp":[{"line-clamp":[Ye,"none",Ne,lv]}],leading:[{leading:[a,...C()]}],"list-image":[{"list-image":["none",Ne,De]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,De]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Te(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",Ne,ba]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Ye,"auto",Ne,De]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},lo,Ne,De],radial:["",Ne,De],conic:[lo,Ne,De]},IB,AB]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:ye()}],"gradient-via-pos":[{via:ye()}],"gradient-to-pos":[{to:ye()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Te(),"hidden","none"]}],"divide-style":[{divide:[...Te(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...Te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,Ne,De]}],"outline-w":[{outline:["",Ye,qc,ba]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",g,jd,Ld]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",v,jd,Ld]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Ye,ba]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",_,jd,Ld]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Ye,Ne,De]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":Re()}],"mask-image-linear-to-pos":[{"mask-linear-to":Re()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":Re()}],"mask-image-t-to-pos":[{"mask-t-to":Re()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":Re()}],"mask-image-r-to-pos":[{"mask-r-to":Re()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":Re()}],"mask-image-b-to-pos":[{"mask-b-to":Re()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":Re()}],"mask-image-l-to-pos":[{"mask-l-to":Re()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":Re()}],"mask-image-x-to-pos":[{"mask-x-to":Re()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":Re()}],"mask-image-y-to-pos":[{"mask-y-to":Re()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[Ne,De]}],"mask-image-radial-from-pos":[{"mask-radial-from":Re()}],"mask-image-radial-to-pos":[{"mask-radial-to":Re()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":Re()}],"mask-image-conic-to-pos":[{"mask-conic-to":Re()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,De]}],filter:[{filter:["","none",Ne,De]}],blur:[{blur:Se()}],brightness:[{brightness:[Ye,Ne,De]}],contrast:[{contrast:[Ye,Ne,De]}],"drop-shadow":[{"drop-shadow":["","none",E,jd,Ld]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Ye,Ne,De]}],"hue-rotate":[{"hue-rotate":[Ye,Ne,De]}],invert:[{invert:["",Ye,Ne,De]}],saturate:[{saturate:[Ye,Ne,De]}],sepia:[{sepia:["",Ye,Ne,De]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,De]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,Ne,De]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,Ne,De]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,Ne,De]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,Ne,De]}],"backdrop-invert":[{"backdrop-invert":["",Ye,Ne,De]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,Ne,De]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,Ne,De]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,Ne,De]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,De]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",Ne,De]}],ease:[{ease:["linear","initial",N,Ne,De]}],delay:[{delay:[Ye,Ne,De]}],animate:[{animate:["none",L,Ne,De]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,Ne,De]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:qe()}],"rotate-x":[{"rotate-x":qe()}],"rotate-y":[{"rotate-y":qe()}],"rotate-z":[{"rotate-z":qe()}],scale:[{scale:lt()}],"scale-x":[{"scale-x":lt()}],"scale-y":[{"scale-y":lt()}],"scale-z":[{"scale-z":lt()}],"scale-3d":["scale-3d"],skew:[{skew:tt()}],"skew-x":[{"skew-x":tt()}],"skew-y":[{"skew-y":tt()}],transform:[{transform:[Ne,De,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:on()}],"translate-x":[{"translate-x":on()}],"translate-y":[{"translate-y":on()}],"translate-z":[{"translate-z":on()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,De]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,De]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Ye,qc,ba,lv]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},PB=dB(MB);function Ns(...t){return PB(gD(t))}const kB=J5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function qn({className:t,variant:e,size:n,asChild:r=!1,...s}){const a=r?K5:"button";return w.jsx(a,{"data-slot":"button",className:Ns(kB({variant:e,size:n,className:t})),...s})}function eu({className:t,type:e,...n}){return w.jsx("input",{type:e,"data-slot":"input",className:Ns("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const OB="/assets/google-Bp_336oh.png";function RD(){const{setUser:t,setLoading:e,setError:n}=Pi(),r=Qr(),s=async()=>{var a;try{e(!0),n(null);const u=new ds,h=(await uU(Ur,u)).user;await Vm(yi(Bn,"users",h.uid),{email:h.email,username:h.displayName||((a=h.email)==null?void 0:a.split("@")[0]),createdAt:new Date().toISOString()}),t(h),r("/novels")}catch(u){console.error("Error signing in with Google:",u),n(u instanceof Error?u.message:"Failed to sign in with Google")}finally{e(!1)}};return w.jsxs(qn,{onClick:s,variant:"outline",className:"flex justify-center items-center text-base font-bold w-[521px] h-10 bg-white hover:bg-white text-[#656565] relative shadow-none border-[1px] rounded-lg mt-3",children:[w.jsx("img",{src:OB,alt:"Google Logo",className:"absolute left-0 not-first:w-6 h-6 ml-2"}),"Continue with Google"]})}var VB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ut=VB.reduce((t,e)=>{const n=Sf(`Primitive.${e}`),r=x.forwardRef((s,a)=>{const{asChild:u,...f}=s,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(h,{...f,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function CD(t,e){t&&X0.flushSync(()=>t.dispatchEvent(e))}var LB="Separator",EA="horizontal",jB=["horizontal","vertical"],ID=x.forwardRef((t,e)=>{const{decorative:n,orientation:r=EA,...s}=t,a=UB(r)?r:EA,f=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return w.jsx(Ut.div,{"data-orientation":a,...f,...s,ref:e})});ID.displayName=LB;function UB(t){return jB.includes(t)}var BB=ID;function m0({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return w.jsx(BB,{"data-slot":"separator-root",decorative:n,orientation:e,className:Ns("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}function DD(){return w.jsxs("div",{className:"flex justify-center items-center gap-2 mt-3 w-[47.5%]",children:[w.jsx(m0,{className:"w-[10%] border-gray-400 border-[0.5px]"}),w.jsx("span",{className:"text-lg text-muted-foreground",children:"or"}),w.jsx(m0,{className:"w-[10%] border-gray-400 border-[0.5px]"})]})}function FB(){return w.jsx(iD,{children:w.jsx(zB,{})})}function zB(){const{register:t,handleSubmit:e,formState:{errors:n,isSubmitting:r}}=dD(),{setUser:s,setLoading:a,setError:u}=Pi(),f=Qr(),[h,m]=x.useState(!1),g=async v=>{if(!h)try{a(!0),u(null);const _=await Bj(Ur,v.email,v.password);s(_.user),m(!0),f("/")}catch(_){u(_ instanceof Error?_.message:"An error occurred")}finally{a(!1)}};return h?null:w.jsxs("form",{className:"flex flex-col  justify-center items-center",onSubmit:e(g),children:[w.jsxs("div",{className:`flex flex-col w-[420px] sm:w-[521px] mt-4 [&>input]:h-10 [&>input]:text-xl [&>input]:rounded-lg [&>input]:pl-[10px] [&>input]:shadow-none ${n.email||n.password?"gap-2":"gap-6"}`,children:[w.jsx(eu,{placeholder:"Email",...t("email",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email"}),n.email&&w.jsx("span",{className:"text-red-500",children:n.email.message}),w.jsx(eu,{placeholder:"Password",...t("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password"}),n.password&&w.jsx("span",{className:"text-red-500",children:n.password.message}),w.jsx(qn,{disabled:r||h,type:"submit",className:"text-xl rounded-lg bg-[#4D74FF] hover:bg-[#3D64EE] text-white transition-colors",children:r?"Loading...":"Continue"})]}),w.jsx(DD,{}),w.jsx(RD,{}),w.jsxs("p",{className:"text-base text-[#656565] mt-2",children:["Don't have an account?"," ",w.jsx(Hn,{to:"/signup",className:"text-blue-500 hover:text-blue-600",children:"Sign up"})]})]})}function HB(){return w.jsx(iD,{children:w.jsx(qB,{})})}function qB(){var g,v,_;const{register:t,handleSubmit:e,formState:{errors:n,isSubmitting:r}}=dD(),{setUser:s,setLoading:a,setError:u}=Pi(),f=Qr(),h=async(E,A,R)=>{await Vm(yi(Bn,"users",E),{email:A,username:R,createdAt:new Date().toISOString()})},m=async E=>{try{a(!0),u(null);const{email:A,password:R,username:I}=E,N=Jl(Bn,"users"),L=Tf(N,Om("username","==",I));if(!(await xf(L)).empty){u("Username already exists. Please choose a different username.");return}const $=await Uj(Ur,A,R);await h($.user.uid,A,I),s($.user),f("/login")}catch(A){u(A instanceof Error?A.message:"An unexpected error occurred.")}finally{a(!1)}};return w.jsxs("form",{className:"flex flex-col justify-center items-center",onSubmit:e(m),children:[w.jsxs("div",{className:`flex flex-col w-[420px] sm:w-[521px] mt-4 [&>input]:h-10 [&>input]:text-xl [&>input]:rounded-lg [&>input]:pl-[10px] [&>input]:shadow-none ${n.username||n.email||n.password?"gap-2":"gap-6"}`,children:[w.jsx(eu,{placeholder:"Username",...t("username",{required:"Username is required"}),type:"text"}),n.username&&w.jsx("span",{className:"text-red-500",children:(g=n.username)==null?void 0:g.message}),w.jsx(eu,{placeholder:"Email",...t("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"text"}),n.email&&w.jsx("span",{className:"text-red-500",children:(v=n.email)==null?void 0:v.message}),w.jsx(eu,{placeholder:"Password",...t("password",{required:"Password is required"}),type:"password"}),n.password&&w.jsx("span",{className:"text-red-500",children:(_=n.password)==null?void 0:_.message}),w.jsx(qn,{disabled:r,type:"submit",className:"text-xl rounded-lg bg-[#4D74FF] hover:bg-[#4D74FF] text-white",children:r?"Loading...":"Continue"})]}),w.jsx(DD,{}),w.jsx(RD,{}),w.jsxs("span",{className:"text-base text-[#656565] mt-2",children:["Have an account?",w.jsx(Hn,{to:"/login",className:"no-underline text-[#4D74FF] font-semibold",children:" Login"})]})]})}function $e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Ba(t,e=[]){let n=[];function r(a,u){const f=x.createContext(u),h=n.length;n=[...n,u];const m=v=>{var N;const{scope:_,children:E,...A}=v,R=((N=_==null?void 0:_[t])==null?void 0:N[h])||f,I=x.useMemo(()=>A,Object.values(A));return w.jsx(R.Provider,{value:I,children:E})};m.displayName=a+"Provider";function g(v,_){var R;const E=((R=_==null?void 0:_[t])==null?void 0:R[h])||f,A=x.useContext(E);if(A)return A;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[m,g]}const s=()=>{const a=n.map(u=>x.createContext(u));return function(f){const h=(f==null?void 0:f[t])||a;return x.useMemo(()=>({[`__scope${t}`]:{...f,[t]:h}}),[f,h])}};return s.scopeName=t,[r,GB(s,...e)]}function GB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const u=r.reduce((f,{useScope:h,scopeName:m})=>{const v=h(a)[`__scope${m}`];return{...f,...v}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var Kr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},$B=d1[" useInsertionEffect ".trim().toString()]||Kr;function ND({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,a,u]=KB({defaultProp:e,onChange:n}),f=t!==void 0,h=f?t:s;{const g=x.useRef(t!==void 0);x.useEffect(()=>{const v=g.current;v!==f&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,r])}const m=x.useCallback(g=>{var v;if(f){const _=YB(g)?g(t):g;_!==t&&((v=u.current)==null||v.call(u,_))}else a(g)},[f,t,a,u]);return[h,m]}function KB({defaultProp:t,onChange:e}){const[n,r]=x.useState(t),s=x.useRef(n),a=x.useRef(e);return $B(()=>{a.current=e},[e]),x.useEffect(()=>{var u;s.current!==n&&((u=a.current)==null||u.call(a,n),s.current=n)},[n,s]),[n,r,a]}function YB(t){return typeof t=="function"}function MD(t){const e=t+"CollectionProvider",[n,r]=Ba(e),[s,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:I,children:N}=R,L=Mt.useRef(null),V=Mt.useRef(new Map).current;return w.jsx(s,{scope:I,itemMap:V,collectionRef:L,children:N})};u.displayName=e;const f=t+"CollectionSlot",h=Sf(f),m=Mt.forwardRef((R,I)=>{const{scope:N,children:L}=R,V=a(f,N),$=Mn(I,V.collectionRef);return w.jsx(h,{ref:$,children:L})});m.displayName=f;const g=t+"CollectionItemSlot",v="data-radix-collection-item",_=Sf(g),E=Mt.forwardRef((R,I)=>{const{scope:N,children:L,...V}=R,$=Mt.useRef(null),q=Mn(I,$),se=a(g,N);return Mt.useEffect(()=>(se.itemMap.set($,{ref:$,...V}),()=>void se.itemMap.delete($))),w.jsx(_,{[v]:"",ref:q,children:L})});E.displayName=g;function A(R){const I=a(t+"CollectionConsumer",R);return Mt.useCallback(()=>{const L=I.collectionRef.current;if(!L)return[];const V=Array.from(L.querySelectorAll(`[${v}]`));return Array.from(I.itemMap.values()).sort((se,k)=>V.indexOf(se.ref.current)-V.indexOf(k.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:u,Slot:m,ItemSlot:E},A,r]}var WB=x.createContext(void 0);function PD(t){const e=x.useContext(WB);return t||e||"ltr"}function Ci(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function QB(t,e=globalThis==null?void 0:globalThis.document){const n=Ci(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var XB="DismissableLayer",p0="dismissableLayer.update",ZB="dismissableLayer.pointerDownOutside",JB="dismissableLayer.focusOutside",TA,kD=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tb=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:u,onDismiss:f,...h}=t,m=x.useContext(kD),[g,v]=x.useState(null),_=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=x.useState({}),A=Mn(e,k=>v(k)),R=Array.from(m.layers),[I]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=R.indexOf(I),L=g?R.indexOf(g):-1,V=m.layersWithOutsidePointerEventsDisabled.size>0,$=L>=N,q=n9(k=>{const C=k.target,P=[...m.branches].some(j=>j.contains(C));!$||P||(s==null||s(k),u==null||u(k),k.defaultPrevented||f==null||f())},_),se=r9(k=>{const C=k.target;[...m.branches].some(j=>j.contains(C))||(a==null||a(k),u==null||u(k),k.defaultPrevented||f==null||f())},_);return QB(k=>{L===m.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&f&&(k.preventDefault(),f()))},_),x.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(TA=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),xA(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=TA)}},[g,_,n,m]),x.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),xA())},[g,m]),x.useEffect(()=>{const k=()=>E({});return document.addEventListener(p0,k),()=>document.removeEventListener(p0,k)},[]),w.jsx(Ut.div,{...h,ref:A,style:{pointerEvents:V?$?"auto":"none":void 0,...t.style},onFocusCapture:$e(t.onFocusCapture,se.onFocusCapture),onBlurCapture:$e(t.onBlurCapture,se.onBlurCapture),onPointerDownCapture:$e(t.onPointerDownCapture,q.onPointerDownCapture)})});tb.displayName=XB;var e9="DismissableLayerBranch",t9=x.forwardRef((t,e)=>{const n=x.useContext(kD),r=x.useRef(null),s=Mn(e,r);return x.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),w.jsx(Ut.div,{...t,ref:s})});t9.displayName=e9;function n9(t,e=globalThis==null?void 0:globalThis.document){const n=Ci(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const a=f=>{if(f.target&&!r.current){let h=function(){OD(ZB,n,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function r9(t,e=globalThis==null?void 0:globalThis.document){const n=Ci(t),r=x.useRef(!1);return x.useEffect(()=>{const s=a=>{a.target&&!r.current&&OD(JB,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xA(){const t=new CustomEvent(p0);document.dispatchEvent(t)}function OD(t,e,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?CD(s,a):s.dispatchEvent(a)}var uv=0;function i9(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??SA()),document.body.insertAdjacentElement("beforeend",t[1]??SA()),uv++,()=>{uv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),uv--}},[])}function SA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var cv="focusScope.autoFocusOnMount",fv="focusScope.autoFocusOnUnmount",AA={bubbles:!1,cancelable:!0},s9="FocusScope",VD=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...u}=t,[f,h]=x.useState(null),m=Ci(s),g=Ci(a),v=x.useRef(null),_=Mn(e,R=>h(R)),E=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let R=function(V){if(E.paused||!f)return;const $=V.target;f.contains($)?v.current=$:co(v.current,{select:!0})},I=function(V){if(E.paused||!f)return;const $=V.relatedTarget;$!==null&&(f.contains($)||co(v.current,{select:!0}))},N=function(V){if(document.activeElement===document.body)for(const q of V)q.removedNodes.length>0&&co(f)};document.addEventListener("focusin",R),document.addEventListener("focusout",I);const L=new MutationObserver(N);return f&&L.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",I),L.disconnect()}}},[r,f,E.paused]),x.useEffect(()=>{if(f){CA.add(E);const R=document.activeElement;if(!f.contains(R)){const N=new CustomEvent(cv,AA);f.addEventListener(cv,m),f.dispatchEvent(N),N.defaultPrevented||(o9(f9(LD(f)),{select:!0}),document.activeElement===R&&co(f))}return()=>{f.removeEventListener(cv,m),setTimeout(()=>{const N=new CustomEvent(fv,AA);f.addEventListener(fv,g),f.dispatchEvent(N),N.defaultPrevented||co(R??document.body,{select:!0}),f.removeEventListener(fv,g),CA.remove(E)},0)}}},[f,m,g,E]);const A=x.useCallback(R=>{if(!n&&!r||E.paused)return;const I=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,N=document.activeElement;if(I&&N){const L=R.currentTarget,[V,$]=a9(L);V&&$?!R.shiftKey&&N===$?(R.preventDefault(),n&&co(V,{select:!0})):R.shiftKey&&N===V&&(R.preventDefault(),n&&co($,{select:!0})):N===L&&R.preventDefault()}},[n,r,E.paused]);return w.jsx(Ut.div,{tabIndex:-1,...u,ref:_,onKeyDown:A})});VD.displayName=s9;function o9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(co(r,{select:e}),document.activeElement!==n)return}function a9(t){const e=LD(t),n=RA(e,t),r=RA(e.reverse(),t);return[n,r]}function LD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function RA(t,e){for(const n of t)if(!l9(n,{upTo:e}))return n}function l9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function u9(t){return t instanceof HTMLInputElement&&"select"in t}function co(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&u9(t)&&e&&t.select()}}var CA=c9();function c9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=IA(t,e),t.unshift(e)},remove(e){var n;t=IA(t,e),(n=t[0])==null||n.resume()}}}function IA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function f9(t){return t.filter(e=>e.tagName!=="A")}var h9=d1[" useId ".trim().toString()]||(()=>{}),d9=0;function g0(t){const[e,n]=x.useState(h9());return Kr(()=>{n(r=>r??String(d9++))},[t]),t||(e?`radix-${e}`:"")}const m9=["top","right","bottom","left"],Io=Math.min,lr=Math.max,Fm=Math.round,Ud=Math.floor,Ei=t=>({x:t,y:t}),p9={left:"right",right:"left",bottom:"top",top:"bottom"},g9={start:"end",end:"start"};function y0(t,e,n){return lr(t,Io(e,n))}function As(t,e){return typeof t=="function"?t(e):t}function Rs(t){return t.split("-")[0]}function Iu(t){return t.split("-")[1]}function nb(t){return t==="x"?"y":"x"}function rb(t){return t==="y"?"height":"width"}function Do(t){return["top","bottom"].includes(Rs(t))?"y":"x"}function ib(t){return nb(Do(t))}function y9(t,e,n){n===void 0&&(n=!1);const r=Iu(t),s=ib(t),a=rb(s);let u=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=zm(u)),[u,zm(u)]}function v9(t){const e=zm(t);return[v0(t),e,v0(e)]}function v0(t){return t.replace(/start|end/g,e=>g9[e])}function _9(t,e,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?a:u;default:return[]}}function b9(t,e,n,r){const s=Iu(t);let a=_9(Rs(t),n==="start",r);return s&&(a=a.map(u=>u+"-"+s),e&&(a=a.concat(a.map(v0)))),a}function zm(t){return t.replace(/left|right|bottom|top/g,e=>p9[e])}function w9(t){return{top:0,right:0,bottom:0,left:0,...t}}function jD(t){return typeof t!="number"?w9(t):{top:t,right:t,bottom:t,left:t}}function Hm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function DA(t,e,n){let{reference:r,floating:s}=t;const a=Do(e),u=ib(e),f=rb(u),h=Rs(e),m=a==="y",g=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,_=r[f]/2-s[f]/2;let E;switch(h){case"top":E={x:g,y:r.y-s.height};break;case"bottom":E={x:g,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:v};break;case"left":E={x:r.x-s.width,y:v};break;default:E={x:r.x,y:r.y}}switch(Iu(e)){case"start":E[u]-=_*(n&&m?-1:1);break;case"end":E[u]+=_*(n&&m?-1:1);break}return E}const E9=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:u}=n,f=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y:v}=DA(m,r,h),_=r,E={},A=0;for(let R=0;R<f.length;R++){const{name:I,fn:N}=f[R],{x:L,y:V,data:$,reset:q}=await N({x:g,y:v,initialPlacement:r,placement:_,strategy:s,middlewareData:E,rects:m,platform:u,elements:{reference:t,floating:e}});g=L??g,v=V??v,E={...E,[I]:{...E[I],...$}},q&&A<=50&&(A++,typeof q=="object"&&(q.placement&&(_=q.placement),q.rects&&(m=q.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:s}):q.rects),{x:g,y:v}=DA(m,_,h)),R=-1)}return{x:g,y:v,placement:_,strategy:s,middlewareData:E}};async function Af(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:u,elements:f,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:_=!1,padding:E=0}=As(e,t),A=jD(E),I=f[_?v==="floating"?"reference":"floating":v],N=Hm(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(I)))==null||n?I:I.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(f.floating)),boundary:m,rootBoundary:g,strategy:h})),L=v==="floating"?{x:r,y:s,width:u.floating.width,height:u.floating.height}:u.reference,V=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f.floating)),$=await(a.isElement==null?void 0:a.isElement(V))?await(a.getScale==null?void 0:a.getScale(V))||{x:1,y:1}:{x:1,y:1},q=Hm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:L,offsetParent:V,strategy:h}):L);return{top:(N.top-q.top+A.top)/$.y,bottom:(q.bottom-N.bottom+A.bottom)/$.y,left:(N.left-q.left+A.left)/$.x,right:(q.right-N.right+A.right)/$.x}}const T9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:a,platform:u,elements:f,middlewareData:h}=e,{element:m,padding:g=0}=As(t,e)||{};if(m==null)return{};const v=jD(g),_={x:n,y:r},E=ib(s),A=rb(E),R=await u.getDimensions(m),I=E==="y",N=I?"top":"left",L=I?"bottom":"right",V=I?"clientHeight":"clientWidth",$=a.reference[A]+a.reference[E]-_[E]-a.floating[A],q=_[E]-a.reference[E],se=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let k=se?se[V]:0;(!k||!await(u.isElement==null?void 0:u.isElement(se)))&&(k=f.floating[V]||a.floating[A]);const C=$/2-q/2,P=k/2-R[A]/2-1,j=Io(v[N],P),z=Io(v[L],P),B=j,O=k-R[A]-z,_e=k/2-R[A]/2+C,Ce=y0(B,_e,O),K=!h.arrow&&Iu(s)!=null&&_e!==Ce&&a.reference[A]/2-(_e<B?j:z)-R[A]/2<0,ie=K?_e<B?_e-B:_e-O:0;return{[E]:_[E]+ie,data:{[E]:Ce,centerOffset:_e-Ce-ie,...K&&{alignmentOffset:ie}},reset:K}}}),x9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:a,rects:u,initialPlacement:f,platform:h,elements:m}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:_,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:R=!0,...I}=As(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=Rs(s),L=Do(f),V=Rs(f)===f,$=await(h.isRTL==null?void 0:h.isRTL(m.floating)),q=_||(V||!R?[zm(f)]:v9(f)),se=A!=="none";!_&&se&&q.push(...b9(f,R,A,$));const k=[f,...q],C=await Af(e,I),P=[];let j=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&P.push(C[N]),v){const _e=y9(s,u,$);P.push(C[_e[0]],C[_e[1]])}if(j=[...j,{placement:s,overflows:P}],!P.every(_e=>_e<=0)){var z,B;const _e=(((z=a.flip)==null?void 0:z.index)||0)+1,Ce=k[_e];if(Ce)return{data:{index:_e,overflows:j},reset:{placement:Ce}};let K=(B=j.filter(ie=>ie.overflows[0]<=0).sort((ie,Q)=>ie.overflows[1]-Q.overflows[1])[0])==null?void 0:B.placement;if(!K)switch(E){case"bestFit":{var O;const ie=(O=j.filter(Q=>{if(se){const me=Do(Q.placement);return me===L||me==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(me=>me>0).reduce((me,U)=>me+U,0)]).sort((Q,me)=>Q[1]-me[1])[0])==null?void 0:O[0];ie&&(K=ie);break}case"initialPlacement":K=f;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function NA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function MA(t){return m9.some(e=>t[e]>=0)}const S9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=As(t,e);switch(r){case"referenceHidden":{const a=await Af(e,{...s,elementContext:"reference"}),u=NA(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:MA(u)}}}case"escaped":{const a=await Af(e,{...s,altBoundary:!0}),u=NA(a,n.floating);return{data:{escapedOffsets:u,escaped:MA(u)}}}default:return{}}}}};async function A9(t,e){const{placement:n,platform:r,elements:s}=t,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),u=Rs(n),f=Iu(n),h=Do(n)==="y",m=["left","top"].includes(u)?-1:1,g=a&&h?-1:1,v=As(e,t);let{mainAxis:_,crossAxis:E,alignmentAxis:A}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof A=="number"&&(E=f==="end"?A*-1:A),h?{x:E*g,y:_*m}:{x:_*m,y:E*g}}const R9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:a,placement:u,middlewareData:f}=e,h=await A9(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(r=f.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:u}}}}},C9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:f={fn:I=>{let{x:N,y:L}=I;return{x:N,y:L}}},...h}=As(t,e),m={x:n,y:r},g=await Af(e,h),v=Do(Rs(s)),_=nb(v);let E=m[_],A=m[v];if(a){const I=_==="y"?"top":"left",N=_==="y"?"bottom":"right",L=E+g[I],V=E-g[N];E=y0(L,E,V)}if(u){const I=v==="y"?"top":"left",N=v==="y"?"bottom":"right",L=A+g[I],V=A-g[N];A=y0(L,A,V)}const R=f.fn({...e,[_]:E,[v]:A});return{...R,data:{x:R.x-n,y:R.y-r,enabled:{[_]:a,[v]:u}}}}}},I9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:a,middlewareData:u}=e,{offset:f=0,mainAxis:h=!0,crossAxis:m=!0}=As(t,e),g={x:n,y:r},v=Do(s),_=nb(v);let E=g[_],A=g[v];const R=As(f,e),I=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(h){const V=_==="y"?"height":"width",$=a.reference[_]-a.floating[V]+I.mainAxis,q=a.reference[_]+a.reference[V]-I.mainAxis;E<$?E=$:E>q&&(E=q)}if(m){var N,L;const V=_==="y"?"width":"height",$=["top","left"].includes(Rs(s)),q=a.reference[v]-a.floating[V]+($&&((N=u.offset)==null?void 0:N[v])||0)+($?0:I.crossAxis),se=a.reference[v]+a.reference[V]+($?0:((L=u.offset)==null?void 0:L[v])||0)-($?I.crossAxis:0);A<q?A=q:A>se&&(A=se)}return{[_]:E,[v]:A}}}},D9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:a,platform:u,elements:f}=e,{apply:h=()=>{},...m}=As(t,e),g=await Af(e,m),v=Rs(s),_=Iu(s),E=Do(s)==="y",{width:A,height:R}=a.floating;let I,N;v==="top"||v==="bottom"?(I=v,N=_===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(N=v,I=_==="end"?"top":"bottom");const L=R-g.top-g.bottom,V=A-g.left-g.right,$=Io(R-g[I],L),q=Io(A-g[N],V),se=!e.middlewareData.shift;let k=$,C=q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=V),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=L),se&&!_){const j=lr(g.left,0),z=lr(g.right,0),B=lr(g.top,0),O=lr(g.bottom,0);E?C=A-2*(j!==0||z!==0?j+z:lr(g.left,g.right)):k=R-2*(B!==0||O!==0?B+O:lr(g.top,g.bottom))}await h({...e,availableWidth:C,availableHeight:k});const P=await u.getDimensions(f.floating);return A!==P.width||R!==P.height?{reset:{rects:!0}}:{}}}};function Cp(){return typeof window<"u"}function Du(t){return UD(t)?(t.nodeName||"").toLowerCase():"#document"}function fr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ki(t){var e;return(e=(UD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function UD(t){return Cp()?t instanceof Node||t instanceof fr(t).Node:!1}function Yr(t){return Cp()?t instanceof Element||t instanceof fr(t).Element:!1}function Ii(t){return Cp()?t instanceof HTMLElement||t instanceof fr(t).HTMLElement:!1}function PA(t){return!Cp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fr(t).ShadowRoot}function th(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Wr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function N9(t){return["table","td","th"].includes(Du(t))}function Ip(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function sb(t){const e=ob(),n=Yr(t)?Wr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function M9(t){let e=No(t);for(;Ii(e)&&!mu(e);){if(sb(e))return e;if(Ip(e))return null;e=No(e)}return null}function ob(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mu(t){return["html","body","#document"].includes(Du(t))}function Wr(t){return fr(t).getComputedStyle(t)}function Dp(t){return Yr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function No(t){if(Du(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PA(t)&&t.host||ki(t);return PA(e)?e.host:e}function BD(t){const e=No(t);return mu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ii(e)&&th(e)?e:BD(e)}function Rf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=BD(t),a=s===((r=t.ownerDocument)==null?void 0:r.body),u=fr(s);if(a){const f=_0(u);return e.concat(u,u.visualViewport||[],th(s)?s:[],f&&n?Rf(f):[])}return e.concat(s,Rf(s,[],n))}function _0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function FD(t){const e=Wr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ii(t),a=s?t.offsetWidth:n,u=s?t.offsetHeight:r,f=Fm(n)!==a||Fm(r)!==u;return f&&(n=a,r=u),{width:n,height:r,$:f}}function ab(t){return Yr(t)?t:t.contextElement}function tu(t){const e=ab(t);if(!Ii(e))return Ei(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:a}=FD(e);let u=(a?Fm(n.width):n.width)/r,f=(a?Fm(n.height):n.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const P9=Ei(0);function zD(t){const e=fr(t);return!ob()||!e.visualViewport?P9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function k9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==fr(t)?!1:e}function Va(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=ab(t);let u=Ei(1);e&&(r?Yr(r)&&(u=tu(r)):u=tu(t));const f=k9(a,n,r)?zD(a):Ei(0);let h=(s.left+f.x)/u.x,m=(s.top+f.y)/u.y,g=s.width/u.x,v=s.height/u.y;if(a){const _=fr(a),E=r&&Yr(r)?fr(r):r;let A=_,R=_0(A);for(;R&&r&&E!==A;){const I=tu(R),N=R.getBoundingClientRect(),L=Wr(R),V=N.left+(R.clientLeft+parseFloat(L.paddingLeft))*I.x,$=N.top+(R.clientTop+parseFloat(L.paddingTop))*I.y;h*=I.x,m*=I.y,g*=I.x,v*=I.y,h+=V,m+=$,A=fr(R),R=_0(A)}}return Hm({width:g,height:v,x:h,y:m})}function lb(t,e){const n=Dp(t).scrollLeft;return e?e.left+n:Va(ki(t)).left+n}function HD(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:lb(t,r)),a=r.top+e.scrollTop;return{x:s,y:a}}function O9(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const a=s==="fixed",u=ki(r),f=e?Ip(e.floating):!1;if(r===u||f&&a)return n;let h={scrollLeft:0,scrollTop:0},m=Ei(1);const g=Ei(0),v=Ii(r);if((v||!v&&!a)&&((Du(r)!=="body"||th(u))&&(h=Dp(r)),Ii(r))){const E=Va(r);m=tu(r),g.x=E.x+r.clientLeft,g.y=E.y+r.clientTop}const _=u&&!v&&!a?HD(u,h,!0):Ei(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+g.x+_.x,y:n.y*m.y-h.scrollTop*m.y+g.y+_.y}}function V9(t){return Array.from(t.getClientRects())}function L9(t){const e=ki(t),n=Dp(t),r=t.ownerDocument.body,s=lr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=lr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+lb(t);const f=-n.scrollTop;return Wr(r).direction==="rtl"&&(u+=lr(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:u,y:f}}function j9(t,e){const n=fr(t),r=ki(t),s=n.visualViewport;let a=r.clientWidth,u=r.clientHeight,f=0,h=0;if(s){a=s.width,u=s.height;const m=ob();(!m||m&&e==="fixed")&&(f=s.offsetLeft,h=s.offsetTop)}return{width:a,height:u,x:f,y:h}}function U9(t,e){const n=Va(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,a=Ii(t)?tu(t):Ei(1),u=t.clientWidth*a.x,f=t.clientHeight*a.y,h=s*a.x,m=r*a.y;return{width:u,height:f,x:h,y:m}}function kA(t,e,n){let r;if(e==="viewport")r=j9(t,n);else if(e==="document")r=L9(ki(t));else if(Yr(e))r=U9(e,n);else{const s=zD(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Hm(r)}function qD(t,e){const n=No(t);return n===e||!Yr(n)||mu(n)?!1:Wr(n).position==="fixed"||qD(n,e)}function B9(t,e){const n=e.get(t);if(n)return n;let r=Rf(t,[],!1).filter(f=>Yr(f)&&Du(f)!=="body"),s=null;const a=Wr(t).position==="fixed";let u=a?No(t):t;for(;Yr(u)&&!mu(u);){const f=Wr(u),h=sb(u);!h&&f.position==="fixed"&&(s=null),(a?!h&&!s:!h&&f.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||th(u)&&!h&&qD(t,u))?r=r.filter(g=>g!==u):s=f,u=No(u)}return e.set(t,r),r}function F9(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const u=[...n==="clippingAncestors"?Ip(e)?[]:B9(e,this._c):[].concat(n),r],f=u[0],h=u.reduce((m,g)=>{const v=kA(e,g,s);return m.top=lr(v.top,m.top),m.right=Io(v.right,m.right),m.bottom=Io(v.bottom,m.bottom),m.left=lr(v.left,m.left),m},kA(e,f,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function z9(t){const{width:e,height:n}=FD(t);return{width:e,height:n}}function H9(t,e,n){const r=Ii(e),s=ki(e),a=n==="fixed",u=Va(t,!0,a,e);let f={scrollLeft:0,scrollTop:0};const h=Ei(0);if(r||!r&&!a)if((Du(e)!=="body"||th(s))&&(f=Dp(e)),r){const _=Va(e,!0,a,e);h.x=_.x+e.clientLeft,h.y=_.y+e.clientTop}else s&&(h.x=lb(s));const m=s&&!r&&!a?HD(s,f):Ei(0),g=u.left+f.scrollLeft-h.x-m.x,v=u.top+f.scrollTop-h.y-m.y;return{x:g,y:v,width:u.width,height:u.height}}function hv(t){return Wr(t).position==="static"}function OA(t,e){if(!Ii(t)||Wr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ki(t)===n&&(n=n.ownerDocument.body),n}function GD(t,e){const n=fr(t);if(Ip(t))return n;if(!Ii(t)){let s=No(t);for(;s&&!mu(s);){if(Yr(s)&&!hv(s))return s;s=No(s)}return n}let r=OA(t,e);for(;r&&N9(r)&&hv(r);)r=OA(r,e);return r&&mu(r)&&hv(r)&&!sb(r)?n:r||M9(t)||n}const q9=async function(t){const e=this.getOffsetParent||GD,n=this.getDimensions,r=await n(t.floating);return{reference:H9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function G9(t){return Wr(t).direction==="rtl"}const $9={convertOffsetParentRelativeRectToViewportRelativeRect:O9,getDocumentElement:ki,getClippingRect:F9,getOffsetParent:GD,getElementRects:q9,getClientRects:V9,getDimensions:z9,getScale:tu,isElement:Yr,isRTL:G9};function $D(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function K9(t,e){let n=null,r;const s=ki(t);function a(){var f;clearTimeout(r),(f=n)==null||f.disconnect(),n=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),a();const m=t.getBoundingClientRect(),{left:g,top:v,width:_,height:E}=m;if(f||e(),!_||!E)return;const A=Ud(v),R=Ud(s.clientWidth-(g+_)),I=Ud(s.clientHeight-(v+E)),N=Ud(g),V={rootMargin:-A+"px "+-R+"px "+-I+"px "+-N+"px",threshold:lr(0,Io(1,h))||1};let $=!0;function q(se){const k=se[0].intersectionRatio;if(k!==h){if(!$)return u();k?u(!1,k):r=setTimeout(()=>{u(!1,1e-7)},1e3)}k===1&&!$D(m,t.getBoundingClientRect())&&u(),$=!1}try{n=new IntersectionObserver(q,{...V,root:s.ownerDocument})}catch{n=new IntersectionObserver(q,V)}n.observe(t)}return u(!0),a}function Y9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,m=ab(t),g=s||a?[...m?Rf(m):[],...Rf(e)]:[];g.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const v=m&&f?K9(m,n):null;let _=-1,E=null;u&&(E=new ResizeObserver(N=>{let[L]=N;L&&L.target===m&&E&&(E.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var V;(V=E)==null||V.observe(e)})),n()}),m&&!h&&E.observe(m),E.observe(e));let A,R=h?Va(t):null;h&&I();function I(){const N=Va(t);R&&!$D(R,N)&&n(),R=N,A=requestAnimationFrame(I)}return n(),()=>{var N;g.forEach(L=>{s&&L.removeEventListener("scroll",n),a&&L.removeEventListener("resize",n)}),v==null||v(),(N=E)==null||N.disconnect(),E=null,h&&cancelAnimationFrame(A)}}const W9=R9,Q9=C9,X9=x9,Z9=D9,J9=S9,VA=T9,eF=I9,tF=(t,e,n)=>{const r=new Map,s={platform:$9,...n},a={...s.platform,_c:r};return E9(t,e,{...s,platform:a})};var lm=typeof document<"u"?x.useLayoutEffect:x.useEffect;function qm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&t.$$typeof)&&!qm(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function KD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LA(t,e){const n=KD(t);return Math.round(e*n)/n}function dv(t){const e=x.useRef(t);return lm(()=>{e.current=t}),e}function nF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:u}={},transform:f=!0,whileElementsMounted:h,open:m}=t,[g,v]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[_,E]=x.useState(r);qm(_,r)||E(r);const[A,R]=x.useState(null),[I,N]=x.useState(null),L=x.useCallback(Q=>{Q!==se.current&&(se.current=Q,R(Q))},[]),V=x.useCallback(Q=>{Q!==k.current&&(k.current=Q,N(Q))},[]),$=a||A,q=u||I,se=x.useRef(null),k=x.useRef(null),C=x.useRef(g),P=h!=null,j=dv(h),z=dv(s),B=dv(m),O=x.useCallback(()=>{if(!se.current||!k.current)return;const Q={placement:e,strategy:n,middleware:_};z.current&&(Q.platform=z.current),tF(se.current,k.current,Q).then(me=>{const U={...me,isPositioned:B.current!==!1};_e.current&&!qm(C.current,U)&&(C.current=U,X0.flushSync(()=>{v(U)}))})},[_,e,n,z,B]);lm(()=>{m===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,v(Q=>({...Q,isPositioned:!1})))},[m]);const _e=x.useRef(!1);lm(()=>(_e.current=!0,()=>{_e.current=!1}),[]),lm(()=>{if($&&(se.current=$),q&&(k.current=q),$&&q){if(j.current)return j.current($,q,O);O()}},[$,q,O,j,P]);const Ce=x.useMemo(()=>({reference:se,floating:k,setReference:L,setFloating:V}),[L,V]),K=x.useMemo(()=>({reference:$,floating:q}),[$,q]),ie=x.useMemo(()=>{const Q={position:n,left:0,top:0};if(!K.floating)return Q;const me=LA(K.floating,g.x),U=LA(K.floating,g.y);return f?{...Q,transform:"translate("+me+"px, "+U+"px)",...KD(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:me,top:U}},[n,f,K.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:O,refs:Ce,elements:K,floatingStyles:ie}),[g,O,Ce,K,ie])}const rF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?VA({element:r.current,padding:s}).fn(n):{}:r?VA({element:r,padding:s}).fn(n):{}}}},iF=(t,e)=>({...W9(t),options:[t,e]}),sF=(t,e)=>({...Q9(t),options:[t,e]}),oF=(t,e)=>({...eF(t),options:[t,e]}),aF=(t,e)=>({...X9(t),options:[t,e]}),lF=(t,e)=>({...Z9(t),options:[t,e]}),uF=(t,e)=>({...J9(t),options:[t,e]}),cF=(t,e)=>({...rF(t),options:[t,e]});var fF="Arrow",YD=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...a}=t;return w.jsx(Ut.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});YD.displayName=fF;var hF=YD;function dF(t){const[e,n]=x.useState(void 0);return Kr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let u,f;if("borderBoxSize"in a){const h=a.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,f=m.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ub="Popper",[WD,Np]=Ba(ub),[mF,QD]=WD(ub),XD=t=>{const{__scopePopper:e,children:n}=t,[r,s]=x.useState(null);return w.jsx(mF,{scope:e,anchor:r,onAnchorChange:s,children:n})};XD.displayName=ub;var ZD="PopperAnchor",JD=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,a=QD(ZD,n),u=x.useRef(null),f=Mn(e,u);return x.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:w.jsx(Ut.div,{...s,ref:f})});JD.displayName=ZD;var cb="PopperContent",[pF,gF]=WD(cb),eN=x.forwardRef((t,e)=>{var Re,Se,qe,lt,tt,on;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:_=!1,updatePositionStrategy:E="optimized",onPlaced:A,...R}=t,I=QD(cb,n),[N,L]=x.useState(null),V=Mn(e,Pn=>L(Pn)),[$,q]=x.useState(null),se=dF($),k=(se==null?void 0:se.width)??0,C=(se==null?void 0:se.height)??0,P=r+(a!=="center"?"-"+a:""),j=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},z=Array.isArray(m)?m:[m],B=z.length>0,O={padding:j,boundary:z.filter(vF),altBoundary:B},{refs:_e,floatingStyles:Ce,placement:K,isPositioned:ie,middlewareData:Q}=nF({strategy:"fixed",placement:P,whileElementsMounted:(...Pn)=>Y9(...Pn,{animationFrame:E==="always"}),elements:{reference:I.anchor},middleware:[iF({mainAxis:s+C,alignmentAxis:u}),h&&sF({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?oF():void 0,...O}),h&&aF({...O}),lF({...O,apply:({elements:Pn,rects:Zn,availableWidth:Oi,availableHeight:Vi})=>{const{width:dn,height:zo}=Zn.reference,hr=Pn.floating.style;hr.setProperty("--radix-popper-available-width",`${Oi}px`),hr.setProperty("--radix-popper-available-height",`${Vi}px`),hr.setProperty("--radix-popper-anchor-width",`${dn}px`),hr.setProperty("--radix-popper-anchor-height",`${zo}px`)}}),$&&cF({element:$,padding:f}),_F({arrowWidth:k,arrowHeight:C}),_&&uF({strategy:"referenceHidden",...O})]}),[me,U]=rN(K),oe=Ci(A);Kr(()=>{ie&&(oe==null||oe())},[ie,oe]);const ye=(Re=Q.arrow)==null?void 0:Re.x,te=(Se=Q.arrow)==null?void 0:Se.y,pe=((qe=Q.arrow)==null?void 0:qe.centerOffset)!==0,[Te,xe]=x.useState();return Kr(()=>{N&&xe(window.getComputedStyle(N).zIndex)},[N]),w.jsx("div",{ref:_e.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:ie?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(lt=Q.transformOrigin)==null?void 0:lt.x,(tt=Q.transformOrigin)==null?void 0:tt.y].join(" "),...((on=Q.hide)==null?void 0:on.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(pF,{scope:n,placedSide:me,onArrowChange:q,arrowX:ye,arrowY:te,shouldHideArrow:pe,children:w.jsx(Ut.div,{"data-side":me,"data-align":U,...R,ref:V,style:{...R.style,animation:ie?void 0:"none"}})})})});eN.displayName=cb;var tN="PopperArrow",yF={top:"bottom",right:"left",bottom:"top",left:"right"},nN=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,a=gF(tN,r),u=yF[a.placedSide];return w.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:w.jsx(hF,{...s,ref:n,style:{...s.style,display:"block"}})})});nN.displayName=tN;function vF(t){return t!==null}var _F=t=>({name:"transformOrigin",options:t,fn(e){var I,N,L;const{placement:n,rects:r,middlewareData:s}=e,u=((I=s.arrow)==null?void 0:I.centerOffset)!==0,f=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[m,g]=rN(n),v={start:"0%",center:"50%",end:"100%"}[g],_=(((N=s.arrow)==null?void 0:N.x)??0)+f/2,E=(((L=s.arrow)==null?void 0:L.y)??0)+h/2;let A="",R="";return m==="bottom"?(A=u?v:`${_}px`,R=`${-h}px`):m==="top"?(A=u?v:`${_}px`,R=`${r.floating.height+h}px`):m==="right"?(A=`${-h}px`,R=u?v:`${E}px`):m==="left"&&(A=`${r.floating.width+h}px`,R=u?v:`${E}px`),{data:{x:A,y:R}}}});function rN(t){const[e,n="center"]=t.split("-");return[e,n]}var bF=XD,iN=JD,sN=eN,oN=nN,wF="Portal",aN=x.forwardRef((t,e)=>{var f;const{container:n,...r}=t,[s,a]=x.useState(!1);Kr(()=>a(!0),[]);const u=n||s&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?iV.createPortal(w.jsx(Ut.div,{...r,ref:e}),u):null});aN.displayName=wF;function EF(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var Nu=t=>{const{present:e,children:n}=t,r=TF(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),a=Mn(r.ref,xF(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:a}):null};Nu.displayName="Presence";function TF(t){const[e,n]=x.useState(),r=x.useRef(null),s=x.useRef(t),a=x.useRef("none"),u=t?"mounted":"unmounted",[f,h]=EF(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=Bd(r.current);a.current=f==="mounted"?m:"none"},[f]),Kr(()=>{const m=r.current,g=s.current;if(g!==t){const _=a.current,E=Bd(m);t?h("MOUNT"):E==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(g&&_!==E?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),Kr(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,v=E=>{const R=Bd(r.current).includes(E.animationName);if(E.target===e&&R&&(h("ANIMATION_END"),!s.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},_=E=>{E.target===e&&(a.current=Bd(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:x.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function Bd(t){return(t==null?void 0:t.animationName)||"none"}function xF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mv="rovingFocusGroup.onEntryFocus",SF={bubbles:!1,cancelable:!0},nh="RovingFocusGroup",[b0,lN,AF]=MD(nh),[RF,uN]=Ba(nh,[AF]),[CF,IF]=RF(nh),cN=x.forwardRef((t,e)=>w.jsx(b0.Provider,{scope:t.__scopeRovingFocusGroup,children:w.jsx(b0.Slot,{scope:t.__scopeRovingFocusGroup,children:w.jsx(DF,{...t,ref:e})})}));cN.displayName=nh;var DF=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...v}=t,_=x.useRef(null),E=Mn(e,_),A=PD(a),[R,I]=ND({prop:u,defaultProp:f??null,onChange:h,caller:nh}),[N,L]=x.useState(!1),V=Ci(m),$=lN(n),q=x.useRef(!1),[se,k]=x.useState(0);return x.useEffect(()=>{const C=_.current;if(C)return C.addEventListener(mv,V),()=>C.removeEventListener(mv,V)},[V]),w.jsx(CF,{scope:n,orientation:r,dir:A,loop:s,currentTabStopId:R,onItemFocus:x.useCallback(C=>I(C),[I]),onItemShiftTab:x.useCallback(()=>L(!0),[]),onFocusableItemAdd:x.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>k(C=>C-1),[]),children:w.jsx(Ut.div,{tabIndex:N||se===0?-1:0,"data-orientation":r,...v,ref:E,style:{outline:"none",...t.style},onMouseDown:$e(t.onMouseDown,()=>{q.current=!0}),onFocus:$e(t.onFocus,C=>{const P=!q.current;if(C.target===C.currentTarget&&P&&!N){const j=new CustomEvent(mv,SF);if(C.currentTarget.dispatchEvent(j),!j.defaultPrevented){const z=$().filter(K=>K.focusable),B=z.find(K=>K.active),O=z.find(K=>K.id===R),Ce=[B,O,...z].filter(Boolean).map(K=>K.ref.current);dN(Ce,g)}}q.current=!1}),onBlur:$e(t.onBlur,()=>L(!1))})})}),fN="RovingFocusGroupItem",hN=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:u,...f}=t,h=g0(),m=a||h,g=IF(fN,n),v=g.currentTabStopId===m,_=lN(n),{onFocusableItemAdd:E,onFocusableItemRemove:A,currentTabStopId:R}=g;return x.useEffect(()=>{if(r)return E(),()=>A()},[r,E,A]),w.jsx(b0.ItemSlot,{scope:n,id:m,focusable:r,active:s,children:w.jsx(Ut.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...f,ref:e,onMouseDown:$e(t.onMouseDown,I=>{r?g.onItemFocus(m):I.preventDefault()}),onFocus:$e(t.onFocus,()=>g.onItemFocus(m)),onKeyDown:$e(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){g.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const N=PF(I,g.orientation,g.dir);if(N!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let V=_().filter($=>$.focusable).map($=>$.ref.current);if(N==="last")V.reverse();else if(N==="prev"||N==="next"){N==="prev"&&V.reverse();const $=V.indexOf(I.currentTarget);V=g.loop?kF(V,$+1):V.slice($+1)}setTimeout(()=>dN(V))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:R!=null}):u})})});hN.displayName=fN;var NF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MF(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function PF(t,e,n){const r=MF(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NF[r]}function dN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function kF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var OF=cN,VF=hN,LF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ol=new WeakMap,Fd=new WeakMap,zd={},pv=0,mN=function(t){return t&&(t.host||mN(t.parentNode))},jF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=mN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},UF=function(t,e,n,r){var s=jF(e,Array.isArray(t)?t:[t]);zd[n]||(zd[n]=new WeakMap);var a=zd[n],u=[],f=new Set,h=new Set(s),m=function(v){!v||f.has(v)||(f.add(v),m(v.parentNode))};s.forEach(m);var g=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(_){if(f.has(_))g(_);else try{var E=_.getAttribute(r),A=E!==null&&E!=="false",R=(Ol.get(_)||0)+1,I=(a.get(_)||0)+1;Ol.set(_,R),a.set(_,I),u.push(_),R===1&&A&&Fd.set(_,!0),I===1&&_.setAttribute(n,"true"),A||_.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",_,N)}})};return g(e),f.clear(),pv++,function(){u.forEach(function(v){var _=Ol.get(v)-1,E=a.get(v)-1;Ol.set(v,_),a.set(v,E),_||(Fd.has(v)||v.removeAttribute(r),Fd.delete(v)),E||v.removeAttribute(n)}),pv--,pv||(Ol=new WeakMap,Ol=new WeakMap,Fd=new WeakMap,zd={})}},BF=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=LF(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),UF(r,s,n,"aria-hidden")):function(){return null}},um="right-scroll-bar-position",cm="width-before-scroll-bar",FF="with-scroll-bars-hidden",zF="--removed-body-scroll-bar-size";function gv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function HF(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var qF=typeof window<"u"?x.useLayoutEffect:x.useEffect,jA=new WeakMap;function GF(t,e){var n=HF(null,function(r){return t.forEach(function(s){return gv(s,r)})});return qF(function(){var r=jA.get(n);if(r){var s=new Set(r),a=new Set(t),u=n.current;s.forEach(function(f){a.has(f)||gv(f,null)}),a.forEach(function(f){s.has(f)||gv(f,u)})}jA.set(n,t)},[t]),n}function $F(t){return t}function KF(t,e){e===void 0&&(e=$F);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var u=e(a,r);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(a){for(r=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(f){return a(f)},filter:function(){return n}}},assignMedium:function(a){r=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(a),u=n}var h=function(){var g=u;u=[],g.forEach(a)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(g){u.push(g),m()},filter:function(g){return u=u.filter(g),n}}}};return s}function YF(t){t===void 0&&(t={});var e=KF(null);return e.options=gi({async:!0,ssr:!1},t),e}var pN=function(t){var e=t.sideCar,n=Hf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,gi({},n))};pN.isSideCarExport=!0;function WF(t,e){return t.useMedium(e),pN}var gN=YF(),yv=function(){},Mp=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:yv,onWheelCapture:yv,onTouchMoveCapture:yv}),s=r[0],a=r[1],u=t.forwardProps,f=t.children,h=t.className,m=t.removeScrollBar,g=t.enabled,v=t.shards,_=t.sideCar,E=t.noIsolation,A=t.inert,R=t.allowPinchZoom,I=t.as,N=I===void 0?"div":I,L=t.gapMode,V=Hf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=_,q=GF([n,e]),se=gi(gi({},V),s);return x.createElement(x.Fragment,null,g&&x.createElement($,{sideCar:gN,removeScrollBar:m,shards:v,noIsolation:E,inert:A,setCallbacks:a,allowPinchZoom:!!R,lockRef:n,gapMode:L}),u?x.cloneElement(x.Children.only(f),gi(gi({},se),{ref:q})):x.createElement(N,gi({},se,{className:h,ref:q}),f))});Mp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mp.classNames={fullWidth:cm,zeroRight:um};var QF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=QF();return e&&t.setAttribute("nonce",e),t}function ZF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function JF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ez=function(){var t=0,e=null;return{add:function(n){t==0&&(e=XF())&&(ZF(e,n),JF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},tz=function(){var t=ez();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},yN=function(){var t=tz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},nz={left:0,top:0,right:0,gap:0},vv=function(t){return parseInt(t||"",10)||0},rz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[vv(n),vv(r),vv(s)]},iz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return nz;var e=rz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},sz=yN(),nu="data-scroll-locked",oz=function(t,e,n,r){var s=t.left,a=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(FF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(f,"px ").concat(r,`;
  }
  body[`).concat(nu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(um,` {
    right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(cm,` {
    margin-right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(um," .").concat(um,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cm," .").concat(cm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(nu,`] {
    `).concat(zF,": ").concat(f,`px;
  }
`)},UA=function(){var t=parseInt(document.body.getAttribute(nu)||"0",10);return isFinite(t)?t:0},az=function(){x.useEffect(function(){return document.body.setAttribute(nu,(UA()+1).toString()),function(){var t=UA()-1;t<=0?document.body.removeAttribute(nu):document.body.setAttribute(nu,t.toString())}},[])},lz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;az();var a=x.useMemo(function(){return iz(s)},[s]);return x.createElement(sz,{styles:oz(a,!e,s,n?"":"!important")})},w0=!1;if(typeof window<"u")try{var Hd=Object.defineProperty({},"passive",{get:function(){return w0=!0,!0}});window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,Hd)}catch{w0=!1}var Vl=w0?{passive:!1}:!1,uz=function(t){return t.tagName==="TEXTAREA"},vN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!uz(t)&&n[e]==="visible")},cz=function(t){return vN(t,"overflowY")},fz=function(t){return vN(t,"overflowX")},BA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=_N(t,r);if(s){var a=bN(t,r),u=a[1],f=a[2];if(u>f)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},hz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},dz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},_N=function(t,e){return t==="v"?cz(e):fz(e)},bN=function(t,e){return t==="v"?hz(e):dz(e)},mz=function(t,e){return t==="h"&&e==="rtl"?-1:1},pz=function(t,e,n,r,s){var a=mz(t,window.getComputedStyle(e).direction),u=a*r,f=n.target,h=e.contains(f),m=!1,g=u>0,v=0,_=0;do{var E=bN(t,f),A=E[0],R=E[1],I=E[2],N=R-I-a*A;(A||N)&&_N(t,f)&&(v+=N,_+=A),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!h&&f!==document.body||h&&(e.contains(f)||e===f));return(g&&Math.abs(v)<1||!g&&Math.abs(_)<1)&&(m=!0),m},qd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},FA=function(t){return[t.deltaX,t.deltaY]},zA=function(t){return t&&"current"in t?t.current:t},gz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},yz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},vz=0,Ll=[];function _z(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(vz++)[0],a=x.useState(yN)[0],u=x.useRef(t);x.useEffect(function(){u.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var R=BL([t.lockRef.current],(t.shards||[]).map(zA),!0).filter(Boolean);return R.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),R.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var f=x.useCallback(function(R,I){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var N=qd(R),L=n.current,V="deltaX"in R?R.deltaX:L[0]-N[0],$="deltaY"in R?R.deltaY:L[1]-N[1],q,se=R.target,k=Math.abs(V)>Math.abs($)?"h":"v";if("touches"in R&&k==="h"&&se.type==="range")return!1;var C=BA(k,se);if(!C)return!0;if(C?q=k:(q=k==="v"?"h":"v",C=BA(k,se)),!C)return!1;if(!r.current&&"changedTouches"in R&&(V||$)&&(r.current=q),!q)return!0;var P=r.current||q;return pz(P,I,R,P==="h"?V:$)},[]),h=x.useCallback(function(R){var I=R;if(!(!Ll.length||Ll[Ll.length-1]!==a)){var N="deltaY"in I?FA(I):qd(I),L=e.current.filter(function(q){return q.name===I.type&&(q.target===I.target||I.target===q.shadowParent)&&gz(q.delta,N)})[0];if(L&&L.should){I.cancelable&&I.preventDefault();return}if(!L){var V=(u.current.shards||[]).map(zA).filter(Boolean).filter(function(q){return q.contains(I.target)}),$=V.length>0?f(I,V[0]):!u.current.noIsolation;$&&I.cancelable&&I.preventDefault()}}},[]),m=x.useCallback(function(R,I,N,L){var V={name:R,delta:I,target:N,should:L,shadowParent:bz(N)};e.current.push(V),setTimeout(function(){e.current=e.current.filter(function($){return $!==V})},1)},[]),g=x.useCallback(function(R){n.current=qd(R),r.current=void 0},[]),v=x.useCallback(function(R){m(R.type,FA(R),R.target,f(R,t.lockRef.current))},[]),_=x.useCallback(function(R){m(R.type,qd(R),R.target,f(R,t.lockRef.current))},[]);x.useEffect(function(){return Ll.push(a),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:_}),document.addEventListener("wheel",h,Vl),document.addEventListener("touchmove",h,Vl),document.addEventListener("touchstart",g,Vl),function(){Ll=Ll.filter(function(R){return R!==a}),document.removeEventListener("wheel",h,Vl),document.removeEventListener("touchmove",h,Vl),document.removeEventListener("touchstart",g,Vl)}},[]);var E=t.removeScrollBar,A=t.inert;return x.createElement(x.Fragment,null,A?x.createElement(a,{styles:yz(s)}):null,E?x.createElement(lz,{gapMode:t.gapMode}):null)}function bz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const wz=WF(gN,_z);var wN=x.forwardRef(function(t,e){return x.createElement(Mp,gi({},t,{ref:e,sideCar:wz}))});wN.classNames=Mp.classNames;var E0=["Enter"," "],Ez=["ArrowDown","PageUp","Home"],EN=["ArrowUp","PageDown","End"],Tz=[...Ez,...EN],xz={ltr:[...E0,"ArrowRight"],rtl:[...E0,"ArrowLeft"]},Sz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rh="Menu",[Cf,Az,Rz]=MD(rh),[Fa,TN]=Ba(rh,[Rz,Np,uN]),Pp=Np(),xN=uN(),[Cz,za]=Fa(rh),[Iz,ih]=Fa(rh),SN=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:a,modal:u=!0}=t,f=Pp(e),[h,m]=x.useState(null),g=x.useRef(!1),v=Ci(a),_=PD(s);return x.useEffect(()=>{const E=()=>{g.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>g.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),w.jsx(bF,{...f,children:w.jsx(Cz,{scope:e,open:n,onOpenChange:v,content:h,onContentChange:m,children:w.jsx(Iz,{scope:e,onClose:x.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:_,modal:u,children:r})})})};SN.displayName=rh;var Dz="MenuAnchor",fb=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Pp(n);return w.jsx(iN,{...s,...r,ref:e})});fb.displayName=Dz;var hb="MenuPortal",[Nz,AN]=Fa(hb,{forceMount:void 0}),RN=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,a=za(hb,e);return w.jsx(Nz,{scope:e,forceMount:n,children:w.jsx(Nu,{present:n||a.open,children:w.jsx(aN,{asChild:!0,container:s,children:r})})})};RN.displayName=hb;var Rr="MenuContent",[Mz,db]=Fa(Rr),CN=x.forwardRef((t,e)=>{const n=AN(Rr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,a=za(Rr,t.__scopeMenu),u=ih(Rr,t.__scopeMenu);return w.jsx(Cf.Provider,{scope:t.__scopeMenu,children:w.jsx(Nu,{present:r||a.open,children:w.jsx(Cf.Slot,{scope:t.__scopeMenu,children:u.modal?w.jsx(Pz,{...s,ref:e}):w.jsx(kz,{...s,ref:e})})})})}),Pz=x.forwardRef((t,e)=>{const n=za(Rr,t.__scopeMenu),r=x.useRef(null),s=Mn(e,r);return x.useEffect(()=>{const a=r.current;if(a)return BF(a)},[]),w.jsx(mb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:$e(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),kz=x.forwardRef((t,e)=>{const n=za(Rr,t.__scopeMenu);return w.jsx(mb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Oz=Sf("MenuContent.ScrollLock"),mb=x.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:_,onDismiss:E,disableOutsideScroll:A,...R}=t,I=za(Rr,n),N=ih(Rr,n),L=Pp(n),V=xN(n),$=Az(n),[q,se]=x.useState(null),k=x.useRef(null),C=Mn(e,k,I.onContentChange),P=x.useRef(0),j=x.useRef(""),z=x.useRef(0),B=x.useRef(null),O=x.useRef("right"),_e=x.useRef(0),Ce=A?wN:x.Fragment,K=A?{as:Oz,allowPinchZoom:!0}:void 0,ie=me=>{var Re,Se;const U=j.current+me,oe=$().filter(qe=>!qe.disabled),ye=document.activeElement,te=(Re=oe.find(qe=>qe.ref.current===ye))==null?void 0:Re.textValue,pe=oe.map(qe=>qe.textValue),Te=Kz(pe,U,te),xe=(Se=oe.find(qe=>qe.textValue===Te))==null?void 0:Se.ref.current;(function qe(lt){j.current=lt,window.clearTimeout(P.current),lt!==""&&(P.current=window.setTimeout(()=>qe(""),1e3))})(U),xe&&setTimeout(()=>xe.focus())};x.useEffect(()=>()=>window.clearTimeout(P.current),[]),i9();const Q=x.useCallback(me=>{var oe,ye;return O.current===((oe=B.current)==null?void 0:oe.side)&&Wz(me,(ye=B.current)==null?void 0:ye.area)},[]);return w.jsx(Mz,{scope:n,searchRef:j,onItemEnter:x.useCallback(me=>{Q(me)&&me.preventDefault()},[Q]),onItemLeave:x.useCallback(me=>{var U;Q(me)||((U=k.current)==null||U.focus(),se(null))},[Q]),onTriggerLeave:x.useCallback(me=>{Q(me)&&me.preventDefault()},[Q]),pointerGraceTimerRef:z,onPointerGraceIntentChange:x.useCallback(me=>{B.current=me},[]),children:w.jsx(Ce,{...K,children:w.jsx(VD,{asChild:!0,trapped:s,onMountAutoFocus:$e(a,me=>{var U;me.preventDefault(),(U=k.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:w.jsx(tb,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:_,onDismiss:E,children:w.jsx(OF,{asChild:!0,...V,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:q,onCurrentTabStopIdChange:se,onEntryFocus:$e(h,me=>{N.isUsingKeyboardRef.current||me.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(sN,{role:"menu","aria-orientation":"vertical","data-state":qN(I.open),"data-radix-menu-content":"",dir:N.dir,...L,...R,ref:C,style:{outline:"none",...R.style},onKeyDown:$e(R.onKeyDown,me=>{const oe=me.target.closest("[data-radix-menu-content]")===me.currentTarget,ye=me.ctrlKey||me.altKey||me.metaKey,te=me.key.length===1;oe&&(me.key==="Tab"&&me.preventDefault(),!ye&&te&&ie(me.key));const pe=k.current;if(me.target!==pe||!Tz.includes(me.key))return;me.preventDefault();const xe=$().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);EN.includes(me.key)&&xe.reverse(),Gz(xe)}),onBlur:$e(t.onBlur,me=>{me.currentTarget.contains(me.target)||(window.clearTimeout(P.current),j.current="")}),onPointerMove:$e(t.onPointerMove,If(me=>{const U=me.target,oe=_e.current!==me.clientX;if(me.currentTarget.contains(U)&&oe){const ye=me.clientX>_e.current?"right":"left";O.current=ye,_e.current=me.clientX}}))})})})})})})});CN.displayName=Rr;var Vz="MenuGroup",pb=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Ut.div,{role:"group",...r,ref:e})});pb.displayName=Vz;var Lz="MenuLabel",IN=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Ut.div,{...r,ref:e})});IN.displayName=Lz;var Gm="MenuItem",HA="menu.itemSelect",kp=x.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,a=x.useRef(null),u=ih(Gm,t.__scopeMenu),f=db(Gm,t.__scopeMenu),h=Mn(e,a),m=x.useRef(!1),g=()=>{const v=a.current;if(!n&&v){const _=new CustomEvent(HA,{bubbles:!0,cancelable:!0});v.addEventListener(HA,E=>r==null?void 0:r(E),{once:!0}),CD(v,_),_.defaultPrevented?m.current=!1:u.onClose()}};return w.jsx(DN,{...s,ref:h,disabled:n,onClick:$e(t.onClick,g),onPointerDown:v=>{var _;(_=t.onPointerDown)==null||_.call(t,v),m.current=!0},onPointerUp:$e(t.onPointerUp,v=>{var _;m.current||(_=v.currentTarget)==null||_.click()}),onKeyDown:$e(t.onKeyDown,v=>{const _=f.searchRef.current!=="";n||_&&v.key===" "||E0.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});kp.displayName=Gm;var DN=x.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=t,u=db(Gm,n),f=xN(n),h=x.useRef(null),m=Mn(e,h),[g,v]=x.useState(!1),[_,E]=x.useState("");return x.useEffect(()=>{const A=h.current;A&&E((A.textContent??"").trim())},[a.children]),w.jsx(Cf.ItemSlot,{scope:n,disabled:r,textValue:s??_,children:w.jsx(VF,{asChild:!0,...f,focusable:!r,children:w.jsx(Ut.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:m,onPointerMove:$e(t.onPointerMove,If(A=>{r?u.onItemLeave(A):(u.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$e(t.onPointerLeave,If(A=>u.onItemLeave(A))),onFocus:$e(t.onFocus,()=>v(!0)),onBlur:$e(t.onBlur,()=>v(!1))})})})}),jz="MenuCheckboxItem",NN=x.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return w.jsx(VN,{scope:t.__scopeMenu,checked:n,children:w.jsx(kp,{role:"menuitemcheckbox","aria-checked":$m(n)?"mixed":n,...s,ref:e,"data-state":yb(n),onSelect:$e(s.onSelect,()=>r==null?void 0:r($m(n)?!0:!n),{checkForDefaultPrevented:!1})})})});NN.displayName=jz;var MN="MenuRadioGroup",[Uz,Bz]=Fa(MN,{value:void 0,onValueChange:()=>{}}),PN=x.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,a=Ci(r);return w.jsx(Uz,{scope:t.__scopeMenu,value:n,onValueChange:a,children:w.jsx(pb,{...s,ref:e})})});PN.displayName=MN;var kN="MenuRadioItem",ON=x.forwardRef((t,e)=>{const{value:n,...r}=t,s=Bz(kN,t.__scopeMenu),a=n===s.value;return w.jsx(VN,{scope:t.__scopeMenu,checked:a,children:w.jsx(kp,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":yb(a),onSelect:$e(r.onSelect,()=>{var u;return(u=s.onValueChange)==null?void 0:u.call(s,n)},{checkForDefaultPrevented:!1})})})});ON.displayName=kN;var gb="MenuItemIndicator",[VN,Fz]=Fa(gb,{checked:!1}),LN=x.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,a=Fz(gb,n);return w.jsx(Nu,{present:r||$m(a.checked)||a.checked===!0,children:w.jsx(Ut.span,{...s,ref:e,"data-state":yb(a.checked)})})});LN.displayName=gb;var zz="MenuSeparator",jN=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Ut.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});jN.displayName=zz;var Hz="MenuArrow",UN=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Pp(n);return w.jsx(oN,{...s,...r,ref:e})});UN.displayName=Hz;var qz="MenuSub",[cY,BN]=Fa(qz),Jc="MenuSubTrigger",FN=x.forwardRef((t,e)=>{const n=za(Jc,t.__scopeMenu),r=ih(Jc,t.__scopeMenu),s=BN(Jc,t.__scopeMenu),a=db(Jc,t.__scopeMenu),u=x.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:h}=a,m={__scopeMenu:t.__scopeMenu},g=x.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return x.useEffect(()=>g,[g]),x.useEffect(()=>{const v=f.current;return()=>{window.clearTimeout(v),h(null)}},[f,h]),w.jsx(fb,{asChild:!0,...m,children:w.jsx(DN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":qN(n.open),...t,ref:Rp(e,s.onTriggerChange),onClick:v=>{var _;(_=t.onClick)==null||_.call(t,v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:$e(t.onPointerMove,If(v=>{a.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:$e(t.onPointerLeave,If(v=>{var E,A;g();const _=(E=n.content)==null?void 0:E.getBoundingClientRect();if(_){const R=(A=n.content)==null?void 0:A.dataset.side,I=R==="right",N=I?-5:5,L=_[I?"left":"right"],V=_[I?"right":"left"];a.onPointerGraceIntentChange({area:[{x:v.clientX+N,y:v.clientY},{x:L,y:_.top},{x:V,y:_.top},{x:V,y:_.bottom},{x:L,y:_.bottom}],side:R}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(v),v.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:$e(t.onKeyDown,v=>{var E;const _=a.searchRef.current!=="";t.disabled||_&&v.key===" "||xz[r.dir].includes(v.key)&&(n.onOpenChange(!0),(E=n.content)==null||E.focus(),v.preventDefault())})})})});FN.displayName=Jc;var zN="MenuSubContent",HN=x.forwardRef((t,e)=>{const n=AN(Rr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,a=za(Rr,t.__scopeMenu),u=ih(Rr,t.__scopeMenu),f=BN(zN,t.__scopeMenu),h=x.useRef(null),m=Mn(e,h);return w.jsx(Cf.Provider,{scope:t.__scopeMenu,children:w.jsx(Nu,{present:r||a.open,children:w.jsx(Cf.Slot,{scope:t.__scopeMenu,children:w.jsx(mb,{id:f.contentId,"aria-labelledby":f.triggerId,...s,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var v;u.isUsingKeyboardRef.current&&((v=h.current)==null||v.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:$e(t.onFocusOutside,g=>{g.target!==f.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:$e(t.onEscapeKeyDown,g=>{u.onClose(),g.preventDefault()}),onKeyDown:$e(t.onKeyDown,g=>{var E;const v=g.currentTarget.contains(g.target),_=Sz[u.dir].includes(g.key);v&&_&&(a.onOpenChange(!1),(E=f.trigger)==null||E.focus(),g.preventDefault())})})})})})});HN.displayName=zN;function qN(t){return t?"open":"closed"}function $m(t){return t==="indeterminate"}function yb(t){return $m(t)?"indeterminate":t?"checked":"unchecked"}function Gz(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function $z(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Kz(t,e,n){const s=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let u=$z(t,Math.max(a,0));s.length===1&&(u=u.filter(m=>m!==n));const h=u.find(m=>m.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function Yz(t,e){const{x:n,y:r}=t;let s=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const f=e[a],h=e[u],m=f.x,g=f.y,v=h.x,_=h.y;g>r!=_>r&&n<(v-m)*(r-g)/(_-g)+m&&(s=!s)}return s}function Wz(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Yz(n,e)}function If(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Qz=SN,Xz=fb,Zz=RN,Jz=CN,eH=pb,tH=IN,nH=kp,rH=NN,iH=PN,sH=ON,oH=LN,aH=jN,lH=UN,uH=FN,cH=HN,Op="DropdownMenu",[fH,fY]=Ba(Op,[TN]),Gn=TN(),[hH,GN]=fH(Op),$N=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:u,modal:f=!0}=t,h=Gn(e),m=x.useRef(null),[g,v]=ND({prop:s,defaultProp:a??!1,onChange:u,caller:Op});return w.jsx(hH,{scope:e,triggerId:g0(),triggerRef:m,contentId:g0(),open:g,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(_=>!_),[v]),modal:f,children:w.jsx(Qz,{...h,open:g,onOpenChange:v,dir:r,modal:f,children:n})})};$N.displayName=Op;var KN="DropdownMenuTrigger",YN=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,a=GN(KN,n),u=Gn(n);return w.jsx(Xz,{asChild:!0,...u,children:w.jsx(Ut.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Rp(e,a.triggerRef),onPointerDown:$e(t.onPointerDown,f=>{!r&&f.button===0&&f.ctrlKey===!1&&(a.onOpenToggle(),a.open||f.preventDefault())}),onKeyDown:$e(t.onKeyDown,f=>{r||(["Enter"," "].includes(f.key)&&a.onOpenToggle(),f.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});YN.displayName=KN;var dH="DropdownMenuPortal",WN=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Gn(e);return w.jsx(Zz,{...r,...n})};WN.displayName=dH;var QN="DropdownMenuContent",XN=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=GN(QN,n),a=Gn(n),u=x.useRef(!1);return w.jsx(Jz,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:e,onCloseAutoFocus:$e(t.onCloseAutoFocus,f=>{var h;u.current||(h=s.triggerRef.current)==null||h.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:$e(t.onInteractOutside,f=>{const h=f.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,g=h.button===2||m;(!s.modal||g)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XN.displayName=QN;var mH="DropdownMenuGroup",pH=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return w.jsx(eH,{...s,...r,ref:e})});pH.displayName=mH;var gH="DropdownMenuLabel",ZN=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return w.jsx(tH,{...s,...r,ref:e})});ZN.displayName=gH;var yH="DropdownMenuItem",vH=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return w.jsx(nH,{...s,...r,ref:e})});vH.displayName=yH;var _H="DropdownMenuCheckboxItem",bH=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return w.jsx(rH,{...s,...r,ref:e})});bH.displayName=_H;var wH="DropdownMenuRadioGroup",EH=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return w.jsx(iH,{...s,...r,ref:e})});EH.displayName=wH;var TH="DropdownMenuRadioItem",xH=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return w.jsx(sH,{...s,...r,ref:e})});xH.displayName=TH;var SH="DropdownMenuItemIndicator",AH=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return w.jsx(oH,{...s,...r,ref:e})});AH.displayName=SH;var RH="DropdownMenuSeparator",JN=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return w.jsx(aH,{...s,...r,ref:e})});JN.displayName=RH;var CH="DropdownMenuArrow",IH=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return w.jsx(lH,{...s,...r,ref:e})});IH.displayName=CH;var DH="DropdownMenuSubTrigger",NH=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return w.jsx(uH,{...s,...r,ref:e})});NH.displayName=DH;var MH="DropdownMenuSubContent",PH=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return w.jsx(cH,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PH.displayName=MH;var kH=$N,OH=YN,VH=WN,LH=XN,jH=ZN,UH=JN;/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FH=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),qA=t=>{const e=FH(t);return e.charAt(0).toUpperCase()+e.slice(1)},eM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),zH=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...f},h)=>x.createElement("svg",{ref:h,...HH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:eM("lucide",s),...!a&&!zH(f)&&{"aria-hidden":"true"},...f},[...u.map(([m,g])=>x.createElement(m,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=(t,e)=>{const n=x.forwardRef(({className:r,...s},a)=>x.createElement(qH,{ref:a,iconNode:e,className:eM(`lucide-${BH(qA(t))}`,`lucide-${t}`,r),...s}));return n.displayName=qA(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$H=sn("award",GH);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]],YH=sn("book-open-text",KH);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],tM=sn("book-open",WH);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]],XH=sn("book-text",QH);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],JH=sn("bookmark",ZH);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nM=sn("calendar",eq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rM=sn("chevron-down",tq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rq=sn("chevron-right",nq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],sq=sn("library",iq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],T0=sn("loader-circle",oq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],lq=sn("message-square",aq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],cq=sn("palette",uq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],hq=sn("refresh-ccw",fq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],mq=sn("search",dq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],gq=sn("share-2",pq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],iM=sn("sparkles",yq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sM=sn("star",vq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],GA=sn("thumbs-down",_q);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],x0=sn("thumbs-up",bq);function Vp({...t}){return w.jsx(kH,{"data-slot":"dropdown-menu",...t})}function Lp({...t}){return w.jsx(OH,{"data-slot":"dropdown-menu-trigger",...t})}function jp({className:t,sideOffset:e=4,...n}){return w.jsx(VH,{children:w.jsx(LH,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ns("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function oM({className:t,inset:e,...n}){return w.jsx(jH,{"data-slot":"dropdown-menu-label","data-inset":e,className:Ns("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function aM({className:t,...e}){return w.jsx(UH,{"data-slot":"dropdown-menu-separator",className:Ns("bg-border -mx-1 my-1 h-px",t),...e})}var _v={exports:{}},bv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A;function wq(){if($A)return bv;$A=1;var t=Zm();function e(v,_){return v===_&&(v!==0||1/v===1/_)||v!==v&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function f(v,_){var E=_(),A=r({inst:{value:E,getSnapshot:_}}),R=A[0].inst,I=A[1];return a(function(){R.value=E,R.getSnapshot=_,h(R)&&I({inst:R})},[v,E,_]),s(function(){return h(R)&&I({inst:R}),v(function(){h(R)&&I({inst:R})})},[v]),u(E),E}function h(v){var _=v.getSnapshot;v=v.value;try{var E=_();return!n(v,E)}catch{return!0}}function m(v,_){return _()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return bv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,bv}var KA;function Eq(){return KA||(KA=1,_v.exports=wq()),_v.exports}var Tq=Eq();function xq(){return Tq.useSyncExternalStore(Sq,()=>!0,()=>!1)}function Sq(){return()=>{}}var vb="Avatar",[Aq,hY]=Ba(vb),[Rq,lM]=Aq(vb),uM=x.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,a]=x.useState("idle");return w.jsx(Rq,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:w.jsx(Ut.span,{...r,ref:e})})});uM.displayName=vb;var cM="AvatarImage",Cq=x.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=t,u=lM(cM,n),f=Iq(r,a),h=Ci(m=>{s(m),u.onImageLoadingStatusChange(m)});return Kr(()=>{f!=="idle"&&h(f)},[f,h]),f==="loaded"?w.jsx(Ut.img,{...a,ref:e,src:r}):null});Cq.displayName=cM;var fM="AvatarFallback",hM=x.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,a=lM(fM,n),[u,f]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>f(!0),r);return()=>window.clearTimeout(h)}},[r]),u&&a.imageLoadingStatus!=="loaded"?w.jsx(Ut.span,{...s,ref:e}):null});hM.displayName=fM;function YA(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Iq(t,{referrerPolicy:e,crossOrigin:n}){const r=xq(),s=x.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[u,f]=x.useState(()=>YA(a,t));return Kr(()=>{f(YA(a,t))},[a,t]),Kr(()=>{const h=v=>()=>{f(v)};if(!a)return;const m=h("loaded"),g=h("error");return a.addEventListener("load",m),a.addEventListener("error",g),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",m),a.removeEventListener("error",g)}},[a,n,e]),u}var Dq=uM,Nq=hM;function _b({className:t,...e}){return w.jsx(Dq,{"data-slot":"avatar",className:Ns("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function bb({className:t,...e}){return w.jsx(Nq,{"data-slot":"avatar-fallback",className:Ns("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function Mq(){const[t,e]=x.useState(""),[n,r]=x.useState([]),[s,a]=x.useState(!1),u=Qr();x.useEffect(()=>{const m=async()=>{if(t.length<1){r([]);return}try{const v=Jl(Bn,"users"),_=Tf(v,u0("username"),u5(t),f5(t+"")),A=(await xf(_)).docs.map(R=>({uid:R.id,...R.data()}));r(A)}catch(v){console.error("Error searching users:",v)}},g=setTimeout(()=>{m()},300);return()=>clearTimeout(g)},[t]);const f=m=>{u(`/profile/${m}`),a(!1),e("")},h=m=>{m.preventDefault(),n.length>0&&f(n[0].username)};return w.jsxs("div",{className:"relative w-full max-w-sm",children:[w.jsxs("form",{className:"flex relative w-full max-w-sm items-center gap-1.5",onSubmit:h,children:[w.jsx("div",{className:"absolute left-2.5 top-2 text-muted-foreground",children:w.jsx(mq,{})}),w.jsx(eu,{placeholder:"Search...",className:"bg-white w-[10rem] sm:w-[18rem] lg:w-[24rem] h-10 shadow-none pl-10 text-black border-gray-300",value:t,onChange:m=>e(m.target.value),onFocus:()=>a(!0)})]}),s&&t&&n.length>0&&w.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-lg z-50",children:w.jsx("div",{className:"py-2",children:n.map(m=>w.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>f(m.username),children:[w.jsx("div",{className:"text-sm font-medium text-black",children:m.username}),w.jsx("div",{className:"text-xs text-gray-500",children:m.email})]},m.uid))})})]})}const Pq=[{Community:["Stories","Authors","Users"]},{Browse:["Novels","Light Novels","Comics","Fanfiction"]}];function wb(){const{user:t}=Pi();return w.jsxs("nav",{className:"fixed top-0 left-0 right-0 h-16 px-4 flex items-center z-50 font-dmSans tracking-wider bg-white shadow-sm",children:[w.jsx("header",{className:"w-full flex gap-8 items-center",children:w.jsx("div",{className:"flex gap-3 items-center",children:w.jsx(Hn,{to:"/",children:w.jsx("span",{className:"text-2xl",children:"InkReads"})})})}),w.jsxs("section",{className:"flex items-center",children:[w.jsx(Mq,{}),w.jsx("div",{className:"flex justify-between mx-2",children:Pq.map((e,n)=>w.jsx(kq,{section:e},n))}),t?w.jsx(Oq,{}):w.jsx(Vq,{})]})]})}function kq({section:t}){const[e]=Object.keys(t),n=Object.values(t)[0];return w.jsxs(Vp,{children:[w.jsx(Lp,{asChild:!0,className:"focus:outline-none text-inherit hover:cursor-pointer",children:w.jsx("div",{className:"hidden lg:block items-center",children:w.jsxs(qn,{variant:"ghost",children:[e,w.jsx(rM,{className:"w-4 h-4 ml-1"})]})})}),w.jsx(jp,{className:"bg-white border-[#e5e7eb] shadow-md",children:w.jsx("div",{className:"flex flex-col",children:n.map((r,s)=>w.jsx(qn,{variant:"link",asChild:!0,className:"px-4 hover:bg-muted",children:w.jsx(Hn,{to:`/genres/${r.toLowerCase().replace(" ","")}`,children:r})},s))})})]})}function Oq(){var a;const{userData:t,setUser:e}=Pi(),n=Qr(),r=async()=>{try{await fC(Ur),e(null),n("/landing")}catch(u){console.error("Error signing out:",u)}},s=[{name:"Profile",href:`/profile/${t==null?void 0:t.username}`},{name:"Settings",href:"/settings"},{name:"Sign out",onClick:r}];return w.jsxs(Vp,{children:[w.jsx(Lp,{asChild:!0,className:"hover:cursor-pointer",children:w.jsx(_b,{children:w.jsx(bb,{children:(a=t==null?void 0:t.username)==null?void 0:a.substring(0,2).toUpperCase()})})}),w.jsxs(jp,{align:"end",className:"bg-white border-[#e5e7eb] shadow-md",children:[w.jsx(oM,{className:"font-bold",children:t==null?void 0:t.username}),w.jsx(aM,{className:"w-full ml-0 bg-gray-300"}),w.jsx("section",{className:"flex flex-col items-start",children:s.map((u,f)=>w.jsx(qn,{variant:"link",onClick:"onClick"in u?u.onClick:void 0,asChild:"href"in u,children:"onClick"in u?u.name:w.jsx(Hn,{to:u.href,children:u.name})},f))})]})]})}function Vq(){return w.jsxs("div",{className:"flex gap-2",children:[w.jsx(qn,{variant:"link",asChild:!0,className:"hidden sm:block",children:w.jsx(Hn,{to:"/login",children:"Login"})}),w.jsx(qn,{variant:"default",asChild:!0,className:"hidden sm:block bg-blue-600 hover:bg-blue-500 text-white",children:w.jsx(Hn,{to:"/signup",children:"Sign Up"})})]})}const wv=768;function Lq(){const[t,e]=x.useState(void 0);return x.useEffect(()=>{const n=window.matchMedia(`(max-width: ${wv-1}px)`),r=()=>{e(window.innerWidth<wv)};return n.addEventListener("change",r),e(window.innerWidth<wv),()=>n.removeEventListener("change",r)},[]),!!t}var jq=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Uq="VisuallyHidden",dM=x.forwardRef((t,e)=>w.jsx(Ut.span,{...t,ref:e,style:{...jq,...t.style}}));dM.displayName=Uq;var Bq=dM,[Up,dY]=Ba("Tooltip",[Np]),Eb=Np(),mM="TooltipProvider",Fq=700,WA="tooltip.open",[zq,pM]=Up(mM),gM=t=>{const{__scopeTooltip:e,delayDuration:n=Fq,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=t,u=x.useRef(!0),f=x.useRef(!1),h=x.useRef(0);return x.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),w.jsx(zq,{scope:e,isOpenDelayedRef:u,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:x.useCallback(m=>{f.current=m},[]),disableHoverableContent:s,children:a})};gM.displayName=mM;var yM="Tooltip",[mY,Bp]=Up(yM),S0="TooltipTrigger",Hq=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Bp(S0,n),a=pM(S0,n),u=Eb(n),f=x.useRef(null),h=Mn(e,f,s.onTriggerChange),m=x.useRef(!1),g=x.useRef(!1),v=x.useCallback(()=>m.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),w.jsx(iN,{asChild:!0,...u,children:w.jsx(Ut.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:h,onPointerMove:$e(t.onPointerMove,_=>{_.pointerType!=="touch"&&!g.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:$e(t.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:$e(t.onPointerDown,()=>{s.open&&s.onClose(),m.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:$e(t.onFocus,()=>{m.current||s.onOpen()}),onBlur:$e(t.onBlur,s.onClose),onClick:$e(t.onClick,s.onClose)})})});Hq.displayName=S0;var qq="TooltipPortal",[pY,Gq]=Up(qq,{forceMount:void 0}),pu="TooltipContent",$q=x.forwardRef((t,e)=>{const n=Gq(pu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=t,u=Bp(pu,t.__scopeTooltip);return w.jsx(Nu,{present:r||u.open,children:u.disableHoverableContent?w.jsx(vM,{side:s,...a,ref:e}):w.jsx(Kq,{side:s,...a,ref:e})})}),Kq=x.forwardRef((t,e)=>{const n=Bp(pu,t.__scopeTooltip),r=pM(pu,t.__scopeTooltip),s=x.useRef(null),a=Mn(e,s),[u,f]=x.useState(null),{trigger:h,onClose:m}=n,g=s.current,{onPointerInTransitChange:v}=r,_=x.useCallback(()=>{f(null),v(!1)},[v]),E=x.useCallback((A,R)=>{const I=A.currentTarget,N={x:A.clientX,y:A.clientY},L=Zq(N,I.getBoundingClientRect()),V=Jq(N,L),$=e7(R.getBoundingClientRect()),q=n7([...V,...$]);f(q),v(!0)},[v]);return x.useEffect(()=>()=>_(),[_]),x.useEffect(()=>{if(h&&g){const A=I=>E(I,g),R=I=>E(I,h);return h.addEventListener("pointerleave",A),g.addEventListener("pointerleave",R),()=>{h.removeEventListener("pointerleave",A),g.removeEventListener("pointerleave",R)}}},[h,g,E,_]),x.useEffect(()=>{if(u){const A=R=>{const I=R.target,N={x:R.clientX,y:R.clientY},L=(h==null?void 0:h.contains(I))||(g==null?void 0:g.contains(I)),V=!t7(N,u);L?_():V&&(_(),m())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[h,g,u,m,_]),w.jsx(vM,{...t,ref:a})}),[Yq,Wq]=Up(yM,{isInside:!1}),Qq=W5("TooltipContent"),vM=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:u,...f}=t,h=Bp(pu,n),m=Eb(n),{onClose:g}=h;return x.useEffect(()=>(document.addEventListener(WA,g),()=>document.removeEventListener(WA,g)),[g]),x.useEffect(()=>{if(h.trigger){const v=_=>{const E=_.target;E!=null&&E.contains(h.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[h.trigger,g]),w.jsx(tb,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:w.jsxs(sN,{"data-state":h.stateAttribute,...m,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(Qq,{children:r}),w.jsx(Yq,{scope:n,isInside:!0,children:w.jsx(Bq,{id:h.contentId,role:"tooltip",children:s||r})})]})})});$q.displayName=pu;var _M="TooltipArrow",Xq=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Eb(n);return Wq(_M,n).isInside?null:w.jsx(oN,{...s,...r,ref:e})});Xq.displayName=_M;function Zq(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Jq(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function e7(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function t7(t,e){const{x:n,y:r}=t;let s=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const f=e[a],h=e[u],m=f.x,g=f.y,v=h.x,_=h.y;g>r!=_>r&&n<(v-m)*(r-g)/(_-g)+m&&(s=!s)}return s}function n7(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),r7(e)}function r7(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const a=e[e.length-1],u=e[e.length-2];if((a.x-u.x)*(s.y-u.y)>=(a.y-u.y)*(s.x-u.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const a=n[n.length-1],u=n[n.length-2];if((a.x-u.x)*(s.y-u.y)>=(a.y-u.y)*(s.x-u.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var i7=gM;function s7({delayDuration:t=0,...e}){return w.jsx(i7,{"data-slot":"tooltip-provider",delayDuration:t,...e})}const o7="sidebar_state",a7=60*60*24*7,l7="16rem",u7="3rem",c7="b",f7=x.createContext(null);function h7({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:a,...u}){const f=Lq(),[h,m]=x.useState(!1),[g,v]=x.useState(t),_=e??g,E=x.useCallback(N=>{const L=typeof N=="function"?N(_):N;n?n(L):v(L),document.cookie=`${o7}=${L}; path=/; max-age=${a7}`},[n,_]),A=x.useCallback(()=>f?m(N=>!N):E(N=>!N),[f,E,m]);x.useEffect(()=>{const N=L=>{L.key===c7&&(L.metaKey||L.ctrlKey)&&(L.preventDefault(),A())};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[A]);const R=_?"expanded":"collapsed",I=x.useMemo(()=>({state:R,open:_,setOpen:E,isMobile:f,openMobile:h,setOpenMobile:m,toggleSidebar:A}),[R,_,E,f,h,m,A]);return w.jsx(f7.Provider,{value:I,children:w.jsx(s7,{delayDuration:0,children:w.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":l7,"--sidebar-width-icon":u7,...s},className:Ns("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...u,children:a})})})}function Ia({children:t}){return w.jsx(h7,{children:w.jsxs("div",{className:"w-full",children:[w.jsx(wb,{}),w.jsx("div",{className:"flex min-h-screen pt-[4rem]",children:w.jsx("main",{className:"flex-1 overflow-y-hidden",children:t})})]})})}function bM({id:t,title:e,authors:n,thumbnail:r,upvotes:s=0,description:a,publishedDate:u,reverse:f=!1}){const h=Qr(),[m,g]=x.useState(!1),v=E=>{if(!E)return"/placeholder-book.png";if(E.includes("googleusercontent.com")){const A=E.match(/id=([^&]+)/);if(A&&A[1])return`https://books.google.com/books/publisher/content/images/frontcover/${A[1]}?fife=w800-h1200&source=gbs_api`}return E},_=()=>{const A=encodeURIComponent(JSON.stringify({id:t,volumeInfo:{title:e,authors:n,imageLinks:{thumbnail:r},upvotes:s,description:a,publishedDate:u}}));h(`/book/${t}?data=${A}`)};return w.jsxs("div",{onClick:_,className:`group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden cursor-pointer transform hover:-translate-y-2 hover:scale-[1.02] h-[280px] flex ${f?"flex-row-reverse":"flex-row"}`,children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),w.jsxs("div",{className:"relative w-[200px] h-full perspective-1000 flex-shrink-0",children:[w.jsxs("div",{className:`absolute top-0 ${f?"-left-2":"-right-2"} bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-4 py-1.5 rounded-full text-sm font-semibold shadow-lg transform group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 flex items-center gap-2 z-10`,children:[w.jsx(sM,{className:"w-4.5 h-4.5"}),w.jsx("span",{className:"font-medium",children:"4.5"})]}),w.jsxs("div",{className:"relative w-full h-full transform-style-3d group-hover:rotate-y-10 transition-transform duration-700",children:[w.jsx("div",{className:`absolute ${f?"-left-4":"-right-4"} top-4 w-full h-full bg-black/20 blur-xl transform ${f?"skew-x-6":"-skew-x-6"} scale-95 opacity-0 group-hover:opacity-70 transition-opacity duration-700`}),w.jsxs("div",{className:"absolute inset-0 preserve-3d",children:[w.jsxs("div",{className:"absolute inset-0 backface-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-indigo-50 rounded-lg shadow-inner"}),w.jsx("img",{src:v(r),alt:e,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ${m?"opacity-100":"opacity-0"} ${f?"rounded-r-2xl":"rounded-l-2xl"}`,style:{imageRendering:"auto",objectFit:"cover",WebkitFontSmoothing:"antialiased"},onLoad:()=>g(!0),onError:E=>{const A=E.target;A.src="/placeholder-book.png"}}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/30 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-700"})]}),w.jsx("div",{className:`absolute ${f?"right-0":"left-0"} top-0 w-4 h-full bg-black/10 transform ${f?"translate-x-4":"-translate-x-4"} rounded-l-sm preserve-3d rotate-y-90`})]})]})]}),w.jsxs("div",{className:"flex-1 p-8 flex flex-col justify-between relative",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-start justify-between gap-4",children:[w.jsx("h2",{className:"font-dmSans text-3xl font-bold leading-tight line-clamp-2 bg-gradient-to-br from-gray-900 to-indigo-900 bg-clip-text text-transparent group-hover:from-indigo-600 group-hover:to-purple-600 transition-all duration-300",children:e}),w.jsx(rq,{className:`flex-shrink-0 w-6 h-6 text-indigo-400 group-hover:text-indigo-600 transform group-hover:translate-x-2 transition-all duration-500 ${f?"rotate-180 group-hover:-translate-x-2":""}`})]}),w.jsx("p",{className:"mt-3 font-medium tracking-wide uppercase text-sm text-indigo-600/90 group-hover:text-indigo-700 transition-colors duration-300",children:n==null?void 0:n.join(" · ")}),a&&w.jsx("p",{className:"mt-4 text-gray-600 text-base leading-relaxed line-clamp-3 font-light group-hover:text-gray-800 transition-colors duration-300",children:a})]}),w.jsxs("div",{className:"flex items-center gap-8 mt-6 pt-4 border-t border-indigo-50",children:[w.jsxs("div",{className:"flex items-center gap-2.5 text-indigo-500 group-hover:text-indigo-600 transition-all duration-300 transform group-hover:scale-105",children:[w.jsx(x0,{className:"w-5 h-5"}),w.jsx("span",{className:"text-sm font-semibold tracking-wide",children:s})]}),u&&w.jsxs("div",{className:"flex items-center gap-2.5 text-indigo-500 group-hover:text-indigo-600 transition-all duration-300 transform group-hover:scale-105",children:[w.jsx(nM,{className:"w-5 h-5"}),w.jsx("span",{className:"text-sm font-semibold tracking-wide",children:new Date(u).getFullYear()})]})]})]})]})}const wM={lightnovels:{title:"Light Novels",query:"light novel",description:"Explore Japanese light novels and their translations",icon:YH},novels:{title:"Novels",query:"novel",description:"Discover traditional novels across all genres",icon:XH},comics:{title:"Comics",query:"comic",description:"Browse comics, graphic novels, and manga",icon:cq},fanfiction:{title:"Fanfiction",query:"fanfiction",description:"Read fan-created stories from your favorite universes",icon:iM}},EM="http://localhost:5001";async function TM(t,e=12){try{const n=await fetch(`${EM}/api/books?q=${encodeURIComponent(t)}&maxResults=${e}`);if(!n.ok)throw new Error("Failed to fetch books");return(await n.json()).items||[]}catch(n){throw console.error("Error searching books:",n),n}}async function d7(t){try{const e=await fetch(`${EM}/api/books?id=${t}`);if(!e.ok)throw new Error("Failed to fetch book");return await e.json()}catch(e){throw console.error("Error fetching book:",e),e}}function m7(){const t=Qr(),[e,n]=x.useState([]),[r,s]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{s(!0);const u=await TM("best sellers 2024",6);n(u)}catch(u){console.error("Error fetching featured books:",u)}finally{s(!1)}})()},[]),w.jsxs(Ia,{children:[w.jsx(wb,{}),w.jsxs("main",{className:"min-h-screen bg-white relative",children:[w.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#8b5cf680,#6366f180)] opacity-[0.07]"}),w.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
              linear-gradient(to right, rgba(99, 102, 241, 0.1) 1px, transparent 1px),
              linear-gradient(to bottom, rgba(99, 102, 241, 0.1) 1px, transparent 1px)
            `,backgroundSize:"4rem 4rem",maskImage:"radial-gradient(circle at center, white 30%, transparent 80%)"}}),w.jsx("div",{className:"relative",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16",children:[w.jsxs("div",{className:"relative py-12",children:[w.jsx("div",{className:"absolute inset-0 overflow-hidden",children:w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-purple-500/5"})}),w.jsxs("div",{className:"text-center relative z-10",children:[w.jsx("h1",{className:"text-4xl font-bold text-indigo-900 sm:text-5xl md:text-6xl bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600",children:"Discover Your Next Adventure"}),w.jsx("p",{className:"mt-4 text-xl text-indigo-600/70 max-w-2xl mx-auto",children:"Explore curated collections of books across various genres, from thrilling mysteries to heartwarming romances."})]})]}),w.jsx(m0,{className:"my-8"}),w.jsxs("section",{className:"py-12",children:[w.jsx("h2",{className:"text-3xl font-bold text-indigo-900 mb-8",children:"Popular Genres"}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Object.entries(wM).map(([a,u])=>w.jsxs("div",{onClick:()=>t(`/genres/${a}`),className:"group relative overflow-hidden rounded-xl cursor-pointer bg-white/50 backdrop-blur-sm border border-indigo-100/20",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/90 to-purple-600/90 opacity-90 group-hover:opacity-100 transition-all duration-300"}),w.jsxs("div",{className:"relative p-6 flex flex-col items-center justify-center min-h-[160px] text-center",children:[w.jsx(u.icon,{className:"w-8 h-8 text-white mb-3 group-hover:scale-110 transition-transform duration-300"}),w.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:u.title}),w.jsx("p",{className:"text-sm text-white/80 line-clamp-2",children:u.description})]})]},a))})]}),w.jsxs("section",{className:"py-12",children:[w.jsx("h2",{className:"text-3xl font-bold text-indigo-900 mb-8",children:"Featured Books"}),r?w.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]",children:[w.jsx(T0,{className:"h-10 w-10 animate-spin text-indigo-500"}),w.jsx("p",{className:"mt-4 text-lg text-indigo-600/70",children:"Loading featured books..."})]}):e.length===0?w.jsx("div",{className:"text-center py-16",children:w.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-sm max-w-md mx-auto border border-indigo-50",children:[w.jsx(tM,{className:"h-12 w-12 mx-auto text-indigo-300 mb-4"}),w.jsx("h3",{className:"text-xl font-semibold text-indigo-900 mb-2",children:"No books found"}),w.jsx("p",{className:"text-indigo-600/70",children:"We couldn't find any featured books at the moment. Please try again later."})]})}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(a=>{var u;return w.jsx("div",{className:"transform hover:-translate-y-1 transition-all duration-200",children:w.jsx(bM,{id:a.id,title:a.volumeInfo.title,authors:a.volumeInfo.authors||[],thumbnail:((u=a.volumeInfo.imageLinks)==null?void 0:u.thumbnail)||"/placeholder-book.png",description:a.volumeInfo.description,publishedDate:a.volumeInfo.publishedDate})},a.id)})})]})]})})]})]})}const p7="/assets/bg-image-Cd6LBIcE.jpg",g7="/assets/hero-image-CMBX9m_H.png",y7=[{Community:["Stories","Authors","Users"]},{Browse:["Novels","Light Novels","Comics","Fanfiction"]}];function v7(){const{user:t}=Pi();return w.jsxs("nav",{className:"fixed top-0 left-0 right-0 h-16 px-4 flex items-center z-50 font-dmSans text-white tracking-wider",children:[w.jsx("header",{className:"w-full flex gap-8 items-center",children:w.jsx("div",{className:"flex items-center",children:w.jsx(Hn,{to:"/",children:w.jsx("span",{className:"text-2xl",children:"InkReads"})})})}),w.jsxs("section",{className:"flex items-center",children:[w.jsx("div",{className:"flex justify-between mx-2",children:y7.map((e,n)=>w.jsx(_7,{section:e},n))}),t?w.jsx(b7,{}):w.jsx(w7,{})]})]})}function _7({section:t}){const[e]=Object.keys(t),n=Object.values(t)[0];return w.jsxs(Vp,{children:[w.jsx(Lp,{asChild:!0,className:"focus:outline-none text-inherit hover:cursor-pointer",children:w.jsx("div",{className:"hidden lg:block items-center",children:w.jsxs(qn,{variant:"ghost",children:[e,w.jsx(rM,{className:"w-4 h-4 ml-1"})]})})}),w.jsx(jp,{className:"bg-[#f3f4f6] border-[#e5e7eb] shadow-md",children:w.jsx("div",{className:"flex flex-col",children:n.map((r,s)=>w.jsx(qn,{variant:"link",asChild:!0,className:"px-4 hover:bg-muted",children:w.jsx(Hn,{to:`/genres/${r.toLowerCase().replace(" ","")}`,children:r})},s))})})]})}function b7(){var a;const{userData:t,setUser:e}=Pi(),n=Qr(),r=async()=>{try{await fC(Ur),e(null),n("/landing")}catch(u){console.error("Error signing out:",u)}},s=[{name:"Profile",href:`/profile/${t==null?void 0:t.username}`},{name:"Settings",href:"/settings"},{name:"Sign out",onClick:r}];return w.jsxs(Vp,{children:[w.jsx(Lp,{asChild:!0,className:"hover:cursor-pointer",children:w.jsx(_b,{children:w.jsx(bb,{children:(a=t==null?void 0:t.username)==null?void 0:a.substring(0,2).toUpperCase()})})}),w.jsxs(jp,{align:"end",className:"bg-[#f3f4f6] border-[#e5e7eb] shadow-md",children:[w.jsx(oM,{className:"font-bold",children:t==null?void 0:t.username}),w.jsx(aM,{className:"w-full ml-0 bg-gray-300"}),w.jsx("section",{className:"flex flex-col items-start",children:s.map((u,f)=>w.jsx(qn,{variant:"link",onClick:"onClick"in u?u.onClick:void 0,asChild:"href"in u,children:"onClick"in u?u.name:w.jsx(Hn,{to:u.href,children:u.name})},f))})]})]})}function w7(){return w.jsxs("div",{className:"flex gap-2",children:[w.jsx(qn,{variant:"link",asChild:!0,className:"hidden sm:block",children:w.jsx(Hn,{to:"/login",children:"Login"})}),w.jsx(qn,{variant:"default",asChild:!0,className:"hidden sm:block bg-blue-600 hover:bg-blue-500 text-white",children:w.jsx(Hn,{to:"/signup",children:"Sign Up"})})]})}function E7(){return w.jsx("main",{className:"flex flex-col",children:w.jsxs("section",{className:"font-dmSans relative flex w-full justify-center items-center h-screen",children:[w.jsx(v7,{}),w.jsx("img",{src:p7,alt:"bg-image",className:"absolute top-0 -z-10 brightness-[0.5] h-full w-full"}),w.jsxs("div",{className:"max-w-5xl flex justify-evenly items-center gap-40",children:[w.jsxs("div",{className:"flex flex-col gap-4 tracking-tight text-white text-start",children:[w.jsxs("span",{className:"font-semibold text-5xl md:text-6xl",children:["WELCOME TO",w.jsx("br",{}),w.jsx("span",{className:"font-medium",children:"InkReads."})]}),w.jsx("span",{className:"text-3xl",children:"Read, storytell, and review."}),w.jsx("p",{className:"text-xl hidden lg:inline-block text-gray-300",children:"Create reading lists and explore new titles to your mind's content."}),w.jsx(qn,{variant:"default",size:"lg",className:"text-xl h-12 text-black bg-white hover:bg-[#dcdcdc]",children:w.jsx(Hn,{to:"/signup",children:"Get started"})})]}),w.jsx("img",{src:g7,alt:"hero-image",width:400,className:"rounded-xl object-cover hidden lg:inline-block"})]})]})})}function T7(){const{username:t}=$0(),[e,n]=x.useState(null),[r,s]=x.useState(!0);x.useEffect(()=>{(async()=>{if(t)try{const f=Jl(Bn,"users"),h=Tf(f,Om("username","==",t)),m=await xf(h);if(!m.empty){const g=m.docs[0].data();n({...g,uid:m.docs[0].id,followers:g.followers||[],following:g.following||[]})}}catch(f){console.error("Error:",f)}finally{s(!1)}})()},[t]);const a=async()=>{const u=Ur.currentUser;if(!(!u||!e))try{const f=yi(Bn,"users",e.uid),h=yi(Bn,"users",u.uid);e.followers.includes(u.uid)?(await ms(f,{followers:zl(u.uid)}),await ms(h,{following:zl(e.uid)}),n(g=>g?{...g,followers:g.followers.filter(v=>v!==u.uid)}:null)):(await ms(f,{followers:Lm(u.uid)}),await ms(h,{following:Lm(e.uid)}),n(g=>g?{...g,followers:[...g.followers,u.uid]}:null))}catch(f){console.error("Toggle follow error:",f)}};return w.jsxs(Ia,{children:[w.jsx(wb,{}),w.jsx("main",{className:"flex flex-col ",children:r?w.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:"Loading..."}):e?w.jsx("div",{className:"container mx-auto px-4 py-8",children:w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx(_b,{className:"w-24 h-24",children:w.jsx(bb,{className:"text-4xl bg-black text-white",children:e.username.substring(0,2).toUpperCase()})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h1",{className:"text-2xl font-bold",children:e.username}),w.jsxs("div",{className:"flex gap-8 mt-4",children:[w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("span",{className:"text-xl font-bold",children:e.followers.length}),w.jsx("span",{className:"text-sm text-gray-600",children:"followers"})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("span",{className:"text-xl font-bold",children:e.following.length}),w.jsx("span",{className:"text-sm text-gray-600",children:"following"})]})]}),Ur.currentUser&&Ur.currentUser.uid!==e.uid&&w.jsx(qn,{onClick:a,variant:e.followers.includes(Ur.currentUser.uid)?"outline":"default",className:"mt-4 w-28",children:e.followers.includes(Ur.currentUser.uid)?"Following":"Follow"})]})]})}):w.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:"User not found"})})]})}const xM=x.createContext({});function x7(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const Tb=typeof window<"u",S7=Tb?x.useLayoutEffect:x.useEffect,xb=x.createContext(null),SM=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function A7(t=!0){const e=x.useContext(xb);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=x.useId();x.useEffect(()=>{if(t)return s(a)},[t]);const u=x.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,u]:[!0]}function Sb(t,e){t.indexOf(e)===-1&&t.push(e)}function Ab(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Cs=(t,e,n)=>n>e?e:n<t?t:n;let Rb=()=>{};const Is={},AM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),RM=t=>/^0[^.\s]+$/u.test(t);function Cb(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cr=t=>t,R7=(t,e)=>n=>e(t(n)),sh=(...t)=>t.reduce(R7),Df=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Ib{constructor(){this.subscriptions=[]}add(e){return Sb(this.subscriptions,e),()=>Ab(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ti=t=>t*1e3,xi=t=>t/1e3;function CM(t,e){return e?t*(1e3/e):0}const IM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C7=1e-7,I7=12;function D7(t,e,n,r,s){let a,u,f=0;do u=e+(n-e)/2,a=IM(u,r,s)-t,a>0?n=u:e=u;while(Math.abs(a)>C7&&++f<I7);return u}function oh(t,e,n,r){if(t===e&&n===r)return Cr;const s=a=>D7(a,0,1,t,n);return a=>a===0||a===1?a:IM(s(a),e,r)}const DM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,NM=t=>e=>1-t(1-e),MM=oh(.33,1.53,.69,.99),Db=NM(MM),PM=DM(Db),kM=t=>(t*=2)<1?.5*Db(t):.5*(2-Math.pow(2,-10*(t-1))),Nb=t=>1-Math.sin(Math.acos(t)),OM=NM(Nb),VM=DM(Nb),N7=oh(.42,0,1,1),M7=oh(0,0,.58,1),LM=oh(.42,0,.58,1),P7=t=>Array.isArray(t)&&typeof t[0]!="number",jM=t=>Array.isArray(t)&&typeof t[0]=="number",k7={linear:Cr,easeIn:N7,easeInOut:LM,easeOut:M7,circIn:Nb,circInOut:VM,circOut:OM,backIn:Db,backInOut:PM,backOut:MM,anticipate:kM},O7=t=>typeof t=="string",QA=t=>{if(jM(t)){Rb(t.length===4);const[e,n,r,s]=t;return oh(e,n,r,s)}else if(O7(t))return k7[t];return t},Gd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],XA={value:null};function V7(t,e){let n=new Set,r=new Set,s=!1,a=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},h=0;function m(v){u.has(v)&&(g.schedule(v),t()),h++,v(f)}const g={schedule:(v,_=!1,E=!1)=>{const R=E&&s?n:r;return _&&u.add(v),R.has(v)||R.add(v),v},cancel:v=>{r.delete(v),u.delete(v)},process:v=>{if(f=v,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(m),e&&XA.value&&XA.value.frameloop[e].push(h),h=0,n.clear(),s=!1,a&&(a=!1,g.process(v))}};return g}const L7=40;function UM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=Gd.reduce((V,$)=>(V[$]=V7(a,e?$:void 0),V),{}),{setup:f,read:h,resolveKeyframes:m,preUpdate:g,update:v,preRender:_,render:E,postRender:A}=u,R=()=>{const V=Is.useManualTiming?s.timestamp:performance.now();n=!1,Is.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(V-s.timestamp,L7),1)),s.timestamp=V,s.isProcessing=!0,f.process(s),h.process(s),m.process(s),g.process(s),v.process(s),_.process(s),E.process(s),A.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(R))},I=()=>{n=!0,r=!0,s.isProcessing||t(R)};return{schedule:Gd.reduce((V,$)=>{const q=u[$];return V[$]=(se,k=!1,C=!1)=>(n||I(),q.schedule(se,k,C)),V},{}),cancel:V=>{for(let $=0;$<Gd.length;$++)u[Gd[$]].cancel(V)},state:s,steps:u}}const{schedule:bt,cancel:Mo,state:_n,steps:Ev}=UM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cr,!0);let fm;function j7(){fm=void 0}const Xn={now:()=>(fm===void 0&&Xn.set(_n.isProcessing||Is.useManualTiming?_n.timestamp:performance.now()),fm),set:t=>{fm=t,queueMicrotask(j7)}},BM=t=>e=>typeof e=="string"&&e.startsWith(t),Mb=BM("--"),U7=BM("var(--"),Pb=t=>U7(t)?B7.test(t.split("/*")[0].trim()):!1,B7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Nf={...Mu,transform:t=>Cs(0,1,t)},$d={...Mu,default:1},uf=t=>Math.round(t*1e5)/1e5,kb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F7(t){return t==null}const z7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ob=(t,e)=>n=>!!(typeof n=="string"&&z7.test(n)&&n.startsWith(t)||e&&!F7(n)&&Object.prototype.hasOwnProperty.call(n,e)),FM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,u,f]=r.match(kb);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},H7=t=>Cs(0,255,t),Tv={...Mu,transform:t=>Math.round(H7(t))},Ra={test:Ob("rgb","red"),parse:FM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Tv.transform(t)+", "+Tv.transform(e)+", "+Tv.transform(n)+", "+uf(Nf.transform(r))+")"};function q7(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const A0={test:Ob("#"),parse:q7,transform:Ra.transform},ah=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fo=ah("deg"),Si=ah("%"),je=ah("px"),G7=ah("vh"),$7=ah("vw"),ZA={...Si,parse:t=>Si.parse(t)/100,transform:t=>Si.transform(t*100)},Hl={test:Ob("hsl","hue"),parse:FM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Si.transform(uf(e))+", "+Si.transform(uf(n))+", "+uf(Nf.transform(r))+")"},Rn={test:t=>Ra.test(t)||A0.test(t)||Hl.test(t),parse:t=>Ra.test(t)?Ra.parse(t):Hl.test(t)?Hl.parse(t):A0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ra.transform(t):Hl.transform(t)},K7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Y7(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(kb))==null?void 0:e.length)||0)+(((n=t.match(K7))==null?void 0:n.length)||0)>0}const zM="number",HM="color",W7="var",Q7="var(",JA="${}",X7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const f=e.replace(X7,h=>(Rn.test(h)?(r.color.push(a),s.push(HM),n.push(Rn.parse(h))):h.startsWith(Q7)?(r.var.push(a),s.push(W7),n.push(h)):(r.number.push(a),s.push(zM),n.push(parseFloat(h))),++a,JA)).split(JA);return{values:n,split:f,indexes:r,types:s}}function qM(t){return Mf(t).values}function GM(t){const{split:e,types:n}=Mf(t),r=e.length;return s=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],s[u]!==void 0){const f=n[u];f===zM?a+=uf(s[u]):f===HM?a+=Rn.transform(s[u]):a+=s[u]}return a}}const Z7=t=>typeof t=="number"?0:t;function J7(t){const e=qM(t);return GM(t)(e.map(Z7))}const Po={test:Y7,parse:qM,createTransformer:GM,getAnimatableNone:J7};function xv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function e8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,u=0;if(!e)s=a=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,h=2*n-f;s=xv(h,f,t+1/3),a=xv(h,f,t),u=xv(h,f,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function Km(t,e){return n=>n>0?e:t}const At=(t,e,n)=>t+(e-t)*n,Sv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},t8=[A0,Ra,Hl],n8=t=>t8.find(e=>e.test(t));function eR(t){const e=n8(t);if(!e)return!1;let n=e.parse(t);return e===Hl&&(n=e8(n)),n}const tR=(t,e)=>{const n=eR(t),r=eR(e);if(!n||!r)return Km(t,e);const s={...n};return a=>(s.red=Sv(n.red,r.red,a),s.green=Sv(n.green,r.green,a),s.blue=Sv(n.blue,r.blue,a),s.alpha=At(n.alpha,r.alpha,a),Ra.transform(s))},R0=new Set(["none","hidden"]);function r8(t,e){return R0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function i8(t,e){return n=>At(t,e,n)}function Vb(t){return typeof t=="number"?i8:typeof t=="string"?Pb(t)?Km:Rn.test(t)?tR:a8:Array.isArray(t)?$M:typeof t=="object"?Rn.test(t)?tR:s8:Km}function $M(t,e){const n=[...t],r=n.length,s=t.map((a,u)=>Vb(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)n[u]=s[u](a);return n}}function s8(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Vb(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function o8(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],u=t.indexes[a][r[a]],f=t.values[u]??0;n[s]=f,r[a]++}return n}const a8=(t,e)=>{const n=Po.createTransformer(e),r=Mf(t),s=Mf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?R0.has(t)&&!s.values.length||R0.has(e)&&!r.values.length?r8(t,e):sh($M(o8(r,s),s.values),n):Km(t,e)};function KM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?At(t,e,n):Vb(t)(t,e)}const l8=t=>{const e=({timestamp:n})=>t(n);return{start:()=>bt.update(e,!0),stop:()=>Mo(e),now:()=>_n.isProcessing?_n.timestamp:Xn.now()}},YM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(a/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Ym=2e4;function Lb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ym;)e+=n,r=t.next(e);return e>=Ym?1/0:e}function u8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Lb(r),Ym);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:xi(s)}}const c8=5;function WM(t,e,n){const r=Math.max(e-c8,0);return CM(n-t(r),e-r)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nR=.001;function f8({duration:t=Nt.duration,bounce:e=Nt.bounce,velocity:n=Nt.velocity,mass:r=Nt.mass}){let s,a,u=1-e;u=Cs(Nt.minDamping,Nt.maxDamping,u),t=Cs(Nt.minDuration,Nt.maxDuration,xi(t)),u<1?(s=m=>{const g=m*u,v=g*t,_=g-n,E=C0(m,u),A=Math.exp(-v);return nR-_/E*A},a=m=>{const v=m*u*t,_=v*n+n,E=Math.pow(u,2)*Math.pow(m,2)*t,A=Math.exp(-v),R=C0(Math.pow(m,2),u);return(-s(m)+nR>0?-1:1)*((_-E)*A)/R}):(s=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-.001+g*v},a=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const f=5/t,h=d8(s,a,f);if(t=Ti(t),isNaN(h))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:t};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:t}}}const h8=12;function d8(t,e,n){let r=n;for(let s=1;s<h8;s++)r=r-t(r)/e(r);return r}function C0(t,e){return t*Math.sqrt(1-e*e)}const m8=["duration","bounce"],p8=["stiffness","damping","mass"];function rR(t,e){return e.some(n=>t[n]!==void 0)}function g8(t){let e={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...t};if(!rR(t,p8)&&rR(t,m8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Cs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Nt.mass,stiffness:s,damping:a}}else{const n=f8(t);e={...e,...n,mass:Nt.mass},e.isResolvedFromDuration=!0}return e}function Wm(t=Nt.visualDuration,e=Nt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:a},{stiffness:h,damping:m,mass:g,duration:v,velocity:_,isResolvedFromDuration:E}=g8({...n,velocity:-xi(n.velocity||0)}),A=_||0,R=m/(2*Math.sqrt(h*g)),I=u-a,N=xi(Math.sqrt(h/g)),L=Math.abs(I)<5;r||(r=L?Nt.restSpeed.granular:Nt.restSpeed.default),s||(s=L?Nt.restDelta.granular:Nt.restDelta.default);let V;if(R<1){const q=C0(N,R);V=se=>{const k=Math.exp(-R*N*se);return u-k*((A+R*N*I)/q*Math.sin(q*se)+I*Math.cos(q*se))}}else if(R===1)V=q=>u-Math.exp(-N*q)*(I+(A+N*I)*q);else{const q=N*Math.sqrt(R*R-1);V=se=>{const k=Math.exp(-R*N*se),C=Math.min(q*se,300);return u-k*((A+R*N*I)*Math.sinh(C)+q*I*Math.cosh(C))/q}}const $={calculatedDuration:E&&v||null,next:q=>{const se=V(q);if(E)f.done=q>=v;else{let k=q===0?A:0;R<1&&(k=q===0?Ti(A):WM(V,q,se));const C=Math.abs(k)<=r,P=Math.abs(u-se)<=s;f.done=C&&P}return f.value=f.done?u:se,f},toString:()=>{const q=Math.min(Lb($),Ym),se=YM(k=>$.next(q*k).value,q,30);return q+"ms "+se},toTransition:()=>{}};return $}Wm.applyToOptions=t=>{const e=u8(t,100,Wm);return t.ease=e.ease,t.duration=Ti(e.duration),t.type="keyframes",t};function I0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:f,max:h,restDelta:m=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},E=C=>f!==void 0&&C<f||h!==void 0&&C>h,A=C=>f===void 0?h:h===void 0||Math.abs(f-C)<Math.abs(h-C)?f:h;let R=n*e;const I=v+R,N=u===void 0?I:u(I);N!==I&&(R=N-v);const L=C=>-R*Math.exp(-C/r),V=C=>N+L(C),$=C=>{const P=L(C),j=V(C);_.done=Math.abs(P)<=m,_.value=_.done?N:j};let q,se;const k=C=>{E(_.value)&&(q=C,se=Wm({keyframes:[_.value,A(_.value)],velocity:WM(V,C,_.value),damping:s,stiffness:a,restDelta:m,restSpeed:g}))};return k(0),{calculatedDuration:null,next:C=>{let P=!1;return!se&&q===void 0&&(P=!0,$(C),k(C)),q!==void 0&&C>=q?se.next(C-q):(!P&&$(C),_)}}}function y8(t,e,n){const r=[],s=n||Is.mix||KM,a=t.length-1;for(let u=0;u<a;u++){let f=s(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||Cr:e;f=sh(h,f)}r.push(f)}return r}function v8(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Rb(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=y8(e,r,s),h=f.length,m=g=>{if(u&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=Df(t[v],t[v+1],g);return f[v](_)};return n?g=>m(Cs(t[0],t[a-1],g)):m}function _8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Df(0,e,r);t.push(At(n,1,s))}}function b8(t){const e=[0];return _8(e,t.length-1),e}function w8(t,e){return t.map(n=>n*e)}function E8(t,e){return t.map(()=>e||LM).splice(0,t.length-1)}function cf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=P7(r)?r.map(QA):QA(r),a={done:!1,value:e[0]},u=w8(n&&n.length===e.length?n:b8(e),t),f=v8(u,e,{ease:Array.isArray(s)?s:E8(e,s)});return{calculatedDuration:t,next:h=>(a.value=f(h),a.done=h>=t,a)}}const T8=t=>t!==null;function jb(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(T8),f=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!f||r===void 0?a[f]:r}const x8={decay:I0,inertia:I0,tween:cf,keyframes:cf,spring:Wm};function QM(t){typeof t.type=="string"&&(t.type=x8[t.type])}class Ub{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const S8=t=>t/100;class XM extends Ub{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==Xn.now()&&this.tick(Xn.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;QM(e);const{type:n=cf,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:u=0}=e;let{keyframes:f}=e;const h=n||cf;h!==cf&&typeof f[0]!="number"&&(this.mixKeyframes=sh(S8,KM(f[0],f[1])),f=[0,100]);const m=h({...e,keyframes:f});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...f].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Lb(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:E,type:A,onUpdate:R,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-m*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let V=this.currentTime,$=r;if(v){const C=Math.min(this.currentTime,s)/f;let P=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(_==="reverse"?(j=1-j,E&&(j-=E/f)):_==="mirror"&&($=u)),V=Cs(0,1,j)*f}const q=L?{done:!1,value:g[0]}:$.next(V);a&&(q.value=a(q.value));let{done:se}=q;!L&&h!==null&&(se=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return k&&A!==I0&&(q.value=jb(g,this.options,I,this.speed)),R&&R(q.value),k&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return xi(this.calculatedDuration)}get time(){return xi(this.currentTime)}set time(e){e=Ti(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=l8,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.state==="finished"?(this.updateFinished(),this.startTime=s):this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function A8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ca=t=>t*180/Math.PI,D0=t=>{const e=Ca(Math.atan2(t[1],t[0]));return N0(e)},R8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:D0,rotateZ:D0,skewX:t=>Ca(Math.atan(t[1])),skewY:t=>Ca(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},N0=t=>(t=t%360,t<0&&(t+=360),t),iR=D0,sR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),oR=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),C8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sR,scaleY:oR,scale:t=>(sR(t)+oR(t))/2,rotateX:t=>N0(Ca(Math.atan2(t[6],t[5]))),rotateY:t=>N0(Ca(Math.atan2(-t[2],t[0]))),rotateZ:iR,rotate:iR,skewX:t=>Ca(Math.atan(t[4])),skewY:t=>Ca(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function aR(t){return t.includes("scale")?1:0}function M0(t,e){if(!t||t==="none")return aR(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=C8,s=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=R8,s=f}if(!s)return aR(e);const a=r[e],u=s[1].split(",").map(D8);return typeof a=="function"?a(u):u[a]}const I8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return M0(n,e)};function D8(t){return parseFloat(t.trim())}const Pu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ha=new Set(Pu),lR=t=>t===Mu||t===je,N8=new Set(["x","y","z"]),M8=Pu.filter(t=>!N8.has(t));function P8(t){const e=[];return M8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const gu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>M0(e,"x"),y:(t,{transform:e})=>M0(e,"y")};gu.translateX=gu.x;gu.translateY=gu.y;const Da=new Set;let P0=!1,k0=!1,O0=!1;function ZM(){if(k0){const t=Array.from(Da).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=P8(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,u])=>{var f;(f=r.getValue(a))==null||f.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}k0=!1,P0=!1,Da.forEach(t=>t.complete(O0)),Da.clear()}function JM(){Da.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(k0=!0)})}function k8(){O0=!0,JM(),ZM(),O0=!1}class Bb{constructor(e,n,r,s,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Da.add(this),P0||(P0=!0,bt.read(JM),bt.resolveKeyframes(ZM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const f=r.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),s&&a===void 0&&s.set(e[0])}A8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Da.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Da.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const O8=t=>t.startsWith("--");function V8(t,e,n){O8(e)?t.style.setProperty(e,n):t.style[e]=n}const L8=Cb(()=>window.ScrollTimeline!==void 0),j8={};function U8(t,e){const n=Cb(t);return()=>j8[e]??n()}const eP=U8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ef=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,uR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ef([0,.65,.55,1]),circOut:ef([.55,0,1,.45]),backIn:ef([.31,.01,.66,-.59]),backOut:ef([.33,1.53,.69,.99])};function tP(t,e){if(t)return typeof t=="function"?eP()?YM(t,e):"ease-out":jM(t)?ef(t):Array.isArray(t)?t.map(n=>tP(n,e)||uR.easeOut):uR[t]}function B8(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:u="loop",ease:f="easeOut",times:h}={},m=void 0){const g={[e]:n};h&&(g.offset=h);const v=tP(f,s);Array.isArray(v)&&(g.easing=v);const _={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return m&&(_.pseudoElement=m),t.animate(g,_)}function nP(t){return typeof t=="function"&&"applyToOptions"in t}function F8({type:t,...e}){return nP(t)&&eP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class z8 extends Ub{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Rb(typeof e.type!="string");const h=F8(e);this.animation=B8(n,r,s,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=jb(s,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(m):V8(n,r,m),this.animation.cancel()}this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return xi(Number(e))}get time(){return xi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ti(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&L8()?(this.animation.timeline=e,Cr):n(this)}}const rP={anticipate:kM,backInOut:PM,circInOut:VM};function H8(t){return t in rP}function q8(t){typeof t.ease=="string"&&H8(t.ease)&&(t.ease=rP[t.ease])}const cR=10;class G8 extends z8{constructor(e){q8(e),QM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new XM({...u,autoplay:!1}),h=Ti(this.finishedTime??this.time);n.setWithVelocity(f.sample(h-cR).value,f.sample(h).value,cR),f.stop()}}const fR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Po.test(t)||t==="0")&&!t.startsWith("url("));function $8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function K8(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=fR(s,e),f=fR(a,e);return!u||!f?!1:$8(t)||(n==="spring"||nP(n))&&r}const Y8=new Set(["opacity","clipPath","filter","transform"]),W8=Cb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Q8(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:u}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=e.owner.getProps();return W8()&&n&&Y8.has(n)&&(n!=="transform"||!h)&&!f&&!r&&s!=="mirror"&&a!==0&&u!=="inertia"}const X8=40;class Z8 extends Ub{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",keyframes:f,name:h,motionValue:m,element:g,...v}){var A;super(),this.stop=()=>{var R,I;this._animation?(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)):(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=Xn.now();const _={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:u,name:h,motionValue:m,element:g,...v},E=(g==null?void 0:g.KeyframeResolver)||Bb;this.keyframeResolver=new E(f,(R,I,N)=>this.onKeyframesResolved(R,I,_,!N),h,m,g),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:u,velocity:f,delay:h,isHandoff:m,onUpdate:g,onComplete:v}=r;this.resolvedAt=Xn.now(),K8(e,a,u,f)||((Is.instantAnimations||!h)&&(g==null||g(jb(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const E={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>X8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!m&&Q8(E)?new G8({...E,element:E.motionValue.owner.current}):new XM(E);A.finished.then(()=>{v==null||v(),this.notifyFinished()}).catch(Cr),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||k8(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const J8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eG(t){const e=J8.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function iP(t,e,n=1){const[r,s]=eG(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return AM(u)?parseFloat(u):u}return Pb(s)?iP(s,e,n+1):s}function Fb(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const sP=new Set(["width","height","top","left","right","bottom",...Pu]),tG={test:t=>t==="auto",parse:t=>t},oP=t=>e=>e.test(t),aP=[Mu,je,Si,fo,$7,G7,tG],hR=t=>aP.find(oP(t));function nG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RM(t):!0}const rG=new Set(["brightness","contrast","saturate","opacity"]);function iG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(kb)||[];if(!r)return t;const s=n.replace(r,"");let a=rG.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const sG=/\b([a-z-]*)\(.*?\)/gu,V0={...Po,getAnimatableNone:t=>{const e=t.match(sG);return e?e.map(iG).join(" "):t}},dR={...Mu,transform:Math.round},oG={rotate:fo,rotateX:fo,rotateY:fo,rotateZ:fo,scale:$d,scaleX:$d,scaleY:$d,scaleZ:$d,skew:fo,skewX:fo,skewY:fo,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:Nf,originX:ZA,originY:ZA,originZ:je},zb={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...oG,zIndex:dR,fillOpacity:Nf,strokeOpacity:Nf,numOctaves:dR},aG={...zb,color:Rn,backgroundColor:Rn,outlineColor:Rn,fill:Rn,stroke:Rn,borderColor:Rn,borderTopColor:Rn,borderRightColor:Rn,borderBottomColor:Rn,borderLeftColor:Rn,filter:V0,WebkitFilter:V0},lP=t=>aG[t];function uP(t,e){let n=lP(t);return n!==V0&&(n=Po),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lG=new Set(["auto","none","0"]);function uG(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!lG.has(a)&&Mf(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=uP(n,s)}class cG extends Bb{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),Pb(m))){const g=iP(m,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!sP.has(r)||e.length!==2)return;const[s,a]=e,u=hR(s),f=hR(a);if(u!==f)if(lR(u)&&lR(f))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||nG(e[s]))&&r.push(s);r.length&&uG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=gu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const{schedule:Hb}=UM(queueMicrotask,!1),jr={x:!1,y:!1};function cP(){return jr.x||jr.y}function fG(t){return t==="x"||t==="y"?jr[t]?null:(jr[t]=!0,()=>{jr[t]=!1}):jr.x||jr.y?null:(jr.x=jr.y=!0,()=>{jr.x=jr.y=!1})}function hG(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function fP(t,e){const n=hG(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function mR(t){return!(t.pointerType==="touch"||cP())}function dG(t,e,n={}){const[r,s,a]=fP(t,n),u=f=>{if(!mR(f))return;const{target:h}=f,m=e(h,f);if(typeof m!="function"||!h)return;const g=v=>{mR(v)&&(m(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return r.forEach(f=>{f.addEventListener("pointerenter",u,s)}),a}const hP=(t,e)=>e?t===e?!0:hP(t,e.parentElement):!1,qb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pG(t){return mG.has(t.tagName)||t.tabIndex!==-1}const tf=new WeakSet;function pR(t){return e=>{e.key==="Enter"&&t(e)}}function Av(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=pR(()=>{if(tf.has(n))return;Av(n,"down");const s=pR(()=>{Av(n,"up")}),a=()=>Av(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function gR(t){return qb(t)&&!cP()}function yG(t,e,n={}){const[r,s,a]=fP(t,n),u=f=>{const h=f.currentTarget;if(!gR(f)||tf.has(h))return;tf.add(h);const m=e(h,f),g=(E,A)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),!(!gR(E)||!tf.has(h))&&(tf.delete(h),typeof m=="function"&&m(E,{success:A}))},v=E=>{g(E,h===window||h===document||n.useGlobalTarget||hP(h,E.target))},_=E=>{g(E,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",_,s)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,s),f instanceof HTMLElement&&(f.addEventListener("focus",m=>gG(m,s)),!pG(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),a}const yR=30,vG=t=>!isNaN(parseFloat(t));class _G{constructor(e,n={}){this.version="12.8.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Xn.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ib);const r=this.events[e].add(n);return e==="change"?()=>{r(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){e==="none"&&console.trace(),!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yR);return CM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pf(t,e){return new _G(t,e)}const bG=[...aP,Rn,Po],wG=t=>bG.find(oP(t)),dP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mP=x.createContext({strict:!1}),vR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yu={};for(const t in vR)yu[t]={isEnabled:e=>vR[t].some(n=>!!e[n])};function EG(t){for(const e in t)yu[e]={...yu[e],...t[e]}}const TG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||TG.has(t)}let pP=t=>!Qm(t);function xG(t){t&&(pP=e=>e.startsWith("on")?!Qm(e):t(e))}try{xG(require("@emotion/is-prop-valid").default)}catch{}function SG(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(pP(s)||n===!0&&Qm(s)||!e&&!Qm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function AG(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Fp=x.createContext({});function zp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kf(t){return typeof t=="string"||Array.isArray(t)}const Gb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$b=["initial",...Gb];function Hp(t){return zp(t.animate)||$b.some(e=>kf(t[e]))}function gP(t){return!!(Hp(t)||t.variants)}function RG(t,e){if(Hp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||kf(n)?n:void 0,animate:kf(r)?r:void 0}}return t.inherit!==!1?e:{}}function CG(t){const{initial:e,animate:n}=RG(t,x.useContext(Fp));return x.useMemo(()=>({initial:e,animate:n}),[_R(e),_R(n)])}function _R(t){return Array.isArray(t)?t.join(" "):t}const IG=Symbol.for("motionComponentSymbol");function ql(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function DG(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ql(n)&&(n.current=r))},[e])}const Kb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NG="framerAppearId",yP="data-"+Kb(NG),vP=x.createContext({});function MG(t,e,n,r,s){var R,I;const{visualElement:a}=x.useContext(Fp),u=x.useContext(mP),f=x.useContext(xb),h=x.useContext(SM).reducedMotion,m=x.useRef(null);r=r||u.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:a,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,v=x.useContext(vP);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&PG(m.current,n,s,v);const _=x.useRef(!1);x.useInsertionEffect(()=>{g&&_.current&&g.update(n,f)});const E=n[yP],A=x.useRef(!!E&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,E))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,E)));return S7(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Hb.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,E)}),A.current=!1))}),g}function PG(t,e,n,r){const{layoutId:s,layout:a,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_P(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!u||f&&ql(f),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:m})}function _P(t){if(t)return t.options.allowProjection!==!1?t.projection:_P(t.parent)}function kG({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&EG(t);function a(f,h){let m;const g={...x.useContext(SM),...f,layoutId:OG(f)},{isStatic:v}=g,_=CG(f),E=r(f,v);if(!v&&Tb){VG();const A=LG(g);m=A.MeasureLayout,_.visualElement=MG(s,E,g,e,A.ProjectionNode)}return w.jsxs(Fp.Provider,{value:_,children:[m&&_.visualElement?w.jsx(m,{visualElement:_.visualElement,...g}):null,n(s,f,DG(E,_.visualElement,h),E,v,_.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const u=x.forwardRef(a);return u[IG]=s,u}function OG({layoutId:t}){const e=x.useContext(xM).id;return e&&t!==void 0?e+"-"+t:t}function VG(t,e){x.useContext(mP).strict}function LG(t){const{drag:e,layout:n}=yu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Of={};function jG(t){for(const e in t)Of[e]=t[e],Mb(e)&&(Of[e].isCSSVariable=!0)}function bP(t,{layout:e,layoutId:n}){return Ha.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Of[t]||t==="opacity")}const Dn=t=>!!(t&&t.getVelocity),UG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BG=Pu.length;function FG(t,e,n){let r="",s=!0;for(let a=0;a<BG;a++){const u=Pu[a],f=t[u];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(u.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||n){const m=dP(f,zb[u]);if(!h){s=!1;const g=UG[u]||u;r+=`${g}(${m}) `}n&&(e[u]=m)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Yb(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let u=!1,f=!1;for(const h in e){const m=e[h];if(Ha.has(h)){u=!0;continue}else if(Mb(h)){s[h]=m;continue}else{const g=dP(m,zb[h]);h.startsWith("origin")?(f=!0,a[h]=g):r[h]=g}}if(e.transform||(u||n?r.transform=FG(e,t.transform,n):r.transform&&(r.transform="none")),f){const{originX:h="50%",originY:m="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${m} ${g}`}}const Wb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wP(t,e,n){for(const r in e)!Dn(e[r])&&!bP(r,n)&&(t[r]=e[r])}function zG({transformTemplate:t},e){return x.useMemo(()=>{const n=Wb();return Yb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function HG(t,e){const n=t.style||{},r={};return wP(r,n,t),Object.assign(r,zG(t,e)),r}function qG(t,e){const n={},r=HG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const GG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qb(t){return typeof t!="string"||t.includes("-")?!1:!!(GG.indexOf(t)>-1||/[A-Z]/u.test(t))}const $G={offset:"stroke-dashoffset",array:"stroke-dasharray"},KG={offset:"strokeDashoffset",array:"strokeDasharray"};function YG(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?$G:KG;t[a.offset]=je.transform(-r);const u=je.transform(e),f=je.transform(n);t[a.array]=`${u} ${f}`}function bR(t,e,n){return typeof t=="string"?t:je.transform(e+n*t)}function WG(t,e,n){const r=bR(e,t.x,t.width),s=bR(n,t.y,t.height);return`${r} ${s}`}function Xb(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:u,pathSpacing:f=1,pathOffset:h=0,...m},g,v){if(Yb(t,m,v),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E,dimensions:A}=t;_.transform&&(A&&(E.transform=_.transform),delete _.transform),A&&(s!==void 0||a!==void 0||E.transform)&&(E.transformOrigin=WG(A,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),u!==void 0&&YG(_,u,f,h,!1)}const EP=()=>({...Wb(),attrs:{}}),Zb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QG(t,e,n,r){const s=x.useMemo(()=>{const a=EP();return Xb(a,e,Zb(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};wP(a,t.style,t),s.style={...a,...s.style}}return s}function XG(t=!1){return(n,r,s,{latestValues:a},u)=>{const h=(Qb(n)?QG:qG)(r,a,u,n),m=SG(r,typeof n=="string",t),g=n!==x.Fragment?{...m,...h,ref:s}:{},{children:v}=r,_=x.useMemo(()=>Dn(v)?v.get():v,[v]);return x.createElement(n,{...g,children:_})}}function wR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Jb(t,e,n,r){if(typeof e=="function"){const[s,a]=wR(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=wR(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function hm(t){return Dn(t)?t.get():t}function ZG({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const u={latestValues:JG(r,s,a,t),renderState:e()};return n&&(u.onMount=f=>n({props:r,current:f,...u}),u.onUpdate=f=>n(f)),u}const TP=t=>(e,n)=>{const r=x.useContext(Fp),s=x.useContext(xb),a=()=>ZG(t,e,r,s);return n?a():x7(a)};function JG(t,e,n,r){const s={},a=r(t,{});for(const _ in a)s[_]=hm(a[_]);let{initial:u,animate:f}=t;const h=Hp(t),m=gP(t);e&&m&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?f:u;if(v&&typeof v!="boolean"&&!zp(v)){const _=Array.isArray(v)?v:[v];for(let E=0;E<_.length;E++){const A=Jb(t,_[E]);if(A){const{transitionEnd:R,transition:I,...N}=A;for(const L in N){let V=N[L];if(Array.isArray(V)){const $=g?V.length-1:0;V=V[$]}V!==null&&(s[L]=V)}for(const L in R)s[L]=R[L]}}}return s}function ew(t,e,n){var a;const{style:r}=t,s={};for(const u in r)(Dn(r[u])||e.style&&Dn(e.style[u])||bP(u,t)||((a=n==null?void 0:n.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(s[u]=r[u]);return s}const e$={useVisualState:TP({scrapeMotionValuesFromProps:ew,createRenderState:Wb})};function xP(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function SP(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const AP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RP(t,e,n,r){SP(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(AP.has(s)?s:Kb(s),e.attrs[s])}function CP(t,e,n){const r=ew(t,e,n);for(const s in t)if(Dn(t[s])||Dn(e[s])){const a=Pu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const ER=["x","y","width","height","cx","cy","r"],t$={useVisualState:TP({scrapeMotionValuesFromProps:CP,createRenderState:EP,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const f in s)if(Ha.has(f)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let f=0;f<ER.length;f++){const h=ER[f];t[h]!==e[h]&&(u=!0)}u&&bt.read(()=>{xP(n,r),bt.render(()=>{Xb(r,s,Zb(n.tagName),t.transformTemplate),RP(n,r)})})}})};function n$(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...Qb(r)?t$:e$,preloadedFeatures:t,useRender:XG(s),createVisualElement:e,Component:r};return kG(u)}}function Vf(t,e,n){const r=t.getProps();return Jb(r,e,n!==void 0?n:r.custom,t)}const L0=t=>Array.isArray(t);function r$(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Pf(n))}function i$(t){return L0(t)?t[t.length-1]||0:t}function s$(t,e){const n=Vf(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const u in a){const f=i$(a[u]);r$(t,u,f)}}function o$(t){return!!(Dn(t)&&t.add)}function j0(t,e){const n=t.getValue("willChange");if(o$(n))return n.add(e);if(!n&&Is.WillChange){const r=new Is.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function IP(t){return t.props[yP]}const a$=t=>t!==null;function l$(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(a$),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const u$={type:"spring",stiffness:500,damping:25,restSpeed:10},c$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),f$={type:"keyframes",duration:.8},h$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},d$=(t,{keyframes:e})=>e.length>2?f$:Ha.has(t)?t.startsWith("scale")?c$(e[1]):u$:h$;function m$({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:f,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const tw=(t,e,n,r={},s,a)=>u=>{const f=Fb(r,t)||{},h=f.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Ti(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:_=>{e.set(_),f.onUpdate&&f.onUpdate(_)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:a?void 0:s};m$(f)||Object.assign(g,d$(t,g)),g.duration&&(g.duration=Ti(g.duration)),g.repeatDelay&&(g.repeatDelay=Ti(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),(Is.instantAnimations||Is.skipAnimations)&&(v=!0,g.duration=0,g.delay=0),g.allowFlatten=!f.type&&!f.ease,v&&!a&&e.get()!==void 0){const _=l$(g.keyframes,f);if(_!==void 0){bt.update(()=>{g.onUpdate(_),g.onComplete()});return}}return new Z8(g)};function p$({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function DP(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...f}=e;r&&(a=r);const h=[],m=s&&t.animationState&&t.animationState.getState()[s];for(const g in f){const v=t.getValue(g,t.latestValues[g]??null),_=f[g];if(_===void 0||m&&p$(m,g))continue;const E={delay:n,...Fb(a||{},g)};let A=!1;if(window.MotionHandoffAnimation){const I=IP(t);if(I){const N=window.MotionHandoffAnimation(I,g,bt);N!==null&&(E.startTime=N,A=!0)}}j0(t,g),v.start(tw(g,v,_,t.shouldReduceMotion&&sP.has(g)?{type:!1}:E,t,A));const R=v.animation;R&&h.push(R)}return u&&Promise.all(h).then(()=>{bt.update(()=>{u&&s$(t,u)})}),h}function U0(t,e,n={}){var h;const r=Vf(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(DP(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=s;return g$(t,e,g+m,v,_,n)}:()=>Promise.resolve(),{when:f}=s;if(f){const[m,g]=f==="beforeChildren"?[a,u]:[u,a];return m().then(()=>g())}else return Promise.all([a(),u(n.delay)])}function g$(t,e,n=0,r=0,s=1,a){const u=[],f=(t.variantChildren.size-1)*r,h=s===1?(m=0)=>m*r:(m=0)=>f-m*r;return Array.from(t.variantChildren).sort(y$).forEach((m,g)=>{m.notify("AnimationStart",e),u.push(U0(m,e,{...a,delay:n+h(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function y$(t,e){return t.sortNodePosition(e)}function v$(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>U0(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=U0(t,e,n);else{const s=typeof e=="function"?Vf(t,e,n.custom):e;r=Promise.all(DP(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function NP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const _$=$b.length;function MP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?MP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_$;n++){const r=$b[n],s=t.props[r];(kf(s)||s===!1)&&(e[r]=s)}return e}const b$=[...Gb].reverse(),w$=Gb.length;function E$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>v$(t,n,r)))}function T$(t){let e=E$(t),n=TR(),r=!0;const s=h=>(m,g)=>{var _;const v=Vf(t,g,h==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(v){const{transition:E,transitionEnd:A,...R}=v;m={...m,...R,...A}}return m};function a(h){e=h(t)}function u(h){const{props:m}=t,g=MP(t.parent)||{},v=[],_=new Set;let E={},A=1/0;for(let I=0;I<w$;I++){const N=b$[I],L=n[N],V=m[N]!==void 0?m[N]:g[N],$=kf(V),q=N===h?L.isActive:null;q===!1&&(A=I);let se=V===g[N]&&V!==m[N]&&$;if(se&&r&&t.manuallyAnimateOnMount&&(se=!1),L.protectedKeys={...E},!L.isActive&&q===null||!V&&!L.prevProp||zp(V)||typeof V=="boolean")continue;const k=x$(L.prevProp,V);let C=k||N===h&&L.isActive&&!se&&$||I>A&&$,P=!1;const j=Array.isArray(V)?V:[V];let z=j.reduce(s(N),{});q===!1&&(z={});const{prevResolvedValues:B={}}=L,O={...B,...z},_e=ie=>{C=!0,_.has(ie)&&(P=!0,_.delete(ie)),L.needsAnimating[ie]=!0;const Q=t.getValue(ie);Q&&(Q.liveStyle=!1)};for(const ie in O){const Q=z[ie],me=B[ie];if(E.hasOwnProperty(ie))continue;let U=!1;L0(Q)&&L0(me)?U=!NP(Q,me):U=Q!==me,U?Q!=null?_e(ie):_.add(ie):Q!==void 0&&_.has(ie)?_e(ie):L.protectedKeys[ie]=!0}L.prevProp=V,L.prevResolvedValues=z,L.isActive&&(E={...E,...z}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(se&&k)||P)&&v.push(...j.map(ie=>({animation:ie,options:{type:N}})))}if(_.size){const I={};if(typeof m.initial!="boolean"){const N=Vf(t,Array.isArray(m.initial)?m.initial[0]:m.initial);N&&N.transition&&(I.transition=N.transition)}_.forEach(N=>{const L=t.getBaseTarget(N),V=t.getValue(N);V&&(V.liveStyle=!0),I[N]=L??null}),v.push({animation:I})}let R=!!v.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(v):Promise.resolve()}function f(h,m){var v;if(n[h].isActive===m)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(_=>{var E;return(E=_.animationState)==null?void 0:E.setActive(h,m)}),n[h].isActive=m;const g=u(h);for(const _ in n)n[_].protectedKeys={};return g}return{animateChanges:u,setActive:f,setAnimateFunction:a,getState:()=>n,reset:()=>{n=TR(),r=!0}}}function x$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!NP(e,t):!1}function wa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TR(){return{animate:wa(!0),whileInView:wa(),whileHover:wa(),whileTap:wa(),whileDrag:wa(),whileFocus:wa(),exit:wa()}}class Fo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class S$ extends Fo{constructor(e){super(e),e.animationState||(e.animationState=T$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let A$=0;class R$ extends Fo{constructor(){super(...arguments),this.id=A$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const C$={animation:{Feature:S$},exit:{Feature:R$}};function Lf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function lh(t){return{point:{x:t.pageX,y:t.pageY}}}const I$=t=>e=>qb(e)&&t(e,lh(e));function ff(t,e,n,r){return Lf(t,e,I$(n),r)}function PP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function D$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function N$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const kP=1e-4,M$=1-kP,P$=1+kP,OP=.01,k$=0-OP,O$=0+OP;function Fn(t){return t.max-t.min}function V$(t,e,n){return Math.abs(t-e)<=n}function xR(t,e,n,r=.5){t.origin=r,t.originPoint=At(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),t.translate=At(n.min,n.max,t.origin)-t.originPoint,(t.scale>=M$&&t.scale<=P$||isNaN(t.scale))&&(t.scale=1),(t.translate>=k$&&t.translate<=O$||isNaN(t.translate))&&(t.translate=0)}function hf(t,e,n,r){xR(t.x,e.x,n.x,r?r.originX:void 0),xR(t.y,e.y,n.y,r?r.originY:void 0)}function SR(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function L$(t,e,n){SR(t.x,e.x,n.x),SR(t.y,e.y,n.y)}function AR(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function df(t,e,n){AR(t.x,e.x,n.x),AR(t.y,e.y,n.y)}const RR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gl=()=>({x:RR(),y:RR()}),CR=()=>({min:0,max:0}),Vt=()=>({x:CR(),y:CR()});function Ar(t){return[t("x"),t("y")]}function Rv(t){return t===void 0||t===1}function B0({scale:t,scaleX:e,scaleY:n}){return!Rv(t)||!Rv(e)||!Rv(n)}function Ta(t){return B0(t)||VP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function VP(t){return IR(t.x)||IR(t.y)}function IR(t){return t&&t!=="0%"}function Xm(t,e,n){const r=t-n,s=e*r;return n+s}function DR(t,e,n,r,s){return s!==void 0&&(t=Xm(t,s,r)),Xm(t,n,r)+e}function F0(t,e=0,n=1,r,s){t.min=DR(t.min,e,n,r,s),t.max=DR(t.max,e,n,r,s)}function LP(t,{x:e,y:n}){F0(t.x,e.translate,e.scale,e.originPoint),F0(t.y,n.translate,n.scale,n.originPoint)}const NR=.999999999999,MR=1.0000000000001;function j$(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,u;for(let f=0;f<s;f++){a=n[f],u=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Kl(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,LP(t,u)),r&&Ta(a.latestValues)&&Kl(t,a.latestValues))}e.x<MR&&e.x>NR&&(e.x=1),e.y<MR&&e.y>NR&&(e.y=1)}function $l(t,e){t.min=t.min+e,t.max=t.max+e}function PR(t,e,n,r,s=.5){const a=At(t.min,t.max,s);F0(t,e,n,a,r)}function Kl(t,e){PR(t.x,e.x,e.scaleX,e.scale,e.originX),PR(t.y,e.y,e.scaleY,e.scale,e.originY)}function jP(t,e){return PP(N$(t.getBoundingClientRect(),e))}function U$(t,e,n){const r=jP(t,n),{scroll:s}=e;return s&&($l(r.x,s.offset.x),$l(r.y,s.offset.y)),r}const UP=({current:t})=>t?t.ownerDocument.defaultView:null,kR=(t,e)=>Math.abs(t-e);function B$(t,e){const n=kR(t.x,e.x),r=kR(t.y,e.y);return Math.sqrt(n**2+r**2)}class BP{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Iv(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=B$(v.offset,{x:0,y:0})>=3;if(!_&&!E)return;const{point:A}=v,{timestamp:R}=_n;this.history.push({...A,timestamp:R});const{onStart:I,onMove:N}=this.handlers;_||(I&&I(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Cv(_,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:E,onSessionEnd:A,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Iv(v.type==="pointercancel"?this.lastMoveEventInfo:Cv(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(v,I),A&&A(v,I)},!qb(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const u=lh(e),f=Cv(u,this.transformPagePoint),{point:h}=f,{timestamp:m}=_n;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Iv(f,this.history)),this.removeListeners=sh(ff(this.contextWindow,"pointermove",this.handlePointerMove),ff(this.contextWindow,"pointerup",this.handlePointerUp),ff(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mo(this.updatePoint)}}function Cv(t,e){return e?{point:e(t.point)}:t}function OR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Iv({point:t},e){return{point:t,delta:OR(t,FP(e)),offset:OR(t,F$(e)),velocity:z$(e,.1)}}function F$(t){return t[0]}function FP(t){return t[t.length-1]}function z$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=FP(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ti(e)));)n--;if(!r)return{x:0,y:0};const a=xi(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function H$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?At(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?At(n,t,r.max):Math.min(t,n)),t}function VR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function q$(t,{top:e,left:n,bottom:r,right:s}){return{x:VR(t.x,n,s),y:VR(t.y,e,r)}}function LR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function G$(t,e){return{x:LR(t.x,e.x),y:LR(t.y,e.y)}}function $$(t,e){let n=.5;const r=Fn(t),s=Fn(e);return s>r?n=Df(e.min,e.max-r,t.min):r>s&&(n=Df(t.min,t.max-s,e.min)),Cs(0,1,n)}function K$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const z0=.35;function Y$(t=z0){return t===!1?t=0:t===!0&&(t=z0),{x:jR(t,"left","right"),y:jR(t,"top","bottom")}}function jR(t,e,n){return{min:UR(t,e),max:UR(t,n)}}function UR(t,e){return typeof t=="number"?t:t[e]||0}const W$=new WeakMap;class Q${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lh(g).point)},a=(g,v)=>{const{drag:_,dragPropagation:E,onDragStart:A}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fG(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ar(I=>{let N=this.getAxisMotionValue(I).get()||0;if(Si.test(N)){const{projection:L}=this.visualElement;if(L&&L.layout){const V=L.layout.layoutBox[I];V&&(N=Fn(V)*(parseFloat(N)/100))}}this.originPoint[I]=N}),A&&bt.postRender(()=>A(g,v)),j0(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},u=(g,v)=>{const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:A,onDrag:R}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:I}=v;if(E&&this.currentDirection===null){this.currentDirection=X$(I),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",v.point,I),this.updateAxis("y",v.point,I),this.visualElement.render(),R&&R(g,v)},f=(g,v)=>this.stop(g,v),h=()=>Ar(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new BP(e,{onSessionStart:s,onStart:a,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:UP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&bt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Kd(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=H$(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&ql(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=q$(r.layoutBox,e):this.constraints=!1,this.elastic=Y$(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ar(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=K$(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ql(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=U$(r,s.root,this.visualElement.getTransformPagePoint());let u=G$(s.layout.layoutBox,a);if(n){const f=n(D$(u));this.hasMutatedConstraints=!!f,f&&(u=PP(f))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},m=Ar(g=>{if(!Kd(g,n,this.currentDirection))return;let v=h&&h[g]||{};u&&(v={min:0,max:0});const _=s?200:1e6,E=s?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,A)});return Promise.all(m).then(f)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return j0(this.visualElement,e),r.start(tw(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ar(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ar(n=>{const{drag:r}=this.getProps();if(!Kd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:f}=s.layout.layoutBox[n];a.set(e[n]-At(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ql(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ar(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const h=f.get();s[u]=$$({min:h,max:h},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ar(u=>{if(!Kd(u,e,null))return;const f=this.getAxisMotionValue(u),{min:h,max:m}=this.constraints[u];f.set(At(h,m,s[u]))})}addListeners(){if(!this.visualElement.current)return;W$.set(this.visualElement,this);const e=this.visualElement.current,n=ff(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();ql(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),bt.read(r);const u=Lf(window,"resize",()=>this.scalePositionWithinConstraints()),f=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Ar(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=z0,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:f}}}function Kd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function X$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Z$ extends Fo{constructor(e){super(e),this.removeGroupControls=Cr,this.removeListeners=Cr,this.controls=new Q$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cr}unmount(){this.removeGroupControls(),this.removeListeners()}}const BR=t=>(e,n)=>{t&&bt.postRender(()=>t(e,n))};class J$ extends Fo{constructor(){super(...arguments),this.removePointerDownListener=Cr}onPointerDown(e){this.session=new BP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:BR(e),onStart:BR(n),onMove:r,onEnd:(a,u)=>{delete this.session,s&&bt.postRender(()=>s(a,u))}}}mount(){this.removePointerDownListener=ff(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=FR(t,e.target.x),r=FR(t,e.target.y);return`${n}% ${r}%`}},eK={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Po.parse(t);if(s.length>5)return r;const a=Po.createTransformer(t),u=typeof s[0]!="number"?1:0,f=n.x.scale*e.x,h=n.y.scale*e.y;s[0+u]/=f,s[1+u]/=h;const m=At(f,h,.5);return typeof s[2+u]=="number"&&(s[2+u]/=m),typeof s[3+u]=="number"&&(s[3+u]/=m),a(s)}};class tK extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;jG(nK),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),dm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||bt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zP(t){const[e,n]=A7(),r=x.useContext(xM);return w.jsx(tK,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(vP),isPresent:e,safeToRemove:n})}const nK={borderRadius:{...Gc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gc,borderTopRightRadius:Gc,borderBottomLeftRadius:Gc,borderBottomRightRadius:Gc,boxShadow:eK};function rK(t,e,n){const r=Dn(t)?t:Pf(t);return r.start(tw("",r,e,n)),r.animation}function iK(t){return t instanceof SVGElement&&t.tagName!=="svg"}const sK=(t,e)=>t.depth-e.depth;class oK{constructor(){this.children=[],this.isDirty=!1}add(e){Sb(this.children,e),this.isDirty=!0}remove(e){Ab(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sK),this.isDirty=!1,this.children.forEach(e)}}function aK(t,e){const n=Xn.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(Mo(r),t(a-e))};return bt.setup(r,!0),()=>Mo(r)}const HP=["TopLeft","TopRight","BottomLeft","BottomRight"],lK=HP.length,zR=t=>typeof t=="string"?parseFloat(t):t,HR=t=>typeof t=="number"||je.test(t);function uK(t,e,n,r,s,a){s?(t.opacity=At(0,n.opacity??1,cK(r)),t.opacityExit=At(e.opacity??1,0,fK(r))):a&&(t.opacity=At(e.opacity??1,n.opacity??1,r));for(let u=0;u<lK;u++){const f=`border${HP[u]}Radius`;let h=qR(e,f),m=qR(n,f);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||HR(h)===HR(m)?(t[f]=Math.max(At(zR(h),zR(m),r),0),(Si.test(m)||Si.test(h))&&(t[f]+="%")):t[f]=m}(e.rotate||n.rotate)&&(t.rotate=At(e.rotate||0,n.rotate||0,r))}function qR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cK=qP(0,.5,OM),fK=qP(.5,.95,Cr);function qP(t,e,n){return r=>r<t?0:r>e?1:n(Df(t,e,r))}function GR(t,e){t.min=e.min,t.max=e.max}function Sr(t,e){GR(t.x,e.x),GR(t.y,e.y)}function $R(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function KR(t,e,n,r,s){return t-=e,t=Xm(t,1/n,r),s!==void 0&&(t=Xm(t,1/s,r)),t}function hK(t,e=0,n=1,r=.5,s,a=t,u=t){if(Si.test(e)&&(e=parseFloat(e),e=At(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=At(a.min,a.max,r);t===a&&(f-=e),t.min=KR(t.min,e,n,f,s),t.max=KR(t.max,e,n,f,s)}function YR(t,e,[n,r,s],a,u){hK(t,e[n],e[r],e[s],e.scale,a,u)}const dK=["x","scaleX","originX"],mK=["y","scaleY","originY"];function WR(t,e,n,r){YR(t.x,e,dK,n?n.x:void 0,r?r.x:void 0),YR(t.y,e,mK,n?n.y:void 0,r?r.y:void 0)}function QR(t){return t.translate===0&&t.scale===1}function GP(t){return QR(t.x)&&QR(t.y)}function XR(t,e){return t.min===e.min&&t.max===e.max}function pK(t,e){return XR(t.x,e.x)&&XR(t.y,e.y)}function ZR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $P(t,e){return ZR(t.x,e.x)&&ZR(t.y,e.y)}function JR(t){return Fn(t.x)/Fn(t.y)}function e1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gK{constructor(){this.members=[]}add(e){Sb(this.members,e),e.scheduleRender()}remove(e){if(Ab(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yK(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((s||a||u)&&(r=`translate3d(${s}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:_,skewX:E,skewY:A}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),E&&(r+=`skewX(${E}deg) `),A&&(r+=`skewY(${A}deg) `)}const f=t.x.scale*e.x,h=t.y.scale*e.y;return(f!==1||h!==1)&&(r+=`scale(${f}, ${h})`),r||"none"}const Dv=["","X","Y","Z"],vK={visibility:"hidden"},t1=1e3;let _K=0;function Nv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function KP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=IP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",bt,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&KP(r)}function YP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},f=e==null?void 0:e()){this.id=_K++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EK),this.nodes.forEach(RK),this.nodes.forEach(CK),this.nodes.forEach(TK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new oK)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Ib),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const h=this.eventHandlers.get(u);h&&h.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=iK(u),this.instance=u;const{layoutId:h,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(m||h)&&(this.isLayoutDirty=!0),t){let v;const _=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=aK(_,250),dm.hasAnimatedSinceResize&&(dm.hasAnimatedSinceResize=!1,this.nodes.forEach(r1))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||g.getDefaultTransition()||PK,{onLayoutAnimationStart:I,onLayoutAnimationComplete:N}=g.getProps(),L=!this.targetLayout||!$P(this.targetLayout,A),V=!_&&E;if(this.options.layoutRoot||this.resumeFrom||V||_&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,V);const $={...Fb(R,"layout"),onPlay:I,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($)}else _||r1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IK),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n1);return}this.isUpdating||this.nodes.forEach(SK),this.isUpdating=!1,this.nodes.forEach(AK),this.nodes.forEach(bK),this.nodes.forEach(wK),this.clearAllSnapshots();const f=Xn.now();_n.delta=Cs(0,1e3/60,f-_n.timestamp),_n.timestamp=f,_n.isProcessing=!0,Ev.update.process(_n),Ev.preRender.process(_n),Ev.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xK),this.sharedNodes.forEach(DK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fn(this.snapshot.measuredBox.x)&&!Fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!GP(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&(f||Ta(this.latestValues)||g)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return u&&(h=this.removeTransform(h)),kK(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return Vt();const f=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(OK))){const{scroll:g}=this.root;g&&($l(f.x,g.offset.x),$l(f.y,g.offset.y))}return f}removeElementScroll(u){var h;const f=Vt();if(Sr(f,u),(h=this.scroll)!=null&&h.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&Sr(f,u),$l(f.x,v.offset.x),$l(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const h=Vt();Sr(h,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Kl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ta(g.latestValues)&&Kl(h,g.latestValues)}return Ta(this.latestValues)&&Kl(h,this.latestValues),h}removeTransform(u){const f=Vt();Sr(f,u);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Ta(m.latestValues))continue;B0(m.latestValues)&&m.updateSnapshot();const g=Vt(),v=m.measurePageBox();Sr(g,v),WR(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ta(this.latestValues)&&WR(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var _;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),df(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),L$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sr(this.target,this.layout.layoutBox),LP(this.target,this.targetDelta)):Sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),df(this.relativeTargetOrigin,this.target,E.target),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||B0(this.parent.latestValues)||VP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Sr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;j$(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Vt());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($R(this.prevProjectionDelta.x,this.projectionDelta.x),$R(this.prevProjectionDelta.y,this.projectionDelta.y)),hf(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!e1(this.projectionDelta.x,this.prevProjectionDelta.x)||!e1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gl(),this.projectionDelta=Gl(),this.projectionDeltaWithTransform=Gl()}setAnimationOrigin(u,f=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},v=Gl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const _=Vt(),E=h?h.source:void 0,A=this.layout?this.layout.source:void 0,R=E!==A,I=this.getStack(),N=!I||I.members.length<=1,L=!!(R&&!N&&this.options.crossfade===!0&&!this.path.some(MK));this.animationProgress=0;let V;this.mixTargetDelta=$=>{const q=$/1e3;i1(v.x,u.x,q),i1(v.y,u.y,q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(df(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NK(this.relativeTarget,this.relativeTargetOrigin,_,q),V&&pK(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=Vt()),Sr(V,this.relativeTarget)),R&&(this.animationValues=g,uK(g,m,this.latestValues,q,L,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{dm.hasAnimatedSinceResize=!0,this.currentAnimation=rK(0,t1,{...u,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:h,layout:m,latestValues:g}=u;if(!(!f||!h||!m)){if(this!==u&&this.layout&&m&&WP(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Vt();const v=Fn(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const _=Fn(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+_}Sr(f,h),Kl(f,g),hf(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new gK),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const m={};h.z&&Nv("z",u,m,this.animationValues);for(let g=0;g<Dv.length;g++)Nv(`rotate${Dv[g]}`,u,m,this.animationValues),Nv(`skew${Dv[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return vK;const f={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=hm(u==null?void 0:u.pointerEvents)||"",f.transform=h?h(this.latestValues,""):"none",f;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=hm(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ta(this.latestValues)&&(E.transform=h?h({},""):"none",this.hasProjected=!1),E}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),f.transform=yK(this.projectionDeltaWithTransform,this.treeScale,g),h&&(f.transform=h(g,f.transform));const{x:v,y:_}=this.projectionDelta;f.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,m.animationValues?f.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:f.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const E in Of){if(g[E]===void 0)continue;const{correct:A,applyTo:R,isCSSVariable:I}=Of[E],N=f.transform==="none"?g[E]:A(g[E],m);if(R){const L=R.length;for(let V=0;V<L;V++)f[R[V]]=N}else I?this.options.visualElement.renderState.vars[E]=N:f[E]=N}return this.options.layoutId&&(f.pointerEvents=m===this?hm(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(n1),this.root.sharedNodes.clear()}}}function bK(t){t.updateLayout()}function wK(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,u=e.source!==t.layout.source;a==="size"?Ar(v=>{const _=u?e.measuredBox[v]:e.layoutBox[v],E=Fn(_);_.min=r[v].min,_.max=_.min+E}):WP(a,e.layoutBox,r)&&Ar(v=>{const _=u?e.measuredBox[v]:e.layoutBox[v],E=Fn(r[v]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+E)});const f=Gl();hf(f,r,e.layoutBox);const h=Gl();u?hf(h,t.applyTransform(s,!0),e.measuredBox):hf(h,r,e.layoutBox);const m=!GP(f);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:E}=v;if(_&&E){const A=Vt();df(A,e.layoutBox,_.layoutBox);const R=Vt();df(R,r,E.layoutBox),$P(A,R)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function EK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xK(t){t.clearSnapshot()}function n1(t){t.clearMeasurements()}function SK(t){t.isLayoutDirty=!1}function AK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function r1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function RK(t){t.resolveTargetDelta()}function CK(t){t.calcProjection()}function IK(t){t.resetSkewAndRotation()}function DK(t){t.removeLeadSnapshot()}function i1(t,e,n){t.translate=At(e.translate,0,n),t.scale=At(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function s1(t,e,n,r){t.min=At(e.min,n.min,r),t.max=At(e.max,n.max,r)}function NK(t,e,n,r){s1(t.x,e.x,n.x,r),s1(t.y,e.y,n.y,r)}function MK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const PK={duration:.45,ease:[.4,0,.1,1]},o1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),a1=o1("applewebkit/")&&!o1("chrome/")?Math.round:Cr;function l1(t){t.min=a1(t.min),t.max=a1(t.max)}function kK(t){l1(t.x),l1(t.y)}function WP(t,e,n){return t==="position"||t==="preserve-aspect"&&!V$(JR(e),JR(n),.2)}function OK(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const VK=YP({attachResizeListener:(t,e)=>Lf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mv={current:void 0},QP=YP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mv.current){const t=new VK({});t.mount(window),t.setOptions({layoutScroll:!0}),Mv.current=t}return Mv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),LK={pan:{Feature:J$},drag:{Feature:Z$,ProjectionNode:QP,MeasureLayout:zP}};function u1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&bt.postRender(()=>a(e,lh(e)))}class jK extends Fo{mount(){const{current:e}=this.node;e&&(this.unmount=dG(e,(n,r)=>(u1(this.node,r,"Start"),s=>u1(this.node,s,"End"))))}unmount(){}}class UK extends Fo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sh(Lf(this.node.current,"focus",()=>this.onFocus()),Lf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c1(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&bt.postRender(()=>a(e,lh(e)))}class BK extends Fo{mount(){const{current:e}=this.node;e&&(this.unmount=yG(e,(n,r)=>(c1(this.node,r,"Start"),(s,{success:a})=>c1(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const H0=new WeakMap,Pv=new WeakMap,FK=t=>{const e=H0.get(t.target);e&&e(t)},zK=t=>{t.forEach(FK)};function HK({root:t,...e}){const n=t||document;Pv.has(n)||Pv.set(n,{});const r=Pv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(zK,{root:t,...e})),r[s]}function qK(t,e,n){const r=HK(e);return H0.set(t,n),r.observe(t),()=>{H0.delete(t),r.unobserve(t)}}const GK={some:0,all:1};class $K extends Fo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:GK[s]},f=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=m?g:v;_&&_(h)};return qK(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KK(e,n))&&this.startObserver()}unmount(){}}function KK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const YK={inView:{Feature:$K},tap:{Feature:BK},focus:{Feature:UK},hover:{Feature:jK}},WK={layout:{ProjectionNode:QP,MeasureLayout:zP}},q0={current:null},XP={current:!1};function QK(){if(XP.current=!0,!!Tb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>q0.current=t.matches;t.addListener(e),e()}else q0.current=!1}const XK=new WeakMap;function ZK(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Dn(s))t.addValue(r,s);else if(Dn(a))t.addValue(r,Pf(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=t.getStaticValue(r);t.addValue(r,Pf(u!==void 0?u:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const f1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class JK{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Xn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,bt.render(this.render,!1,!0))};const{latestValues:h,renderState:m,onUpdate:g}=u;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=f,this.blockInitialAnimation=!!a,this.isControllingVariants=Hp(n),this.isVariantNode=gP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const A=_[E];h[E]!==void 0&&Dn(A)&&A.set(h[E],!1)}}mount(e){this.current=e,XK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),XP.current||QK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:q0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mo(this.notifyUpdate),Mo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ha.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yu){const n=yu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<f1.length;r++){const s=f1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,u=e[a];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=ZK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Pf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(AM(r)||RM(r))?r=parseFloat(r):!wG(r)&&Po.test(n)&&(r=uP(e,n)),this.setBaseTarget(e,Dn(r)?r.get():r)),Dn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=Jb(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);u&&(r=u[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Dn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ib),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class ZP extends JK{constructor(){super(...arguments),this.KeyframeResolver=cG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function eY(t){return window.getComputedStyle(t)}class tY extends ZP{constructor(){super(...arguments),this.type="html",this.renderInstance=SP}readValueFromInstance(e,n){if(Ha.has(n))return I8(e,n);{const r=eY(e),s=(Mb(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jP(e,n)}build(e,n,r){Yb(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ew(e,n,r)}}class nY extends ZP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&xP(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ha.has(n)){const r=lP(n);return r&&r.default||0}return n=AP.has(n)?n:Kb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return CP(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&bt.postRender(this.updateDimensions)}build(e,n,r){Xb(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){RP(e,n,r,s)}mount(e){this.isSVGTag=Zb(e.tagName),super.mount(e)}}const rY=(t,e)=>Qb(t)?new nY(e):new tY(e,{allowProjection:t!==x.Fragment}),iY=n$({...C$,...YK,...LK,...WK},rY),Lr=AG(iY),Yd=5;function sY(){var _e,Ce,K,ie,Q,me,U,oe,ye;const{id:t}=$0(),[e]=Z2(),{user:n}=Pi(),[r,s]=x.useState(null),[a,u]=x.useState(!0),[f,h]=x.useState(null),[m,g]=x.useState(!1),[v,_]=x.useState(!1),[E,A]=x.useState([]),[R,I]=x.useState(!1),[N,L]=x.useState(""),[V,$]=x.useState(!1),[q,se]=x.useState(!0),[k,C]=x.useState(!1);x.useEffect(()=>{async function te(){if(t)try{u(!0);const pe=e.get("data");if(pe){const qe=JSON.parse(decodeURIComponent(pe));s({...qe,upvotes:[],downvotes:[]});return}const Te=await d7(t),xe=yi(Bn,"books",t),Re=await Zc(xe),Se=Re.exists()?Re.data():null;s({...Te,upvotes:(Se==null?void 0:Se.upvotes)||[],downvotes:(Se==null?void 0:Se.downvotes)||[]})}catch(pe){h(pe instanceof Error?pe.message:"Failed to load book"),console.error("Error fetching book:",pe)}finally{u(!1)}}te()},[t,e]),x.useEffect(()=>{async function te(){if(t)try{$(!0);const pe=Jl(Bn,"reviews"),Te=Tf(pe,Om("bookId","==",t),u0("createdAt","desc"),JS(Yd)),Re=(await xf(Te)).docs.map(Se=>({id:Se.id,...Se.data()}));A(Re),se(Re.length===Yd)}catch(pe){console.error("Error fetching reviews:",pe)}finally{$(!1)}}te()},[t]);const P=async te=>{if(!(!r||!n))try{const pe=yi(Bn,"books",r.id);(await Zc(pe)).exists()||await Vm(pe,{upvotes:[],downvotes:[],volumeInfo:r.volumeInfo});const xe=r.upvotes||[],Re=r.downvotes||[],Se=n.uid;let qe=[...xe],lt=[...Re];te==="upvote"?xe.includes(Se)?qe=xe.filter(tt=>tt!==Se):(qe.push(Se),lt=Re.filter(tt=>tt!==Se)):Re.includes(Se)?lt=Re.filter(tt=>tt!==Se):(lt.push(Se),qe=xe.filter(tt=>tt!==Se)),await ms(pe,{upvotes:qe,downvotes:lt}),s(tt=>tt?{...tt,upvotes:qe,downvotes:lt}:null)}catch(pe){console.error("Error voting:",pe)}},j=async(te,pe)=>{if(n)try{const Te=yi(Bn,"reviews",te),xe=await Zc(Te);if(!xe.exists())return;const Re=xe.data(),Se=n.uid;pe==="upvote"?Re.upvotes.includes(Se)?await ms(Te,{upvotes:zl(Se)}):await ms(Te,{upvotes:Lm(Se),downvotes:zl(Se)}):Re.downvotes.includes(Se)?await ms(Te,{downvotes:zl(Se)}):await ms(Te,{downvotes:Lm(Se),upvotes:zl(Se)});const qe=await Zc(Te);A(lt=>lt.map(tt=>tt.id===te?{...tt,...qe.data()}:tt))}catch(Te){console.error("Error voting on review:",Te)}},z=async()=>{if(!(!n||!r||!N.trim()||k))try{C(!0);const te=yi(Jl(Bn,"reviews")),pe={id:te.id,bookId:r.id,userId:n.uid,username:n.displayName||"Anonymous",content:N.trim(),createdAt:new Date().toISOString(),upvotes:[],downvotes:[]};await Vm(te,pe),A(Te=>[pe,...Te]),L(""),I(!1)}catch(te){console.error("Error submitting review:",te)}finally{C(!1)}},B=async te=>{if(n)try{await g5(yi(Bn,"reviews",te)),A(pe=>pe.filter(Te=>Te.id!==te))}catch(pe){console.error("Error deleting review:",pe)}},O=async()=>{if(!(!t||V))try{$(!0);const te=E[E.length-1],pe=Jl(Bn,"reviews"),Te=Tf(pe,Om("bookId","==",t),u0("createdAt","desc"),c5(te.createdAt),JS(Yd)),Re=(await xf(Te)).docs.map(Se=>({id:Se.id,...Se.data()}));A(Se=>[...Se,...Re]),se(Re.length===Yd)}catch(te){console.error("Error loading more reviews:",te)}finally{$(!1)}};return a?w.jsx(Ia,{children:w.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white animate-pulse",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:w.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[w.jsx("div",{className:"w-[280px] h-[420px] bg-slate-200 rounded-2xl"}),w.jsxs("div",{className:"flex-1 space-y-8",children:[w.jsx("div",{className:"h-12 bg-slate-200 rounded-lg w-3/4"}),w.jsx("div",{className:"h-6 bg-slate-200 rounded-lg w-1/2"}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"}),w.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"}),w.jsx("div",{className:"h-4 bg-slate-200 rounded w-4/6"})]})]})]})})})}):f||!r?w.jsx(Ia,{children:w.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:w.jsxs("div",{className:"text-center py-16",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:f||"Book not found"}),w.jsx("p",{className:"text-gray-600",children:"We couldn't find the book you're looking for."})]})})})}):w.jsx(Ia,{children:w.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[w.jsxs("div",{className:"relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 -z-10",children:w.jsx("img",{src:(_e=r.volumeInfo.imageLinks)==null?void 0:_e.thumbnail,alt:r.volumeInfo.title,className:"w-full h-full object-cover blur-2xl opacity-10 scale-110"})}),w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:w.jsxs(Lr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row gap-12 items-start",children:[w.jsxs("div",{className:"relative flex-shrink-0 w-[280px] mx-auto lg:mx-0",children:[w.jsx(Lr.div,{whileHover:{scale:1.05},className:"aspect-[2/3] rounded-2xl overflow-hidden shadow-2xl",children:w.jsx("img",{src:(Ce=r.volumeInfo.imageLinks)==null?void 0:Ce.thumbnail,alt:r.volumeInfo.title,className:"w-full h-full object-cover"})}),w.jsx("div",{className:"absolute -top-3 -right-3 bg-white rounded-full p-3 shadow-lg",children:w.jsxs("div",{className:"flex items-center gap-1.5",children:[w.jsx(sM,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"}),w.jsx("span",{className:"font-semibold text-gray-800",children:"4.5"})]})}),w.jsxs("div",{className:"absolute -left-3 top-1/4 space-y-3",children:[w.jsx(Lr.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"p-3 bg-white rounded-full shadow-lg text-indigo-600 hover:text-indigo-700",onClick:()=>_(!v),children:w.jsx(JH,{className:`w-5 h-5 ${v?"fill-current":""}`})}),w.jsx(Lr.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"p-3 bg-white rounded-full shadow-lg text-indigo-600 hover:text-indigo-700",onClick:()=>g(!m),children:w.jsx(gq,{className:"w-5 h-5"})})]})]}),w.jsxs("div",{className:"flex-1 space-y-8",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-4xl font-bold text-gray-900 font-dmSans mb-4",children:r.volumeInfo.title}),w.jsxs("p",{className:"text-lg text-indigo-600 font-medium",children:["by ",(K=r.volumeInfo.authors)==null?void 0:K.join(", ")]})]}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[w.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:w.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[w.jsx(nM,{className:"w-5 h-5 text-indigo-500"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Published"}),w.jsx("p",{className:"font-semibold",children:new Date(r.volumeInfo.publishedDate).getFullYear()})]})]})}),w.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:w.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[w.jsx(tM,{className:"w-5 h-5 text-indigo-500"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Read Time"}),w.jsx("p",{className:"font-semibold",children:"5h 23m"})]})]})}),w.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:w.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[w.jsx(lq,{className:"w-5 h-5 text-indigo-500"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Reviews"}),w.jsx("p",{className:"font-semibold",children:E.length})]})]})}),w.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:w.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[w.jsx($H,{className:"w-5 h-5 text-indigo-500"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Rating"}),w.jsx("p",{className:"font-semibold",children:"4.5/5"})]})]})})]}),w.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"About this book"}),w.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.volumeInfo.description})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs(Lr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>P("upvote"),className:`flex items-center gap-2 px-6 py-3 rounded-full font-medium transition-all duration-300 ${(ie=r.upvotes)!=null&&ie.includes((n==null?void 0:n.uid)||"")?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[w.jsx(x0,{className:`w-5 h-5 ${(Q=r.upvotes)!=null&&Q.includes((n==null?void 0:n.uid)||"")?"fill-white":""}`}),w.jsx("span",{children:((me=r.upvotes)==null?void 0:me.length)||0})]}),w.jsxs(Lr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>P("downvote"),className:`flex items-center gap-2 px-6 py-3 rounded-full font-medium transition-all duration-300 ${(U=r.downvotes)!=null&&U.includes((n==null?void 0:n.uid)||"")?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[w.jsx(GA,{className:`w-5 h-5 ${(oe=r.downvotes)!=null&&oe.includes((n==null?void 0:n.uid)||"")?"fill-white":""}`}),w.jsx("span",{children:((ye=r.downvotes)==null?void 0:ye.length)||0})]})]})]})]})})]}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[w.jsxs("div",{className:"flex items-center justify-between mb-8",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reviews"}),w.jsx(Lr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>I(!0),className:"px-6 py-2.5 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition-colors duration-300",children:"Write a Review"})]}),R&&w.jsxs(Lr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm mb-8",children:[w.jsx("textarea",{value:N,onChange:te=>L(te.target.value),placeholder:"Share your thoughts about this book...",className:"w-full h-32 p-4 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"}),w.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[w.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),w.jsx(Lr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:z,disabled:k||!N.trim(),className:"px-6 py-2 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition-colors duration-300 disabled:opacity-50",children:k?"Posting...":"Post Review"})]})]}),w.jsx("div",{className:"space-y-6",children:E.length>0?E.map(te=>w.jsxs(Lr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-gray-900",children:te.username}),w.jsx("p",{className:"text-sm text-gray-500",children:new Date(te.createdAt).toLocaleDateString()})]}),(n==null?void 0:n.uid)===te.userId&&w.jsx("button",{onClick:()=>B(te.id),className:"text-red-500 hover:text-red-600",children:"Delete"})]}),w.jsx("p",{className:"text-gray-600 mb-4",children:te.content}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("button",{onClick:()=>j(te.id,"upvote"),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm ${te.upvotes.includes((n==null?void 0:n.uid)||"")?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[w.jsx(x0,{className:"w-4 h-4"}),w.jsx("span",{children:te.upvotes.length})]}),w.jsxs("button",{onClick:()=>j(te.id,"downvote"),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm ${te.downvotes.includes((n==null?void 0:n.uid)||"")?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[w.jsx(GA,{className:"w-4 h-4"}),w.jsx("span",{children:te.downvotes.length})]})]})]},te.id)):w.jsx("div",{className:"text-center py-12",children:w.jsx("p",{className:"text-gray-500",children:"No reviews yet. Be the first to share your thoughts!"})})}),q&&w.jsx("div",{className:"text-center mt-8",children:w.jsx(Lr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:O,disabled:V,className:"px-6 py-2.5 bg-white text-indigo-600 border border-indigo-600 rounded-full hover:bg-indigo-50 transition-colors duration-300",children:V?"Loading...":"Load More Reviews"})})]})]})})}function oY(){const{genre:t}=$0(),[e,n]=x.useState([]),[r,s]=x.useState(!0),[a,u]=x.useState(null),f=t?wM[t]:null;return x.useEffect(()=>{async function h(){if(f)try{s(!0),u(null);const m=f.query,g=await TM(m);n(g)}catch(m){u(m instanceof Error?m.message:"Failed to fetch books"),console.error("Error fetching books:",m)}finally{s(!1)}}h()},[f]),f?w.jsx(Ia,{children:w.jsxs("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
              radial-gradient(circle at 100% 0%, rgba(99, 102, 241, 0.1) 0%, transparent 50%),
              radial-gradient(circle at 0% 100%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
              linear-gradient(to right, rgba(99, 102, 241, 0.05) 1px, transparent 1px),
              linear-gradient(to bottom, rgba(99, 102, 241, 0.05) 1px, transparent 1px)
            `,backgroundSize:"100% 100%, 100% 100%, 2rem 2rem, 2rem 2rem"}}),w.jsx("div",{className:"relative",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"relative py-8 sm:py-12",children:[w.jsx("div",{className:"absolute inset-0 overflow-hidden",children:w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-purple-500/5"})}),w.jsx("div",{className:"relative",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"inline-flex items-center justify-center p-2 bg-white/30 backdrop-blur-sm rounded-2xl mb-4 shadow-xl ring-1 ring-indigo-100",children:w.jsx(f.icon,{className:"w-8 h-8 text-indigo-600"})}),w.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600 mb-3 animate-gradient-x",children:f.title}),w.jsx("p",{className:"text-lg text-indigo-600/70 max-w-2xl mx-auto leading-relaxed",children:f.description})]})})]}),w.jsx("div",{className:"relative pt-4 pb-20",children:r?w.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[w.jsxs("div",{className:"relative",children:[w.jsx(T0,{className:"h-16 w-16 animate-spin text-indigo-500"}),w.jsx("div",{className:"absolute inset-0 animate-ping opacity-50",children:w.jsx(T0,{className:"h-16 w-16 text-indigo-300"})})]}),w.jsx("p",{className:"mt-6 text-xl text-indigo-600/70",children:"Discovering amazing books..."})]}):a?w.jsx("div",{className:"text-center py-16 px-4",children:w.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl max-w-md mx-auto border border-red-100 ring-1 ring-red-50",children:[w.jsx("p",{className:"text-red-500 text-lg mb-4",children:a}),w.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-6 py-3 text-white bg-indigo-600 rounded-xl hover:bg-indigo-700 transition-all duration-200 hover:shadow-lg hover:scale-105",children:[w.jsx(hq,{className:"h-5 w-5"}),w.jsx("span",{children:"Try again"})]})]})}):e.length===0?w.jsx("div",{className:"text-center py-16 px-4",children:w.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-12 shadow-xl max-w-md mx-auto border border-indigo-50 ring-1 ring-indigo-100",children:[w.jsxs("div",{className:"relative mb-6",children:[w.jsx(sq,{className:"h-20 w-20 mx-auto text-indigo-300"}),w.jsx(iM,{className:"h-6 w-6 text-indigo-400 absolute top-0 right-1/3 animate-bounce"})]}),w.jsx("h3",{className:"text-2xl font-bold text-indigo-900 mb-3",children:"No books found"}),w.jsx("p",{className:"text-indigo-600/70 text-lg",children:"We couldn't find any books in this genre. Try checking back later."})]})}):w.jsx("div",{className:"grid gap-8 relative",children:e.map((h,m)=>{var g;return w.jsx("div",{className:"transform hover:-translate-y-1 transition-all duration-200",style:{opacity:0,animation:`fadeSlideIn 0.5s ease-out ${m*.1}s forwards`},children:w.jsx(bM,{id:h.id,title:h.volumeInfo.title,authors:h.volumeInfo.authors||[],thumbnail:((g=h.volumeInfo.imageLinks)==null?void 0:g.thumbnail)||"/placeholder-book.png",description:h.volumeInfo.description,publishedDate:h.volumeInfo.publishedDate,reverse:m%2===1})},h.id)})})})]})}),w.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-1/3 bg-gradient-to-br from-indigo-500/30 to-purple-500/30 blur-3xl opacity-20 animate-pulse"}),w.jsx("div",{className:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-gradient-to-tr from-purple-500/30 to-pink-500/30 blur-3xl opacity-20 animate-pulse delay-1000"})]})}):w.jsx(Ia,{children:w.jsx("div",{className:"min-h-[60vh] flex items-center justify-center bg-gradient-to-b from-white to-indigo-50/50",children:w.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[w.jsx("h1",{className:"text-3xl font-bold text-indigo-900 mb-4",children:"Genre not found"}),w.jsx("p",{className:"text-indigo-600/70",children:"The genre you're looking for doesn't exist or has been moved."})]})})})}function aY(){const{setUser:t,setLoading:e,fetchUserData:n}=Pi();return x.useEffect(()=>{e(!0);const r=Hj(Ur,async s=>{t(s),s&&await n(),e(!1)});return()=>r()},[t,e,n]),w.jsx(K2,{children:w.jsxs(E2,{children:[w.jsx(uo,{path:"/landing",element:w.jsx(_a,{requireAuth:!1,children:w.jsx(E7,{})})}),w.jsx(uo,{path:"/login",element:w.jsx(_a,{requireAuth:!1,children:w.jsx(FB,{})})}),w.jsx(uo,{path:"/signup",element:w.jsx(_a,{requireAuth:!1,children:w.jsx(HB,{})})}),w.jsx(uo,{path:"/",element:w.jsx(_a,{children:w.jsx(m7,{})})}),w.jsx(uo,{path:"/genres/:genre",element:w.jsx(_a,{children:w.jsx(oY,{})})}),w.jsx(uo,{path:"/profile/:username",element:w.jsx(_a,{children:w.jsx(T7,{})})}),w.jsx(uo,{path:"/book/:id",element:w.jsx(_a,{children:w.jsx(sY,{})})})]})})}MO.createRoot(document.getElementById("root")).render(w.jsx(x.StrictMode,{children:w.jsx(aY,{})}));
